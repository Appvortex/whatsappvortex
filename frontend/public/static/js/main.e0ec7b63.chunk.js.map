{"version":3,"sources":["errors/toastError.js","config.js","translate/languages/index.js","translate/languages/pt.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","assets/sound.mp3","assets/wa-background.png","pages/Login/img/wave.png","pages/Login/img/bg.svg","pages/Login/img/avatar.svg","components/MenuModal/index.js","components/MenuModal/my-node.js","components/TableRowSkeleton/index.js","services/socket-io.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","rules.js","components/Can/index.js","layout/MainListItems.js","components/ButtonWithSpinner/index.js","components/MarkdownWrapper/index.js","components/TicketListItem/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","layout/index.js","pages/Dashboard/Title.js","pages/Dashboard/Chart.js","pages/Dashboard/index.js","components/ContactModal/index.js","components/NewTicketModal/index.js","components/TicketsListSkeleton/index.js","components/TicketsList/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TicketsManager/index.js","components/ContactDrawerSkeleton/index.js","components/ContactDrawer/index.js","components/MessageInput/RecordingTimer.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageInput/index.js","hooks/useLocalStorage/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/ConfirmationModal/index.js","hooks/useQueues/index.js","components/TransferTicketModal/index.js","components/TicketOptionsMenu/index.js","components/TicketActionButtons/index.js","components/VcardPreview/index.js","components/LocationPreview/index.js","components/ModalImageCors/index.js","components/MessageOptionsMenu/index.js","components/MessagesList/index.js","components/Ticket/index.js","pages/Tickets/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","pages/Settings/index.js","pages/Users/index.js","components/CompaniesModal/index.js","pages/Companies/index.js","pages/Contacts/index.js","components/QuickAnswersModal/index.js","pages/QuickAnswers/index.js","components/ColorPicker/index.js","components/QueueModal/index.js","pages/Queues/index.js","components/QueueSelectSingle/index.js","components/UserSelect/index.js","components/CommandTypeSelect/index.js","components/CommandModal/index.js","pages/Bots/index.js","pages/Api/index.js","routes/Route.js","routes/index.js","App.js","index.js","services/api.js"],"names":["toastError","err","errorMsg","response","data","message","error","i18n","exists","toast","t","toastId","getConfig","name","defaultValue","undefined","window","ENV","process","getBackendUrl","getHoursCloseTicketsAuto","messages","pt","translations","signup","title","toasts","success","fail","form","email","password","buttons","submit","login","register","auth","dashboard","charts","perDay","inAttendance","waiting","closed","connections","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","disconnect","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","status","lastUpdate","default","actions","session","whatsappModal","edit","farewellMessage","okAdd","okEdit","cancel","qrCode","contacts","searchPlaceholder","importTitlte","importMessage","import","whatsapp","contactModal","mainInfo","extraInfo","number","extraName","extraValue","addExtraInfo","quickAnswersModal","shortcut","queueModal","color","greetingMessage","botModal","commandBot","descriptionBot","commandType","showMessage","userId","queueId","saved","userModal","profile","companyModal","passwordDefault","numberAttendants","numberConections","chat","noTicketMessage","ticketsManager","newTicket","ticketsQueueSelect","placeholder","tickets","notification","tabs","open","search","showAll","transferTicketModal","fieldLabel","fieldQueueLabel","fieldConnectionLabel","fieldQueuePlaceholder","fieldConnectionPlaceholder","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","connectionTitle","accept","newTicketModal","mainDrawer","listItems","quickAnswers","queues","bots","administration","api","users","settings","companies","appBar","user","logout","notifications","noTickets","greeting","hierarchy","queueSelect","inputLabel","compaies","userCreation","options","enabled","disabled","messagesList","header","assignedTo","return","resolve","reopen","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","ticketOptionsMenu","delete","transfer","confirm","messageOptionsMenu","reply","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","titleFrom","es","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","module","exports","useStyles","makeStyles","theme","root","display","flexWrap","dataset","id","MenuModal","onClose","useState","loading","setLoading","classes","handleClose","useEffect","console","log","children","forEach","element","descricao","msg","type","queue","qtComandos","split","length","code","path","index","obj","eval","className","maxWidth","fullWidth","scroll","datasource","chartClass","NodeTemplate","MyNode","columns","nodeData","customTableCell","alignItems","justifyContent","TableRowSkeleton","avatar","style","paddingRight","animation","variant","width","height","Array","from","_","align","key","connectToSocket","openSocket","reducer","state","action","whatsApps","payload","whatsApp","whatsAppIndex","findIndex","s","updatedAt","retries","whatsAppId","splice","useWhatsApps","useReducer","dispatch","get","fetchSession","socket","token","localStorage","getItem","userJWT","jwt_decode","on","companyId","whatsappId","WhatsAppsContext","createContext","WhatsAppsProvider","Provider","value","useAuth","history","useHistory","isAuth","setIsAuth","setUser","interceptors","request","config","headers","JSON","parse","Promise","reject","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","handleLogin","userData","push","handleLogout","AuthContext","AuthProvider","rules","static","admin","Can","role","perform","yes","no","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","check","ListItemLink","props","icon","primary","to","renderLink","React","useMemo","forwardRef","itemProps","ref","ListItem","button","component","ListItemIcon","ListItemText","defaultProps","MainListItems","drawerClose","useContext","connectionWarning","setConnectionWarning","delayDebounceFn","setTimeout","filter","whats","clearTimeout","onClick","Badge","badgeContent","Divider","ListSubheader","inset","position","buttonProgress","green","top","left","marginTop","marginLeft","ButtonWithSpinner","rest","Button","CircularProgress","size","elements","allowedElements","CustomLink","target","rel","MarkdownWrapper","boldRegex","tildaRegex","test","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","el","ticket","pendingTicket","cursor","noTicketsDiv","margin","flexDirection","noTicketsText","textAlign","fontSize","lineHeight","fontWeight","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","alignSelf","marginRight","contactLastMessage","newMessagesCount","badgeStyle","backgroundColor","acceptButton","ticketQueueColor","flex","userTag","right","bottom","background","border","padding","paddingLeft","borderRadius","TicketListItem","ticketId","useParams","isMounted","useRef","current","handleAcepptTicket","put","Fragment","dense","e","selected","clsx","Tooltip","arrow","placement","ListItemAvatar","Avatar","src","contact","profilePicUrl","disableTypography","Typography","noWrap","lastMessage","isSameDay","parseISO","Date","format","secondary","unreadMessages","badge","useTickets","searchParam","pageNumber","date","queueIds","withUnreadMessages","hasMore","setHasMore","setTickets","count","setCount","fetchTickets","params","horasFecharAutomaticamente","Number","dataLimite","setHours","getHours","closeTicket","tabContainer","overflowY","maxHeight","scrollbarStyles","popoverPaper","spacing","breakpoints","down","noShadow","boxShadow","NotificationsPopOver","ticketIdUrl","location","pathname","ticketIdRef","anchorEl","isOpen","setIsOpen","setNotifications","setDesktopNotifications","useSound","alertSound","play","soundAlertRef","historyRef","Notification","requestPermission","emit","prevState","ticketIndex","notfiticationIndex","n","tag","String","close","read","document","visibilityState","isGroup","handleNotifications","body","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","IconButton","aria-label","Popover","disableScrollLock","anchorOrigin","vertical","horizontal","transformOrigin","paper","List","map","chips","chip","QueueSelect","selectedQueueIds","onChange","setQueues","FormControl","InputLabel","Select","multiple","labelWidth","MenuProps","getContentAnchorEl","renderValue","find","q","Chip","label","MenuItem","multFieldLine","btnWrapper","formControl","minWidth","UserSchema","Yup","shape","min","max","required","UserModal","initialState","loggedInUser","setSelectedQueueIds","showPassword","setShowPassword","setWhatsappId","userQueueIds","fetchUser","handleSaveUser","values","Dialog","DialogTitle","initialValues","enableReinitialize","validationSchema","onSubmit","setSubmitting","touched","errors","isSubmitting","DialogContent","dividers","as","TextField","autoFocus","Boolean","helperText","InputProps","endAdornment","InputAdornment","VisibilityOff","Visibility","labelId","DialogActions","backdrop","zIndex","drawer","BackdropLoading","Backdrop","toolbar","toolbarIcon","minHeight","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","up","appBarSpacer","overflow","container","paddingTop","paddingBottom","LoggedInLayout","userModalOpen","setUserModalOpen","setAnchorEl","menuOpen","setMenuOpen","drawerOpen","setDrawerOpen","drawerVariant","setDrawerVariant","offsetWidth","handleCloseMenu","Drawer","AppBar","Toolbar","edge","aria-controls","aria-haspopup","event","currentTarget","Menu","Title","gutterBottom","Chart","useTheme","toISOString","time","amount","chartData","setChartData","aux","startOfHour","createdAt","ResponsiveContainer","BarChart","barSize","CartesianGrid","strokeDasharray","XAxis","dataKey","stroke","palette","text","YAxis","allowDecimals","Label","angle","textAnchor","fill","Bar","main","fixedHeightPaper","customFixedHeightPaper","customFixedHeightPaperLg","Dashboard","GetTickets","Container","Grid","item","xs","Paper","paragraph","textField","extraAttr","ContactSchema","ContactModal","contactId","onSave","setContact","fetchContact","handleSaveContact","marginBottom","remove","info","createFilterOptions","trim","NewTicketModal","modalOpen","setOptions","setSearchParam","selectedContact","setSelectedContact","newContact","setNewContact","contactModalOpen","setContactModalOpen","fetchContacts","handleSaveTicket","Autocomplete","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","getOptionLabel","option","renderOption","filterOptions","filtered","inputValue","newValue","handleSelectOption","renderInput","onKeyPress","TicketsSkeleton","Skeleton","ticketsListWrapper","borderTopRightRadius","borderBottomRightRadius","borderTop","ticketsListHeader","borderBottom","ticketsCount","unshift","TicketsList","updateCount","setPageNumber","shouldUpdateTicket","indexOf","companyID","square","elevation","onScroll","scrollTop","scrollHeight","clientHeight","TicketsListSkeleton","TabPanel","aria-labelledby","TicketsQueueSelect","userQueues","displayEmpty","Checkbox","checked","ticketsWrapper","tabsHeader","settingsIcon","tab","ticketOptionsBox","serachInputWrapper","searchIcon","searchInput","show","hide","TicketsManager","searchTimeout","setTab","tabOpen","setTabOpen","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","searchInputRef","openCount","setOpenCount","pendingCount","setPendingCount","toUpperCase","applyPanelStyle","Tabs","indicatorColor","textColor","Tab","InputBase","inputRef","searchedTerm","toLowerCase","FormControlLabel","labelPlacement","control","Switch","val","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","flexShrink","borderRight","ContactDrawer","handleDrawerClose","setModalOpen","anchor","PaperProps","BackdropProps","ModalProps","getElementById","alt","href","startIcon","timerBox","RecordingTimer","minutes","seconds","timer","setTimer","interval","setInterval","clearInterval","addZero","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","Mp3Recorder","MicRecorder","bitRate","mainWrapper","newMessageBox","messageInputWrapper","messageInput","sendMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","circleLoading","opacity","audioLoading","recorderWrapper","alignContent","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","messageQuickAnswersWrapper","listStyle","textOverflow","MessageInput","ticketStatus","medias","setMedias","inputMessage","setInputMessage","showEmoji","setShowEmoji","recording","setRecording","setQuickAnswer","typeBar","setTypeBar","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","setSignMessage","handleChangeMedias","files","selectedMedias","handleUploadMedia","formData","FormData","append","media","handleSendMessage","fromMe","mediaUrl","quotedMsg","handleStartRecording","navigator","mediaDevices","getUserMedia","audio","start","handleLoadQuickAnswer","substring","handleUploadAudio","stop","getMp3","blob","filename","getTime","handleCancelAudio","handleMenuItemClick","renderReplyingMessage","Hidden","only","ClickAwayListener","onClickAway","perLine","showPreview","showSkinTones","onSelect","emoji","native","htmlFor","keepMounted","input","multiline","maxRows","onPaste","clipboardData","handleInputPaste","shiftKey","messageQuickAnswersWrapperItem","handleQuickAnswersClick","ticketHeader","TicketHeaderSkeleton","Card","CardHeader","titleTypographyProps","subheaderTypographyProps","subheader","TicketHeader","TicketInfo","ConfirmationModal","onConfirm","useQueues","findAll","TransferTicketModal","ticketid","ticketWhatsappId","allQueues","setAllQueues","selectedUser","setSelectedUser","selectedQueue","setSelectedQueue","selectedWhatsapp","setSelectedWhatsapp","findAllQueues","loadingWhatsapps","list","loadQueues","fetchUsers","transf","isArray","noOptionsText","whasapp","TicketOptionsMenu","confirmationOpen","setConfirmationOpen","transferTicketModalOpen","setTransferTicketModalOpen","handleDeleteTicket","handleOpenConfirmationModal","actionButtons","TicketActionButtons","ticketOptionsMenuOpen","handleUpdateTicketStatus","Replay","VcardPreview","numbers","contactObj","handleNewChat","LocationPreview","image","link","description","handleLocation","float","dangerouslySetInnerHTML","__html","clear","messageMedia","objectFit","borderTopLeftRadius","borderBottomLeftRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","url","URL","createObjectURL","Blob","fetchImage","smallSrcSet","medium","large","MessageOptionsMenu","handleDeleteMessage","ticketNunber","messageCenter","verticalAlign","messagesListWrapper","backgroundImage","whatsBackground","messageLeft","quotedContainerLeft","quotedSideColorLeft","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","dailyTimestamp","dailyTimestampText","ackIcons","deletedIcon","ackDoneAllIcon","downloadMedia","newMessages","messageIndex","m","newMessage","messageToUpdate","MessagesList","lastMessageRef","selectedMessage","setSelectedMessage","messageOptionsMenuOpen","currentTicketId","scrollToBottom","fetchMessages","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","mediaType","locationParts","imageLocation","linkLocation","descriptionLocation","array","ind","controls","GetApp","renderDailyTimestamps","messageDay","previousMessageDay","renderNumberTicket","messageTicket","renderMessageDivider","renderQuotedMessage","prevPageNumber","isDeleted","ExpandMore","xmlns","viewBox","d","Block","ack","AccessTime","Done","DoneAll","renderMessageAck","ticketInfo","flexBasis","ticketActionButtons","borderLeft","mainWrapperShift","easeOut","Ticket","setTicket","fetchTicket","chatContainer","chatPapper","contactsWrapper","contactsWrapperSmall","messagessWrapper","welcomeMsg","ticketsManagerClosed","Chat","md","SignUp","handleSignUp","CssBaseline","LockOutlined","autoComplete","Link","RouterLink","Box","mt","Login","handleChangeInput","wave","bg","noValidate","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","SessionSchema","memo","isDefault","setWhatsApp","whatsQueueIds","handleSaveWhatsApp","whatsappData","rows","selectedIds","setQrCode","mainPaper","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","handleStartWhatsAppSession","handleRequestNewQrCode","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","handleSubmitConfirmationModal","renderActionButtons","handleOpenQrModal","Table","TableHead","TableRow","TableCell","TableBody","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","settingOption","Settings","setSettings","company","setCompany","settingIndex","setting","handleChangeSetting","selectedValue","settingKey","getSettingValue","readonly","newUsers","userIndex","u","Users","deletingUser","setDeletingUser","handleDeleteUser","startAdornment","handleEditUser","CompanySchema","CompanyModal","fetchCompany","handleSaveCompany","companyData","newCompanies","companyIndex","Companies","selectedCompany","setSelectedCompany","deletingCompany","setDeletingCompany","companyModalOpen","setCompanyModalOpen","fetchCompanies","handleDeleteCompany","handleEditCompany","newContacts","contactIndex","c","Contacts","selectedContactId","setSelectedContactId","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","handleDeleteContact","handleimportContact","go","textQuickAnswerContainer","QuickAnswerSchema","QuickAnswersModal","quickAnswerId","quickAnswer","fetchQuickAnswer","handleSaveQuickAnswer","newQuickAnswers","quickAnswerIndex","QuickAnswers","selectedQuickAnswers","setSelectedQuickAnswers","quickAnswersModalOpen","setQuickAnswersModalOpen","deletingQuickAnswers","setDeletingQuickAnswers","fetchQuickAnswers","handleDeleteQuickAnswers","handleEditQuickAnswers","ColorPicker","currentColor","selectedColor","setSelectedColor","paperFullWidth","triangle","colors","hex","onChangeComplete","colorAdorment","QueueSchema","QueueModal","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","handleSaveQueue","onFocus","Colorize","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","handleDeleteQueue","handleEditQueue","QueueSelectSingle","UserSelect","setUsers","CommandTypeSelect","selectedCommandId","CommandSchema","CommandModal","commandId","showFields","setShowFields","command","setCommand","fetchCommand","handleSaveCommand","commandData","newBots","bot","botIndex","botId","Bots","botModalOpen","setBotModalOpen","menuModalOpen","setMenuModalOpen","selectedBot","setSelectedBot","handleDeleteBot","handleEditBot","textP","Api","Route","Component","isPrivate","Routes","exact","Signup","Tickets","autoClose","App","locale","setLocale","createTheme","i18nlocale","ptBR","ThemeProvider","ReactDOM","render","axios","baseURL","withCredentials"],"mappings":";qGAAA,mBAoBeA,IAjBI,SAAAC,GAAQ,IAAD,IACnBC,GAAW,UAAAD,EAAIE,gBAAJ,mBAAcC,YAAd,eAAoBC,UAAWJ,EAAIE,SAASC,KAAKE,MAC9DJ,EACCK,IAAKC,OAAL,wBAA6BN,IAChCO,IAAMH,MAAMC,IAAKG,EAAL,wBAAwBR,IAAa,CAChDS,QAAST,IAGVO,IAAMH,MAAMJ,EAAU,CACrBS,QAAST,IAIXO,IAAMH,MAAM,wB,iCChBd,SAASM,EAAUC,GAA0B,IAApBC,EAAmB,uDAAN,KAElC,YAAmBC,IAAfC,OAAOC,IACAD,OAAOC,IAAIJ,IAASC,EAGxBI,oNAAYL,IAASC,EAGzB,SAASK,IACZ,OAAOP,EAAU,yBAGd,SAASQ,IACZ,OAAOR,EAAU,sCAdrB,qE,iGCIMS,EAAQ,uCCJG,CACfC,GAAI,CACFC,aAAc,CACZC,OAAQ,CACNC,MAAO,cACPC,OAAQ,CACNC,QAAS,uDACTC,KAAM,4DAERC,KAAM,CACJhB,KAAM,OACNiB,MAAO,QACPC,SAAU,SAEZC,QAAS,CACPC,OAAQ,YACRC,MAAO,gCAGXA,MAAO,CACLT,MAAO,QACPI,KAAM,CACJC,MAAO,QACPC,SAAU,SAEZC,QAAS,CACPC,OAAQ,SACRE,SAAU,sCAGdC,KAAM,CACJV,OAAQ,CACNC,QAAS,gCAGbU,UAAW,CACTC,OAAQ,CACNC,OAAQ,CACNd,MAAO,mBAGXJ,SAAU,CACRmB,aAAc,CACZf,MAAO,kBAETgB,QAAS,CACPhB,MAAO,cAETiB,OAAQ,CACNjB,MAAO,gBAIbkB,YAAa,CACXlB,MAAO,cACPC,OAAQ,CACNkB,QAAS,sDAEXC,kBAAmB,CACjBC,YAAa,UACbC,cAAe,kEACfC,gBAAiB,cACjBC,kBACE,8DAEJjB,QAAS,CACPkB,IAAK,qBACLC,WAAY,cACZC,SAAU,mBACVC,OAAQ,UACRC,MAAO,eACPC,WAAY,cAEdC,SAAU,CACRC,aAAc,CACZhC,MAAO,yCACPiC,QACE,kHAEJL,OAAQ,CACN5B,MAAO,+BACPiC,QACE,4FAEJC,UAAW,CACTlC,MAAO,4BAETmC,QAAS,CACPnC,MAAO,yCACPiC,QACE,+JAGNG,MAAO,CACLhD,KAAM,OACNiD,OAAQ,SACRC,WAAY,8BACZC,QAAS,YACTC,QAAS,cACTC,QAAS,cAGbC,cAAe,CACb1C,MAAO,CACLyB,IAAK,qBACLkB,KAAM,mBAERvC,KAAM,CACJhB,KAAM,OACNmD,QAAS,YACTK,gBAAiB,yBAEnBrC,QAAS,CACPsC,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEV7C,QAAS,+BAEX8C,OAAQ,CACNpE,QAAS,0CAEXqE,SAAU,CACRjD,MAAO,WACPC,OAAQ,CACNkB,QAAS,oCAEX+B,kBAAmB,eACnB9B,kBAAmB,CACjBC,YAAa,WACb8B,aAAc,oBACd7B,cACE,gGACF8B,cAAe,kDAEjB7C,QAAS,CACP8C,OAAQ,oBACR5B,IAAK,qBAEPW,MAAO,CACLhD,KAAM,OACNkE,SAAU,WACVjD,MAAO,QACPmC,QAAS,gBAGbe,aAAc,CACZvD,MAAO,CACLyB,IAAK,oBACLkB,KAAM,kBAERvC,KAAM,CACJoD,SAAU,mBACVC,UAAW,+BACXrE,KAAM,OACNsE,OAAQ,wBACRrD,MAAO,QACPsD,UAAW,gBACXC,WAAY,SAEdrD,QAAS,CACPsD,aAAc,6BACdhB,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEV7C,QAAS,8BAEX4D,kBAAmB,CACjB9D,MAAO,CACLyB,IAAK,+BACLkB,KAAM,6BAERvC,KAAM,CACJ2D,SAAU,SACVnF,QAAS,sBAEX2B,QAAS,CACPsC,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEV7C,QAAS,yCAEX8D,WAAY,CACVhE,MAAO,CACLyB,IAAK,iBACLkB,KAAM,eAERvC,KAAM,CACJhB,KAAM,OACN6E,MAAO,MACPC,gBAAiB,8BAEnB3D,QAAS,CACPsC,MAAO,YACPC,OAAQ,SACRC,OAAQ,aAGZoB,SAAU,CACRnE,MAAO,CACLyB,IAAK,oBACLkB,KAAM,kBAERvC,KAAM,CACJgE,WAAY,UACZC,eAAgB,kBAChBC,YAAa,OACbC,YAAa,WACbC,OAAQ,YACRC,QAAS,SAEX7E,SAAU,CACR8E,MAAO,8BAETnE,QAAS,CACPsC,MAAO,YACPC,OAAQ,SACRC,OAAQ,aAGZ4B,UAAW,CACT3E,MAAO,CACLyB,IAAK,uBACLkB,KAAM,qBAERvC,KAAM,CACJhB,KAAM,OACNiB,MAAO,QACPC,SAAU,QACVsE,QAAS,SACTtB,SAAU,wBAEZ/C,QAAS,CACPsC,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEV7C,QAAS,iCAEX2E,aAAc,CACZ7E,MAAO,CACLyB,IAAK,oBACLkB,KAAM,kBAERvC,KAAM,CACJhB,KAAM,OACNiB,MAAO,QACPyE,gBAAiB,QACjBC,iBAAkB,cAClBC,iBAAkB,eAEpBzE,QAAS,CACPsC,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEV7C,QAAS,8BAEX+E,KAAM,CACJC,gBAAiB,oDAEnBC,eAAgB,CACd5E,QAAS,CACP6E,UAAW,SAGfC,mBAAoB,CAClBC,YAAa,SAEfC,QAAS,CACPtF,OAAQ,CACNkB,QAAS,6CAEXqE,aAAc,CACZ5G,QAAS,eAEX6G,KAAM,CACJC,KAAM,CAAE1F,MAAO,SACfiB,OAAQ,CAAEjB,MAAO,cACjB2F,OAAQ,CAAE3F,MAAO,UAEnB2F,OAAQ,CACNL,YAAa,8BAEf/E,QAAS,CACPqF,QAAS,UAGbC,oBAAqB,CACnB7F,MAAO,oBACP8F,WAAY,iCACZC,gBAAiB,uBACjBC,qBAAsB,6BACtBC,sBAAuB,qBACvBC,2BAA4B,2BAC5BC,UAAW,6CACX5F,QAAS,CACP6F,GAAI,aACJrD,OAAQ,aAGZsD,YAAa,CACXC,cAAe,aACfC,eAAgB,YAChBC,eAAgB,aAChBC,iBACE,+DACFC,gBAAiB,qDACjBnG,QAAS,CACPoG,OAAQ,YAGZC,eAAgB,CACd5G,MAAO,eACP8F,WAAY,kCACZrE,IAAK,YACLlB,QAAS,CACP6F,GAAI,SACJrD,OAAQ,aAGZ8D,WAAY,CACVC,UAAW,CACTlG,UAAW,YACXM,YAAa,cACbqE,QAAS,UACTtC,SAAU,WACV8D,aAAc,uBACdC,OAAQ,UACRC,KAAM,UACNC,eAAgB,sBAChBC,IAAK,aACLC,MAAO,cACPC,SAAU,sBACVC,UAAW,YAEbC,OAAQ,CACNC,KAAM,CACJ5C,QAAS,SACT6C,OAAQ,UAIdC,cAAe,CACbC,UAAW,8BAEbX,OAAQ,CACNhH,MAAO,QACPoC,MAAO,CACLhD,KAAM,OACN6E,MAAO,MACP2D,SAAU,6BACVpF,QAAS,eAEXjC,QAAS,CACPkB,IAAK,kBAEPL,kBAAmB,CACjBC,YAAa,UACbC,cACE,wKAGN2F,KAAM,CACJjH,MAAO,UACPoC,MAAO,CACLgC,WAAY,UACZE,YAAa,OACbC,YAAa,6BACbC,OAAQ,YACRC,QAAS,QACTjC,QAAS,eAEXjC,QAAS,CACPkB,IAAK,wBACLoG,UAAW,oBAEbzG,kBAAmB,CACjBC,YAAa,UACbC,cACE,mEAEJ1B,SAAU,CACR8E,MAAO,6BACPvD,QAAS,iCAEX0G,UAAW,CACT7H,MAAO,qBAGX8H,YAAa,CACXC,WAAY,SAEdhB,aAAc,CACZ/G,MAAO,uBACPoC,MAAO,CACL2B,SAAU,SACVnF,QAAS,qBACT4D,QAAS,eAEXjC,QAAS,CACPkB,IAAK,gCAEPxB,OAAQ,CACNkB,QAAS,+CAEX+B,kBAAmB,eACnB9B,kBAAmB,CACjBC,YACE,iEACFC,cAAe,+CAGnB8F,MAAO,CACLpH,MAAO,cACPoC,MAAO,CACLhD,KAAM,OACNiB,MAAO,QACPuE,QAAS,SACTtB,SAAU,uBACVd,QAAS,eAEXjC,QAAS,CACPkB,IAAK,wBAEPxB,OAAQ,CACNkB,QAAS,uCAEXC,kBAAmB,CACjBC,YAAa,UACbC,cACE,sHAGN0G,SAAU,CACRhI,MAAO,WACPoC,MAAO,CACLhD,KAAM,OACNiB,MAAO,QACP0E,iBAAkB,aAClBC,iBAAkB,cAClBxC,QAAS,eAEXjC,QAAS,CACPkB,IAAK,qBAEPxB,OAAQ,CACNkB,QAAS,oCAEXC,kBAAmB,CACjBC,YAAa,UACbC,cACE,mHAGN+F,SAAU,CACRnH,QAAS,0CACTF,MAAO,sBACPqH,SAAU,CACRY,aAAc,CACZ7I,KAAM,8BACN8I,QAAS,CACPC,QAAS,UACTC,SAAU,iBAKlBC,aAAc,CACZC,OAAQ,CACNC,WAAY,qBACZhI,QAAS,CACPiI,OAAQ,WACRC,QAAS,WACTC,OAAQ,UACR/B,OAAQ,aAIdgC,cAAe,CACbC,gBAAiB,sFACjBC,kBACE,yDACFC,YAAa,WAEfC,cAAe,CACbT,OAAQ,mBACR/H,QAAS,CACPoC,KAAM,kBAERc,UAAW,4BAEbuF,kBAAmB,CACjBC,OAAQ,UACRC,SAAU,aACV9H,kBAAmB,CACjBpB,MAAO,8BACPpB,QACE,+EAEJ2B,QAAS,CACP0I,OAAQ,UACRlG,OAAQ,aAGZ3B,kBAAmB,CACjBb,QAAS,CACP4I,QAAS,KACTpG,OAAQ,aAGZqG,mBAAoB,CAClBH,OAAQ,UACRI,MAAO,YACPjI,kBAAmB,CACjBpB,MAAO,mBACPpB,QAAS,+CAGb0K,cAAe,CACbC,sBAAuB,+CACvBC,sBACE,8EACFC,yBACE,4FACFC,uBACE,+FACFC,yBAA0B,uDAC1BC,wBACE,4FACFC,wBACE,0DACFC,qBACE,6EACFC,oBAAqB,yDACrBC,sBAAuB,uDACvBC,oBAAqB,uCACrBC,2BACE,qEACFC,kBAAmB,6DACnBC,uBAAwB,8CACxBC,qBAAsB,qDACtBC,qBAAsB,yCACtBC,oBAAqB,4CACrBC,kBAAmB,4CACnBC,kBAAmB,0CACnBC,qBAAsB,4CACtBC,oBAAqB,8CACrBC,mBACE,uEACFC,+BACE,gDACFC,2BACE,uFC3iBO,CACfC,GAAI,CACFjL,aAAc,CACZC,OAAQ,CACNC,MAAO,UACPC,OAAQ,CACNC,QAAS,2CACTC,KAAM,iDAERC,KAAM,CACJhB,KAAM,OACNiB,MAAO,QACPC,SAAU,YAEZC,QAAS,CACPC,OAAQ,WACRC,MAAO,qCAGXA,MAAO,CACLT,MAAO,QACPI,KAAM,CACJC,MAAO,QACPC,SAAU,YAEZC,QAAS,CACPC,OAAQ,QACRE,SAAU,qCAGdC,KAAM,CACJV,OAAQ,CACNC,QAAS,wBAGbU,UAAW,CACTC,OAAQ,CACNC,OAAQ,CACNd,MAAO,oBAGXJ,SAAU,CACRmB,aAAc,CACZf,MAAO,cAETgB,QAAS,CACPhB,MAAO,WAETiB,OAAQ,CACNjB,MAAO,YAIbkB,YAAa,CACXlB,MAAO,cACPC,OAAQ,CACNkB,QAAS,4CAEXC,kBAAmB,CACjBC,YAAa,SACbC,cAAe,uCACfC,gBAAiB,aACjBC,kBAAmB,oDAErBjB,QAAS,CACPkB,IAAK,eACLC,WAAY,aACZC,SAAU,YACVC,OAAQ,UACRC,MAAO,cACPC,WAAY,eAEdC,SAAU,CACRC,aAAc,CACZhC,MAAO,mCACPiC,QACE,kGAEJL,OAAQ,CACN5B,MAAO,2BACPiC,QACE,wFAEJC,UAAW,CACTlC,MAAO,0BAETmC,QAAS,CACPnC,MAAO,2CACPiC,QACE,qIAGNG,MAAO,CACLhD,KAAM,OACNiD,OAAQ,SACRC,WAAY,cACZC,QAAS,UACTC,QAAS,UACTC,QAAS,YAGbC,cAAe,CACb1C,MAAO,CACLyB,IAAK,eACLkB,KAAM,iBAERvC,KAAM,CACJhB,KAAM,OACNmD,QAAS,WAEXhC,QAAS,CACPsC,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAEV7C,QAAS,gCAEX8C,OAAQ,CACNpE,QAAS,oCAEXqE,SAAU,CACRjD,MAAO,WACPC,OAAQ,CACNkB,QAAS,gCAEX+B,kBAAmB,aACnB9B,kBAAmB,CACjBC,YAAa,SACb8B,aAAc,kBACd7B,cACE,kFACF8B,cAAe,sDAEjB7C,QAAS,CACP8C,OAAQ,kBACR5B,IAAK,eAEPW,MAAO,CACLhD,KAAM,OACNkE,SAAU,WACVjD,MAAO,QACPmC,QAAS,YAGbe,aAAc,CACZvD,MAAO,CACLyB,IAAK,cACLkB,KAAM,gBAERvC,KAAM,CACJoD,SAAU,kBACVC,UAAW,yBACXrE,KAAM,OACNsE,OAAQ,kBACRrD,MAAO,QACPsD,UAAW,aACXC,WAAY,SAEdrD,QAAS,CACPsD,aAAc,kBACdhB,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAEV7C,QAAS,+BAEX4D,kBAAmB,CACjB9D,MAAO,CACLyB,IAAK,kBACLkB,KAAM,qBAERvC,KAAM,CACJ2D,SAAU,WACVnF,QAAS,eAEX2B,QAAS,CACPsC,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAEV7C,QAAS,mCAEX8D,WAAY,CACVhE,MAAO,CACLyB,IAAK,YACLkB,KAAM,cAERvC,KAAM,CACJhB,KAAM,OACN6E,MAAO,QACPC,gBAAiB,oBAEnB3D,QAAS,CACPsC,MAAO,MACPC,OAAQ,OACRC,OAAQ,WAGZ8B,aAAc,CACZ7E,MAAO,CACLyB,IAAK,cACLkB,KAAM,gBAERvC,KAAM,CACJhB,KAAM,OACNiB,MAAO,QACPyE,gBAAiB,WACjBC,iBAAkB,QAClBC,iBAAkB,cAEpBzE,QAAS,CACPsC,MAAO,MACPC,OAAQ,QACRC,OAAQ,UAEV7C,QAAS,gBAEXyE,UAAW,CACT3E,MAAO,CACLyB,IAAK,WACLkB,KAAM,aAERvC,KAAM,CACJhB,KAAM,OACNiB,MAAO,QACPC,SAAU,WACVsE,QAAS,UACTtB,SAAU,sBAEZ/C,QAAS,CACPsC,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAEV7C,QAAS,4BAEX+E,KAAM,CACJC,gBAAiB,sCAEnBC,eAAgB,CACd5E,QAAS,CACP6E,UAAW,QAGfC,mBAAoB,CAClBC,YAAa,UAEfC,QAAS,CACPtF,OAAQ,CACNkB,QAAS,4CAEXqE,aAAc,CACZ5G,QAAS,gBAEX6G,KAAM,CACJC,KAAM,CAAE1F,MAAO,SACfiB,OAAQ,CAAEjB,MAAO,YACjB2F,OAAQ,CAAE3F,MAAO,WAEnB2F,OAAQ,CACNL,YAAa,gCAEf/E,QAAS,CACPqF,QAAS,QAGbC,oBAAqB,CACnB7F,MAAO,kBACP8F,WAAY,2BACZC,gBAAiB,oBACjBC,qBAAsB,yBACtBC,sBAAuB,wBACvBC,2BAA4B,6BAC5BC,UAAW,+BACX5F,QAAS,CACP6F,GAAI,WACJrD,OAAQ,WAGZsD,YAAa,CACXC,cAAe,QACfC,eAAgB,aAChBC,eAAgB,gBAChBC,iBAAkB,oDAClBC,gBAAiB,2CACjBnG,QAAS,CACPoG,OAAQ,WAGZC,eAAgB,CACd5G,MAAO,gBACP8F,WAAY,+BACZrE,IAAK,MACLlB,QAAS,CACP6F,GAAI,OACJrD,OAAQ,WAGZ8D,WAAY,CACVC,UAAW,CACTlG,UAAW,YACXM,YAAa,cACbqE,QAAS,UACTtC,SAAU,WACV8D,aAAc,gBACdC,OAAQ,SACRE,eAAgB,iBAChBE,MAAO,QACPC,SAAU,WACVC,UAAW,aAEbC,OAAQ,CACNC,KAAM,CACJ5C,QAAS,UACT6C,OAAQ,YAIdC,cAAe,CACbC,UAAW,qBAEbX,OAAQ,CACNhH,MAAO,SACPoC,MAAO,CACLhD,KAAM,OACN6E,MAAO,QACP2D,SAAU,mBACVpF,QAAS,WAEXjC,QAAS,CACPkB,IAAK,aAEPL,kBAAmB,CACjBC,YAAa,SACbC,cACE,wHAGNwG,YAAa,CACXC,WAAY,UAEdhB,aAAc,CACZ/G,MAAO,gBACPoC,MAAO,CACL2B,SAAU,WACVnF,QAAS,cACT4D,QAAS,WAEXjC,QAAS,CACPkB,IAAK,mBAEPxB,OAAQ,CACNkB,QAAS,qCAEX+B,kBAAmB,YACnB9B,kBAAmB,CACjBC,YAAa,qDACbC,cAAe,kCAGnB8F,MAAO,CACLpH,MAAO,QACPoC,MAAO,CACLhD,KAAM,OACNiB,MAAO,QACPuE,QAAS,UACTtB,SAAU,qBACVd,QAAS,WAEXjC,QAAS,CACPkB,IAAK,YAEPxB,OAAQ,CACNkB,QAAS,6BAEXC,kBAAmB,CACjBC,YAAa,SACbC,cACE,4EAGN0G,SAAU,CACRhI,MAAO,YACPoC,MAAO,CACLhD,KAAM,OACNiB,MAAO,QACP0E,iBAAkB,aAClBC,iBAAkB,aAClBxC,QAAS,WAEXjC,QAAS,CACPkB,IAAK,eAEPxB,OAAQ,CACNkB,QAAS,oBAEXC,kBAAmB,CACjBC,YAAa,SACbC,cACE,mFAGN+F,SAAU,CACRnH,QAAS,+BACTF,MAAO,WACPqH,SAAU,CACRY,aAAc,CACZ7I,KAAM,gBACN8I,QAAS,CACPC,QAAS,UACTC,SAAU,eAKlBC,aAAc,CACZC,OAAQ,CACNC,WAAY,eACZhI,QAAS,CACPiI,OAAQ,SACRC,QAAS,UACTC,OAAQ,SACR/B,OAAQ,YAIdgC,cAAe,CACbC,gBAAiB,sEACjBC,kBAAmB,kDACnBC,YAAa,QAEfC,cAAe,CACbT,OAAQ,kBACR/H,QAAS,CACPoC,KAAM,gBAERc,UAAW,qBAEbuF,kBAAmB,CACjBC,OAAQ,SACRC,SAAU,WACV9H,kBAAmB,CACjBpB,MAAO,kBACPgL,UAAW,gBACXpM,QAAS,0DAEX2B,QAAS,CACP0I,OAAQ,SACRlG,OAAQ,WAGZ3B,kBAAmB,CACjBb,QAAS,CACP4I,QAAS,KACTpG,OAAQ,WAGZqG,mBAAoB,CAClBH,OAAQ,SACRI,MAAO,QACPjI,kBAAmB,CACjBpB,MAAO,kBACPpB,QAAS,oCAGb0K,cAAe,CACbC,sBACE,yDACFC,sBACE,qDACFC,yBACE,oEACFC,uBACE,4DACFC,yBAA0B,uCAC1BC,wBACE,kEACFC,wBAAyB,0CACzBC,qBACE,0DACFC,oBAAqB,yCACrBC,sBACE,mDACFC,oBAAqB,iCACrBC,2BACE,+CACFC,kBAAmB,qDACnBC,uBAAwB,6CACxBC,qBAAsB,iCACtBC,qBAAsB,iCACtBC,oBAAqB,gCACrBC,kBAAmB,8BACnBC,kBAAmB,kCACnBC,qBAAsB,4CACtBC,oBAAqB,2CACrBC,mBACE,+DACFC,+BACE,kDACFC,2BACE,qECpfO,CACfG,GAAI,CACFnL,aAAc,CACZC,OAAQ,CACNC,MAAO,WACPC,OAAQ,CACNC,QACE,gFACFC,KAAM,yDAERC,KAAM,CACJhB,KAAM,SACNiB,MAAO,wBACPC,SAAU,iBAEZC,QAAS,CACPC,OAAQ,gBACRC,MAAO,oDAGXA,MAAO,CACLT,MAAO,sBACPI,KAAM,CACJC,MAAO,wBACPC,SAAU,iBAEZC,QAAS,CACPC,OAAQ,UACRE,SAAU,6CAGdC,KAAM,CACJV,OAAQ,CACNC,QAAS,qCAGbU,UAAW,CACTC,OAAQ,CACNC,OAAQ,CACNd,MAAO,kBAGXJ,SAAU,CACRmB,aAAc,CACZf,MAAO,eAETgB,QAAS,CACPhB,MAAO,aAETiB,OAAQ,CACNjB,MAAO,gBAIbkB,YAAa,CACXlB,MAAO,aACPC,OAAQ,CACNkB,QACE,sEAEJC,kBAAmB,CACjBC,YAAa,SACbC,cAAe,4DACfC,gBAAiB,cACjBC,kBAAmB,4DAErBjB,QAAS,CACPkB,IAAK,kBACLC,WAAY,cACZC,SAAU,wBACVC,OAAQ,UACRC,MAAO,gBACPC,WAAY,cAEdC,SAAU,CACRC,aAAc,CACZhC,MAAO,8CACPiC,QACE,kIAEJL,OAAQ,CACN5B,MAAO,wCACPiC,QACE,sHAEJC,UAAW,CACTlC,MAAO,2BAETmC,QAAS,CACPnC,MAAO,yDACPiC,QACE,wLAGNG,MAAO,CACLhD,KAAM,SACNiD,OAAQ,SACRC,WAAY,6BACZC,QAAS,cACTC,QAAS,WACTC,QAAS,cAGbC,cAAe,CACb1C,MAAO,CACLyB,IAAK,kBACLkB,KAAM,kBAERvC,KAAM,CACJhB,KAAM,SACNmD,QAAS,eAEXhC,QAAS,CACPsC,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEV7C,QAAS,yCAEX8C,OAAQ,CACNpE,QAAS,qDAEXqE,SAAU,CACRjD,MAAO,YACPC,OAAQ,CACNkB,QAAS,4CAEX+B,kBAAmB,YACnB9B,kBAAmB,CACjBC,YAAa,SACb8B,aAAc,qBACd7B,cACE,sGACF8B,cACE,kEAEJ7C,QAAS,CACP8C,OAAQ,qBACR5B,IAAK,oBAEPW,MAAO,CACLhD,KAAM,SACNkE,SAAU,WACVjD,MAAO,wBACPmC,QAAS,aAGbe,aAAc,CACZvD,MAAO,CACLyB,IAAK,mBACLkB,KAAM,mBAERvC,KAAM,CACJoD,SAAU,wBACVC,UAAW,2BACXrE,KAAM,SACNsE,OAAQ,wBACRrD,MAAO,wBACPsD,UAAW,mBACXC,WAAY,SAEdrD,QAAS,CACPsD,aAAc,yBACdhB,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEV7C,QAAS,yCAEX4D,kBAAmB,CACjB9D,MAAO,CACLyB,IAAK,8BACLkB,KAAM,8BAERvC,KAAM,CACJ2D,SAAU,QACVnF,QAAS,uBAEX2B,QAAS,CACPsC,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEV7C,QAAS,+CAEX8D,WAAY,CACVhE,MAAO,CACLyB,IAAK,eACLkB,KAAM,eAERvC,KAAM,CACJhB,KAAM,SACN6E,MAAO,QACPC,gBAAiB,qBAEnB3D,QAAS,CACPsC,MAAO,YACPC,OAAQ,UACRC,OAAQ,aAGZ8B,aAAc,CACZ7E,MAAO,CACLyB,IAAK,cACLkB,KAAM,gBAERvC,KAAM,CACJhB,KAAM,OACNiB,MAAO,QACPyE,gBAAiB,WACjBC,iBAAkB,QAClBC,iBAAkB,cAEpBzE,QAAS,CACPsC,MAAO,MACPC,OAAQ,QACRC,OAAQ,UAEV7C,QAAS,gBAEXyE,UAAW,CACT3E,MAAO,CACLyB,IAAK,kBACLkB,KAAM,kBAERvC,KAAM,CACJhB,KAAM,SACNiB,MAAO,wBACPC,SAAU,gBACVsE,QAAS,SACTtB,SAAU,2BAEZ/C,QAAS,CACPsC,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEV7C,QAAS,wCAEX+E,KAAM,CACJC,gBAAiB,gDAEnBC,eAAgB,CACd5E,QAAS,CACP6E,UAAW,UAGfC,mBAAoB,CAClBC,YAAa,UAEfC,QAAS,CACPtF,OAAQ,CACNkB,QAAS,gDAEXqE,aAAc,CACZ5G,QAAS,cAEX6G,KAAM,CACJC,KAAM,CAAE1F,MAAO,WACfiB,OAAQ,CAAEjB,MAAO,aACjB2F,OAAQ,CAAE3F,MAAO,WAEnB2F,OAAQ,CACNL,YAAa,8BAEf/E,QAAS,CACPqF,QAAS,UAGbC,oBAAqB,CACnB7F,MAAO,oBACP8F,WAAY,+BACZC,gBAAiB,uBACjBC,qBAAsB,4BACtBC,sBAAuB,sBACvBC,2BAA4B,6BAC5BC,UAAW,4CACX5F,QAAS,CACP6F,GAAI,aACJrD,OAAQ,aAGZsD,YAAa,CACXC,cAAe,OACfC,eAAgB,gBAChBC,eAAgB,mBAChBE,gBAAiB,qDACjBD,iBACE,wEACFlG,QAAS,CACPoG,OAAQ,aAGZC,eAAgB,CACd5G,MAAO,eACP8F,WAAY,kCACZrE,IAAK,YACLlB,QAAS,CACP6F,GAAI,UACJrD,OAAQ,aAGZ8D,WAAY,CACVC,UAAW,CACTlG,UAAW,YACXM,YAAa,aACbqE,QAAS,UACTtC,SAAU,YACV8D,aAAc,wBACdC,OAAQ,SACRE,eAAgB,oBAChBE,MAAO,WACPC,SAAU,mBACVC,UAAW,mBAEbC,OAAQ,CACNC,KAAM,CACJ5C,QAAS,SACT6C,OAAQ,sBAIdC,cAAe,CACbC,UAAW,uBAEbX,OAAQ,CACNhH,MAAO,SACPoC,MAAO,CACLhD,KAAM,SACN6E,MAAO,QACP2D,SAAU,oBACVpF,QAAS,kBAEXjC,QAAS,CACPkB,IAAK,gBAEPL,kBAAmB,CACjBC,YAAa,WACbC,cACE,+JAGNwG,YAAa,CACXC,WAAY,UAEdhB,aAAc,CACZ/G,MAAO,wBACPoC,MAAO,CACL2B,SAAU,QACVnF,QAAS,sBACT4D,QAAS,YAEXjC,QAAS,CACPkB,IAAK,+BAEPxB,OAAQ,CACNkB,QAAS,+CAEX+B,kBAAmB,aACnB9B,kBAAmB,CACjBC,YACE,qEACFC,cAAe,yCAGnB8F,MAAO,CACLpH,MAAO,WACPoC,MAAO,CACLhD,KAAM,SACNiB,MAAO,wBACPuE,QAAS,SACTtB,SAAU,0BACVd,QAAS,YAEXjC,QAAS,CACPkB,IAAK,mBAEPxB,OAAQ,CACNkB,QAAS,uCAEXC,kBAAmB,CACjBC,YAAa,SACbC,cACE,oHAGN0G,SAAU,CACRhI,MAAO,YACPoC,MAAO,CACLhD,KAAM,OACNiB,MAAO,QACP0E,iBAAkB,aAClBC,iBAAkB,aAClBxC,QAAS,WAEXjC,QAAS,CACPkB,IAAK,eAEPxB,OAAQ,CACNkB,QAAS,oBAEXC,kBAAmB,CACjBC,YAAa,SACbC,cACE,mFAGN+F,SAAU,CACRnH,QAAS,gDACTF,MAAO,mBACPqH,SAAU,CACRY,aAAc,CACZ7I,KAAM,0BACN8I,QAAS,CACPC,QAAS,aACTC,SAAU,oBAKlBC,aAAc,CACZC,OAAQ,CACNC,WAAY,cACZhI,QAAS,CACPiI,OAAQ,WACRC,QAAS,WACTC,OAAQ,UACR/B,OAAQ,aAIdgC,cAAe,CACbC,gBAAiB,wFACjBC,kBACE,8DACFC,YAAa,UAEfC,cAAe,CACbT,OAAQ,wBACR/H,QAAS,CACPoC,KAAM,mBAERc,UAAW,uBAEbuF,kBAAmB,CACjBC,OAAQ,SACRC,SAAU,aACV9H,kBAAmB,CACjBpB,MAAO,sBACPgL,UAAW,gBACXpM,QACE,qGAEJ2B,QAAS,CACP0I,OAAQ,SACRlG,OAAQ,aAGZ3B,kBAAmB,CACjBb,QAAS,CACP4I,QAAS,KACTpG,OAAQ,aAGZqG,mBAAoB,CAClBH,OAAQ,SACRI,MAAO,YACPjI,kBAAmB,CACjBpB,MAAO,sBACPpB,QAAS,2CAGb0K,cAAe,CACbC,sBACE,kEACFC,sBACE,mFACFC,yBACE,wGACFC,uBACE,sFACFC,yBAA0B,iDAC1BC,wBACE,yFACFC,wBAAyB,kDACzBC,qBACE,gFACFC,oBAAqB,4CACrBC,sBAAuB,+CACvBC,oBAAqB,wCACrBC,2BACE,qEACFC,kBAAmB,iDACnBC,uBAAwB,4CACxBC,qBACE,0DACFC,qBAAsB,oDACtBC,oBAAqB,kDACrBC,kBAAmB,mDACnBC,kBAAmB,0CACnBC,qBAAsB,iDACtBC,oBAAqB,gDACrBC,mBACE,0EACFC,+BACE,4CACFC,2BACE,0ECtfVhM,IAAKoM,IAAIC,KAAkBC,KAAK,CAC/BC,OAAO,EACPC,UAAW,CAAC,gBACZC,YAAa,KACbC,GAAI,CAAC,gBACLC,UAAW7L,K,oBCVZ8L,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,2C,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,gC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,ivPCW3C,IAAMC,UAAYC,iEAAW,SAAAC,GAAK,MAAK,CACnCC,KAAM,CACFC,QAAS,OACTC,SAAU,YAIdC,QAAU,CAAEC,GAAI,KAAMnM,MAAO,UAAWZ,KAAM,aAE5CgN,UAAY,SAAZA,UAAa,MAA6B,IAA3B1G,KAA0B,KAA1BA,KAAM2G,QAAoB,KAApBA,QAAS1N,KAAW,KAAXA,KAEhC,UAA8B2N,qDAAS,GAAvC,iNAAOC,QAAP,cAAgBC,WAAhB,cACMC,QAAUb,YACVc,YAAc,WAChBL,WAyCJ,OAvCAM,sDAAU,WACN,wNAAC,oIACGH,YAAW,GACX,IAEII,QAAQC,IAAI,WAAYlO,MACxBuN,QAAU,CAAEC,GAAI,KAAMnM,MAAO,UAAWZ,KAAM,aAC9C8M,QAAQY,SAAW,GACnBnO,KAAKoO,SAAQ,SAAAC,SACT,IAAMC,UAAoC,IAAxBD,QAAQ1I,YAAoB,CAAE4I,IAAKF,QAAQ3I,eAAgB8I,KAAM,eACvD,IAAxBH,QAAQ1I,YAAoB,CAAE4I,IAAKF,QAAQ3I,eAAgB8I,KAAM,QACrC,IAAxBH,QAAQ1I,YAAoB,CAAE4I,IAAKF,QAAQI,MAAMhO,KAAM+N,KAAM,SACjC,IAAxBH,QAAQ1I,YAAoB,CAAE4I,IAAKF,QAAQxF,KAAKpI,KAAM+N,KAAM,aAAgB,CAAED,IAAK,OAAQC,KAAM,QAEzGE,WAAaL,QAAQ5I,WAAWkJ,MAAM,KAAKC,OAC3CC,KAAO,GACX,GAAmB,IAAfH,WACAG,MAAQ,kJACL,CAEH,IADA,IAAIC,KAAO,UACFC,MAAQ,EAAGA,MAAQL,WAAa,EAAGK,QACxCD,MAAI,oBAAiBT,QAAQ5I,WAAWkJ,MAAM,KAAKI,OAA/C,KAERD,MAAQ,YACRD,MAAI,eAAYC,KAAZ,OACJD,MAAI,UAAOC,KAAP,WACJ,IAAME,IAAM,oKACZH,MAAI,UAAOC,KAAP,uEAA0EE,IAA1E,OAERC,KAAKJ,SAEThB,YAAW,GACb,MAAOhO,KACLD,2DAAWC,KACXgO,YAAW,GAjClB,uDAAD,KAoCD,CAAC7N,OAGA,kEAAKkP,UAAWpB,QAAQV,MACpB,2DAAC,wDAAD,CACIrG,KAAMA,KACN2G,QAASK,YACToB,SAAS,KACTC,WAAS,EACTC,OAAO,SAEP,2DAAC,6DAAD,CAAa7B,GAAG,qBAAhB,UACQrN,+CAAKG,EAAE,0BAEf,sHACI,2DAAC,8DAAD,CAAYgP,WAAY/B,QAASgC,WAAW,UAAUC,aAAcC,0CADxE,KAGC7B,SAAW,2DAAC,6DAAD,CAAkB8B,QAAS,OAQxCjC,iC,iCCzFf,2BAuBegC,IAfA,SAAC,GAAkB,IAAhBE,EAAe,EAAfA,SAKhB,OACE,6BACE,yBAAKT,UAAU,YAAYS,EAAStO,OACpC,yBAAK6N,UAAU,YAAYS,EAASlP,S,4FChB1C,wDAMMwM,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCyC,gBAAiB,CAChBvC,QAAS,OACTwC,WAAY,SACZC,eAAgB,cAyCHC,IArCU,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQN,EAAc,EAAdA,QAC7B5B,EAAUb,IAChB,OACC,oCACC,kBAAC,IAAD,KACE+C,GACA,oCACC,kBAAC,IAAD,CAAWC,MAAO,CAAEC,aAAc,IACjC,kBAAC,IAAD,CACCC,UAAU,OACVC,QAAQ,SACRC,MAAO,GACPC,OAAQ,MAGV,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAUH,UAAU,OAAOG,OAAQ,GAAID,MAAO,OAIhDE,MAAMC,KAAK,CAAE5B,OAAQc,IAAW,SAACe,EAAG1B,GAAJ,OAChC,kBAAC,IAAD,CAAW2B,MAAM,SAASC,IAAK5B,GAC9B,yBAAKG,UAAWpB,EAAQ8B,iBACvB,kBAAC,IAAD,CACCc,MAAM,SACNP,UAAU,OACVG,OAAQ,GACRD,MAAO,c,ylBClCAO,OAJf,WACI,OAAOC,KAAW9P,iB,q0MCGtB,IAAM+P,GAAU,SAACC,EAAOC,GACvB,GAAoB,mBAAhBA,EAAOxC,KAA2B,CACrC,IAAMyC,EAAYD,EAAOE,QAEzB,OAAO,aAAID,GAGZ,GAAoB,qBAAhBD,EAAOxC,KAA6B,CACvC,IAAM2C,EAAWH,EAAOE,QAClBE,EAAgBL,EAAMM,WAAU,SAAAC,GAAC,OAAIA,EAAE9D,KAAO2D,EAAS3D,MAE7D,OAAuB,IAAnB4D,GACHL,EAAMK,GAAiBD,EAChB,aAAIJ,IAEL,CAAEI,GAAR,oBAAqBJ,IAIvB,GAAoB,mBAAhBC,EAAOxC,KAA2B,CACrC,IAAM2C,EAAWH,EAAOE,QAClBE,EAAgBL,EAAMM,WAAU,SAAAC,GAAC,OAAIA,EAAE9D,KAAO2D,EAAS3D,MAE7D,OAAuB,IAAnB4D,GACHL,EAAMK,GAAe1N,OAASyN,EAASzN,OACvCqN,EAAMK,GAAeG,UAAYJ,EAASI,UAC1CR,EAAMK,GAAenO,OAASkO,EAASlO,OACvC8N,EAAMK,GAAeI,QAAUL,EAASK,QACjC,aAAIT,IAEJ,aAAIA,GAIb,GAAoB,qBAAhBC,EAAOxC,KAA6B,CACvC,IAAMiD,EAAaT,EAAOE,QAEpBE,EAAgBL,EAAMM,WAAU,SAAAC,GAAC,OAAIA,EAAE9D,KAAOiE,KAIpD,OAHuB,IAAnBL,GACHL,EAAMW,OAAON,EAAe,GAEtB,aAAIL,GAGZ,GAAoB,UAAhBC,EAAOxC,KACV,MAAO,IAuDMmD,GAnDM,WACpB,MAA8BC,qBAAWd,GAAS,IAAlD,mBAAOG,EAAP,KAAkBY,EAAlB,KACA,EAA8BlE,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KA8CA,OA5CAG,qBAAU,WACTH,GAAW,GACO,yCAAG,gHAEIrF,KAAIsJ,IAAI,cAFZ,gBAEX9R,EAFW,EAEXA,KACR6R,EAAS,CAAErD,KAAM,iBAAkB0C,QAASlR,IAC5C6N,GAAW,GAJQ,gDAMnBA,GAAW,GACXjO,aAAW,EAAD,IAPS,yDAAH,oDAUlBmS,KACE,IAEH/D,qBAAU,WACT,IAAMgE,EAASnB,KAEToB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAUC,aAAWJ,GAoB3B,OAlBAD,EAAOM,GAAP,mBAAsBF,EAAQG,YAAa,SAAAvS,GACtB,WAAhBA,EAAKgR,QACRa,EAAS,CAAErD,KAAM,mBAAoB0C,QAASlR,EAAK2E,cAIrDqN,EAAOM,GAAG,YAAY,SAAAtS,GACD,WAAhBA,EAAKgR,QACRa,EAAS,CAAErD,KAAM,mBAAoB0C,QAASlR,EAAKwS,gBAIrDR,EAAOM,GAAG,mBAAmB,SAAAtS,GACR,WAAhBA,EAAKgR,QACRa,EAAS,CAAErD,KAAM,iBAAkB0C,QAASlR,EAAK8D,aAI5C,WACNkO,EAAOjP,gBAEN,IAEI,CAAEkO,YAAWrD,YCpGf6E,GAAmBC,0BAEnBC,GAAoB,SAAC,GAAkB,IAAhBxE,EAAe,EAAfA,SAC5B,EAA+BwD,KAAvB/D,EAAR,EAAQA,QAASqD,EAAjB,EAAiBA,UAEjB,OACC,kBAACwB,GAAiBG,SAAlB,CAA2BC,MAAO,CAAE5B,YAAWrD,YAC7CO,I,2yMCDJ,IAkHe2E,GAlHC,WACf,IAAMC,EAAUC,cAChB,EAA4BrF,oBAAS,GAArC,mBAAOsF,EAAP,KAAeC,EAAf,KACA,EAA8BvF,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAwBF,mBAAS,IAAjC,mBAAO9E,EAAP,KAAasK,EAAb,KA2GA,OAzGA3K,KAAI4K,aAAaC,QAAQ9G,KACxB,SAAA+G,GACC,IAAMrB,EAAQC,aAAaC,QAAQ,SAKnC,OAJIF,IACHqB,EAAOC,QAAP,+BAA4CC,KAAKC,MAAMxB,IACvDiB,GAAU,IAEJI,KAER,SAAApT,GACCwT,QAAQC,OAAOzT,MAIjBsI,KAAI4K,aAAarT,SAASwM,KACzB,SAAAxM,GACC,OAAOA,IAFT,yCAIC,WAAMG,GAAN,mFACO0T,EAAkB1T,EAAMoT,OACE,OAAvB,OAALpT,QAAK,IAALA,GAAA,UAAAA,EAAOH,gBAAP,eAAiB2D,SAAmBkQ,EAAgBC,OAFzD,uBAGED,EAAgBC,QAAS,EAH3B,SAKyBrL,KAAIsL,KAAK,uBALlC,wBAKU9T,EALV,EAKUA,QAEPkS,aAAa6B,QAAQ,QAASP,KAAKQ,UAAUhU,EAAKiS,QAClDzJ,KAAIyL,SAASV,QAAQW,cAArB,iBAA+ClU,EAAKiS,QARvD,kBAUSzJ,aAAIoL,IAVb,cAYiC,OAAvB,OAAL1T,QAAK,IAALA,GAAA,UAAAA,EAAOH,gBAAP,eAAiB2D,UACpBwO,aAAaiC,WAAW,SACxB3L,KAAIyL,SAASV,QAAQW,mBAAgBvT,EACrCuS,GAAU,IAfZ,kBAiBQQ,QAAQC,OAAOzT,IAjBvB,4CAJD,uDAyBA8N,qBAAU,WACT,IAAMiE,EAAQC,aAAaC,QAAQ,SACnC,wBAAC,2FACIF,EADJ,0CAGyBzJ,KAAIsL,KAAK,uBAHlC,gBAGU9T,EAHV,EAGUA,KACRwI,KAAIyL,SAASV,QAAQW,cAArB,iBAA+ClU,EAAKiS,OACpDiB,GAAU,GACVC,EAAQnT,EAAK6I,MANf,kDAQEjJ,aAAW,EAAD,IARZ,QAWAiO,GAAW,GAXX,yDAAD,KAaE,IAEHG,qBAAU,WACT,IAAMgE,EAASnB,KAQf,OANAmB,EAAOM,GAAG,QAAQ,SAAAtS,GACG,WAAhBA,EAAKgR,QAAuBhR,EAAK6I,KAAK2E,KAAO3E,EAAK2E,IACrD2F,EAAQnT,EAAK6I,SAIR,WACNmJ,EAAOjP,gBAEN,CAAC8F,IAqCG,CAAEoK,SAAQpK,OAAM+E,UAASwG,YAnCf,yCAAG,WAAMC,GAAN,iFACnBxG,GAAW,GADQ,kBAIKrF,KAAIsL,KAAK,cAAeO,GAJ7B,gBAIVrU,EAJU,EAIVA,KACRkS,aAAa6B,QAAQ,QAASP,KAAKQ,UAAUhU,EAAKiS,QAClDzJ,KAAIyL,SAASV,QAAQW,cAArB,iBAA+ClU,EAAKiS,OACpDkB,EAAQnT,EAAK6I,MACbqK,GAAU,GACV7S,IAAMkB,QAAQpB,KAAKG,EAAE,wBACrByS,EAAQuB,KAAK,YACbzG,GAAW,GAXO,kDAalBjO,aAAW,EAAD,IACViO,GAAW,GAdO,0DAAH,sDAmC4B0G,aAjB3B,yCAAG,sFACpB1G,GAAW,GADS,kBAIbrF,KAAI8B,OAAO,gBAJE,OAKnB4I,GAAU,GACVC,EAAQ,IACRjB,aAAaiC,WAAW,SACxB3L,KAAIyL,SAASV,QAAQW,mBAAgBvT,EACrCkN,GAAW,GACXkF,EAAQuB,KAAK,UAVM,kDAYnB1U,aAAW,EAAD,IACViO,GAAW,GAbQ,0DAAH,uDCpGb2G,GAAc9B,0BAEd+B,GAAe,SAAC,GAAkB,IAAhBtG,EAAe,EAAfA,SACvB,EAA6D2E,KAArDlF,EAAR,EAAQA,QAAS/E,EAAjB,EAAiBA,KAAMoK,EAAvB,EAAuBA,OAAQmB,EAA/B,EAA+BA,YAAaG,EAA5C,EAA4CA,aAE5C,OACC,kBAACC,GAAY5B,SAAb,CACCC,MAAO,CAAEjF,UAAS/E,OAAMoK,SAAQmB,cAAaG,iBAE5CpG,ICKWuG,GAlBD,CACb7L,KAAM,CACL8L,OAAQ,IAGTC,MAAO,CACND,OAAQ,CACP,0BACA,0BACA,yBACA,wBACA,8BACA,kCACA,iCCiBGE,GAAM,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,QAAS/U,EAAlB,EAAkBA,KAAMgV,EAAxB,EAAwBA,IAAKC,EAA7B,EAA6BA,GAA7B,OA5BE,SAACH,EAAM9D,EAAQhR,GAC5B,IAAMkV,EAAcR,GAAMI,GAC1B,IAAKI,EAEJ,OAAO,EAGR,IAAMC,EAAoBD,EAAYP,OAEtC,GAAIQ,GAAqBA,EAAkBC,SAASpE,GAEnD,OAAO,EAGR,IAAMqE,EAAqBH,EAAYI,QAEvC,GAAID,EAAoB,CACvB,IAAME,EAAsBF,EAAmBrE,GAC/C,QAAKuE,GAKEA,EAAoBvV,GAE5B,OAAO,EAIPwV,CAAMV,EAAMC,EAAS/U,GAAQgV,IAAQC,KCLtC,SAASQ,GAAaC,GACpB,IAAQC,EAAiCD,EAAjCC,KAAMC,EAA2BF,EAA3BE,QAASC,EAAkBH,EAAlBG,GAAI3G,EAAcwG,EAAdxG,UAErB4G,EAAaC,IAAMC,SACvB,kBACED,IAAME,YAAW,SAACC,EAAWC,GAAZ,OACf,kBAAC,IAAD,eAAYN,GAAIA,EAAIM,IAAKA,GAASD,SAEtC,CAACL,IAGH,OACE,4BACE,kBAACO,EAAA,EAAD,CAAUC,QAAM,EAACC,UAAWR,EAAY5G,UAAWA,GAChDyG,EAAO,kBAACY,EAAA,EAAD,KAAeZ,GAAuB,KAC9C,kBAACa,EAAA,EAAD,CAAcZ,QAASA,MDR/Bf,GAAI4B,aAAe,CAClBzB,IAAK,kBAAM,MACXC,GAAI,kBAAM,OCYX,IA0GeyB,GA1GO,SAAChB,GACrB,IAAQiB,EAAgBjB,EAAhBiB,YACA1F,EAAc2F,qBAAWnE,IAAzBxB,UACApI,EAAS+N,qBAAWpC,IAApB3L,KACR,EAAkD8E,oBAAS,GAA3D,mBAAOkJ,EAAP,KAA0BC,EAA1B,KAwBA,OAtBA9I,qBAAU,WACR,IAAM+I,EAAkBC,YAAW,WAC7B/F,EAAUrC,OAAS,IACAqC,EAAUgG,QAAO,SAACC,GACrC,MACmB,WAAjBA,EAAMxT,QACW,YAAjBwT,EAAMxT,QACW,iBAAjBwT,EAAMxT,QACW,YAAjBwT,EAAMxT,QACW,YAAjBwT,EAAMxT,UAGOkL,OAAS,EACxBkI,GAAqB,GAErBA,GAAqB,MAGxB,KACH,OAAO,kBAAMK,aAAaJ,MACzB,CAAC9F,IAGF,yBAAKmG,QAAST,GACZ,kBAAClB,GAAD,CACEI,GAAG,IACHD,QAAQ,YACRD,KAAM,kBAAC,IAAD,QAER,kBAACF,GAAD,CACEI,GAAG,eACHD,QAASzV,KAAKG,EAAE,oCAChBqV,KACE,kBAAC0B,EAAA,EAAD,CAAOC,aAAcT,EAAoB,IAAM,EAAGvR,MAAM,SACtD,kBAAC,IAAD,SAIN,kBAACmQ,GAAD,CACEI,GAAG,WACHD,QAASzV,KAAKG,EAAE,gCAChBqV,KAAM,kBAAC,IAAD,QAGR,kBAACF,GAAD,CACEI,GAAG,YACHD,QAASzV,KAAKG,EAAE,iCAChBqV,KAAM,kBAAC,IAAD,QAER,kBAACF,GAAD,CACEI,GAAG,gBACHD,QAASzV,KAAKG,EAAE,qCAChBqV,KAAM,kBAAC,KAAD,QAER,kBAACF,GAAD,CACEI,GAAG,SACHD,QAASzV,KAAKG,EAAE,8BAChBqV,KAAM,kBAAC,IAAD,QAER,kBAACF,GAAD,CACEI,GAAG,UACHD,QAASzV,KAAKG,EAAE,+BAChBqV,KAAM,kBAAC,IAAD,QAER,kBAACF,GAAD,CACEI,GAAG,OACHD,QAASzV,KAAKG,EAAE,4BAChBqV,KAAM,kBAAC,KAAD,QAER,kBAACF,GAAD,CACEI,GAAG,YACHD,QAASzV,KAAKG,EAAE,iCAChBqV,KAAM,kBAAC,IAAD,QAER,kBAACd,GAAD,CACEC,KAAMjM,EAAK5C,QACX8O,QAAQ,0BACRC,IAAK,kBACH,oCACE,kBAACuC,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CAAeC,OAAK,GACjBtX,KAAKG,EAAE,wCAEV,kBAACmV,GAAD,CACEI,GAAG,aACHD,QAASzV,KAAKG,EAAE,kCAChBqV,KAAM,kBAAC,IAAD,QAER,kBAACF,GAAD,CACEI,GAAG,QACHD,QAASzV,KAAKG,EAAE,6BAChBqV,KAAM,kBAAC,IAAD,c,sKC1Id1I,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCkJ,OAAQ,CACPqB,SAAU,YAGXC,eAAgB,CACfrS,MAAOsS,KAAM,KACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,QAiBAC,GAbW,SAAC,GAAoC,IAAlCrK,EAAiC,EAAjCA,QAASO,EAAwB,EAAxBA,SAAa+J,EAAW,mBACvDpK,EAAUb,KAEhB,OACC,kBAACkL,GAAA,EAAD,eAAQjJ,UAAWpB,EAAQuI,OAAQ5M,SAAUmE,GAAasK,GACxD/J,EACAP,GACA,kBAACwK,GAAA,EAAD,CAAkBC,KAAM,GAAInJ,UAAWpB,EAAQ6J,mB,0BCzB7CW,GAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAa,SAAC,GAAD,IAAGrK,EAAH,EAAGA,SAAauH,EAAhB,0BAClB,uCAAOA,EAAP,CAAc+C,OAAO,SAASC,IAAI,wBAChCvK,IA6CYwK,GAzCS,SAAC,GAAkB,IAAhBxK,EAAe,EAAfA,SACpByK,EAAY,aACZC,EAAa,WAEhB1K,GAAYA,EAASiH,SAAS,iBAEhCjH,EAAW,MAETA,GAAYA,EAASiH,SAAS,iBAChCjH,EAAW,MAERA,GAAYyK,EAAUE,KAAK3K,KAC9BA,EAAWA,EAAS4K,QAAQH,EAAW,WAEpCzK,GAAY0K,EAAWC,KAAK3K,KAC/BA,EAAWA,EAAS4K,QAAQF,EAAY,WAGzC,IAAMtP,EAAUwM,IAAMC,SAAQ,WAC7B,IAAMgD,EAAkB,CACvBC,uBAAuB,EACvBC,aAAa,EACbC,UAAW,CACVC,EAAG,CAAE9C,UAAWkC,MAUlB,OANAF,GAASlK,SAAQ,SAAAC,GACXkK,GAAgBnD,SAAS/G,KAC7B2K,EAAgBG,UAAU9K,GAAW,SAAAgL,GAAE,OAAIA,EAAGlL,UAAY,UAIrD6K,IACL,IAEH,OAAK7K,EAEE,kBAAC,KAAD,CAAU5E,QAASA,GAAU4E,GAFd,M,qzMClKvB,IAAMlB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCmM,OAAQ,CACP5B,SAAU,YAGX6B,cAAe,CACdC,OAAQ,SAGTC,aAAc,CACbpM,QAAS,OACTiD,OAAQ,QACRoJ,OAAQ,GACRC,cAAe,SACf9J,WAAY,SACZC,eAAgB,UAGjB8J,cAAe,CACdC,UAAW,SACXvU,MAAO,qBACPwU,SAAU,OACVC,WAAY,OAGblS,eAAgB,CACfgS,UAAW,SACXC,SAAU,OACVE,WAAY,MACZN,OAAQ,OAGTO,mBAAoB,CACnB5M,QAAS,OACTyC,eAAgB,iBAGjBoK,gBAAiB,CAChBC,YAAa,YAGdC,YAAa,CACZC,UAAW,SACXF,YAAa,WACbG,YAAa,GACbtC,WAAY,QAGbuC,mBAAoB,CACnBrK,aAAc,IAGfsK,iBAAkB,CACjBH,UAAW,SACXC,YAAa,EACbtC,WAAY,QAGbyC,WAAY,CACXnV,MAAO,QACPoV,gBAAiB9C,KAAM,MAGxB+C,aAAc,CACbjD,SAAU,WACVI,KAAM,OAGP8C,iBAAkB,CACjBC,KAAM,OACNxK,MAAO,MACPC,OAAQ,OACRoH,SAAU,WACVG,IAAK,KACLC,KAAM,MAGPgD,QAAS,CACRpD,SAAU,WACV4C,YAAa,EACbS,MAAO,EACPC,OAAQ,EACRC,WAAY,UACZ3V,MAAO,UACP4V,OAAQ,iBACRC,QAAS,EACTC,YAAa,EACblL,aAAc,EACdmL,aAAc,GACdvB,SAAU,aAwJGwB,GApJQ,SAAC,GAAgB,IAAD,UAAbhC,EAAa,EAAbA,OACnBxL,EAAUb,KACV8F,EAAUC,cAChB,EAA8BrF,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACQ0N,EAAaC,cAAbD,SACFE,EAAYC,kBAAO,GACjB7S,EAAS+N,qBAAWpC,IAApB3L,KAERmF,qBAAU,WACT,OAAO,WACNyN,EAAUE,SAAU,KAEnB,IAEH,IAqByBlb,EArBnBmb,EAAkB,yCAAG,WAAMpO,GAAN,yEAC1BK,GAAW,GADe,kBAGnBrF,KAAIqT,IAAJ,mBAAoBrO,GAAM,CAC/B9J,OAAQ,OACRmC,OAAM,OAAEgD,QAAF,IAAEA,OAAF,EAAEA,EAAM2E,KALU,uDAQzBK,GAAW,GACXjO,aAAW,EAAD,IATe,QAWtB6b,EAAUE,SACb9N,GAAW,GAEZkF,EAAQuB,KAAR,mBAAyB9G,IAdC,yDAAH,sDAyBxB,OACC,kBAAC,IAAMsO,SAAP,CAAgBnL,IAAK2I,EAAO9L,IAC3B,kBAAC4I,EAAA,EAAD,CACC2F,OAAK,EACL1F,QAAM,EACNe,QAAS,SAAA4E,GAbe,IAAAxO,EAcD,YAAlB8L,EAAO5V,SAdY8J,EAeJ8L,EAAO9L,GAd7BuF,EAAQuB,KAAR,mBAAyB9G,MAgBvByO,SAAUV,IAAaA,IAAajC,EAAO9L,GAC3C0B,UAAWgN,YAAKpO,EAAQwL,OAAT,eACbxL,EAAQyL,cAAkC,YAAlBD,EAAO5V,UAGjC,kBAACyY,GAAA,EAAD,CACCC,OAAK,EACLC,UAAU,QACVhb,OAAO,UAAAiY,EAAO7K,aAAP,eAAchO,OAAQ,YAE7B,0BACCwP,MAAO,CAAEyK,iBAAiB,UAAApB,EAAO7K,aAAP,eAAcnJ,QAAS,WACjD4J,UAAWpB,EAAQ8M,oBAGrB,kBAAC0B,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CAAQC,IAAG,OAAElD,QAAF,IAAEA,GAAF,UAAEA,EAAQmD,eAAV,aAAE,EAAiBC,iBAE/B,kBAAClG,EAAA,EAAD,CACCmG,mBAAiB,EACjB/G,QACC,0BAAM1G,UAAWpB,EAAQmM,oBACxB,kBAAC2C,EAAA,EAAD,CACCC,QAAM,EACNvG,UAAU,OACVlG,QAAQ,QACR9K,MAAM,eAELgU,EAAOmD,QAAQhc,MAEE,WAAlB6Y,EAAO5V,QACP,kBAAC2T,EAAA,EAAD,CACCnI,UAAWpB,EAAQsM,YACnB9C,aAAc,SACdhS,MAAM,YAGPgU,EAAOwD,aACP,kBAACF,EAAA,EAAD,CACC1N,UAAWpB,EAAQoM,gBACnB5D,UAAU,OACVlG,QAAQ,QACR9K,MAAM,iBAELyX,aAAUC,aAAS1D,EAAO/H,WAAY,IAAI0L,MAC1C,oCAAGC,aAAOF,aAAS1D,EAAO/H,WAAY,UAEtC,oCAAG2L,aAAOF,aAAS1D,EAAO/H,WAAY,gBAIxC+H,EAAO9G,YACP,yBAAKtD,UAAWpB,EAAQgN,QAASzZ,MAAOlB,KAAKG,EAAE,gCAA/C,oBAAmFgZ,EAAO3U,gBAA1F,aAAmF,EAAiBlE,KAApG,aAjEkBA,EAiE0G,UAAC6Y,EAAOzQ,YAAR,aAAC,EAAapI,UAhEhIE,IAATF,EAAA,cAA4BA,EAA5B,KAAsC,OAoE1C0c,UACC,0BAAMjO,UAAWpB,EAAQmM,oBACxB,kBAAC2C,EAAA,EAAD,CACC1N,UAAWpB,EAAQyM,mBACnBsC,QAAM,EACNvG,UAAU,OACVlG,QAAQ,QACR9K,MAAM,iBAELgU,EAAOwD,YACP,kBAAC,GAAD,KAAkBxD,EAAOwD,aAEzB,8BAIF,kBAACzF,EAAA,EAAD,CACCnI,UAAWpB,EAAQ0M,iBACnBlD,aAAcgC,EAAO8D,eACrBtP,QAAS,CACRuP,MAAOvP,EAAQ2M,iBAMD,YAAlBnB,EAAO5V,QACP,kBAAC,GAAD,CACC4B,MAAM,UACN8K,QAAQ,YACRlB,UAAWpB,EAAQ6M,aACnBtC,KAAK,QACLzK,QAASA,EACTwJ,QAAS,SAAA4E,GAAC,OAAIJ,EAAmBtC,EAAO9L,MAEvCrN,KAAKG,EAAE,gCAIX,kBAACiX,EAAA,EAAD,CAASnH,QAAQ,QAAQkG,UAAU,S,2yMC/PtC,IAiFegH,GAjFI,SAAC,GAQb,IAPHC,EAOE,EAPFA,YACAC,EAME,EANFA,WACA9Z,EAKE,EALFA,OACA+Z,EAIE,EAJFA,KACAxW,EAGE,EAHFA,QACAyW,EAEE,EAFFA,SACAC,EACE,EADFA,mBAEA,EAA8BhQ,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,oBAAS,GAAvC,mBAAOiQ,EAAP,KAAgBC,EAAhB,KACA,EAA8BlQ,mBAAS,IAAvC,mBAAO/G,EAAP,KAAgBkX,EAAhB,KACA,EAA0BnQ,mBAAS,GAAnC,mBAAOoQ,EAAP,KAAcC,EAAd,KAkEA,OAhEAhQ,qBAAU,WACNH,GAAW,GACX,IAAMkJ,EAAkBC,YAAW,WAC/B,IAAMiH,EAAY,yCAAG,oHAEUzV,KAAIsJ,IAAI,WAAY,CACvCoM,OAAQ,CACJX,cACAC,aACA9Z,SACA+Z,OACAxW,UACAyW,WACAC,wBAVK,gBAEL3d,EAFK,EAELA,KAWR8d,EAAW9d,EAAK4G,SAEZuX,EAA6Bnd,eAElB,SAAX0C,GAAqBya,GAA6D,KAA/BA,GACpB,MAA/BA,GAAsCC,OAAOD,GAA8B,KAEvEE,EAAa,IAAIpB,MACVqB,SAASD,EAAWE,WAAaH,OAAOD,IAEnDne,EAAK4G,QAAQwH,SAAQ,SAAAkL,GACK,WAAlBA,EAAO5V,SAC0B,IAAIuZ,KAAK3D,EAAO/H,WAChB8M,GAC7BG,EAAYlF,QAK5BuE,EAAW7d,EAAK4d,SAChBI,EAAShe,EAAK+d,OACdlQ,GAAW,GAlCE,kDAoCbA,GAAW,GACXjO,aAAW,EAAD,IArCG,0DAAH,qDAyCZ4e,EAAW,yCAAG,WAAMlF,GAAN,kFACV9Q,KAAIqT,IAAJ,mBAAoBvC,EAAO9L,IAAM,CACnC9J,OAAQ,SACRmC,OAAQyT,EAAOzT,QAAU,OAHb,2CAAH,sDAOjBoY,MACD,KACH,OAAO,kBAAM9G,aAAaJ,MAC3B,CACCwG,EACAC,EACA9Z,EACA+Z,EACAxW,EACAyW,EACAC,IAGG,CAAE/W,UAASgH,UAASgQ,UAASG,U,qBC7DlC9Q,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCsR,aAAa,cACZC,UAAW,OACXC,UAAW,KACRxR,EAAMyR,iBAEVC,aAAa,aACZxO,MAAO,OACPlB,SAAU,IACV6I,WAAY7K,EAAM2R,QAAQ,GAC1BxE,YAAanN,EAAM2R,QAAQ,IAC1B3R,EAAM4R,YAAYC,KAAK,MAAQ,CAC/B7P,SAAU,MAGZ8P,SAAU,CACTC,UAAW,uBAqMEC,GAjMc,WAC5B,IAAMrR,EAAUb,KAEV8F,EAAUC,cACRnK,EAAS+N,qBAAWpC,IAApB3L,KACFuW,GAAerM,EAAQsM,SAASC,SAAS3Q,MAAM,KAAK,GACpD4Q,EAAc7D,iBAAO0D,GACrBI,EAAW9D,mBACjB,EAA4B/N,oBAAS,GAArC,mBAAO8R,EAAP,KAAeC,EAAf,KACA,EAA0C/R,mBAAS,IAAnD,mBAAO5E,EAAP,KAAsB4W,EAAtB,KAEA,EAAoChS,mBAAS,IAApCiS,EAAT,oBAEQhZ,EAAY0W,GAAW,CAAEK,mBAAoB,SAA7C/W,QACR,EAAeiZ,aAASC,MAAjBC,EAAP,oBACMC,EAAgBtE,mBAEhBuE,EAAavE,iBAAO3I,GAE1B/E,qBAAU,WACTgS,EAAcrE,QAAUoE,EAElB,iBAAkBnf,OAGvBsf,aAAaC,oBAFblS,QAAQC,IAAI,gDAIX,CAAC6R,IAEJ/R,qBAAU,WACT2R,EAAiB/Y,KACf,CAACA,IAEJoH,qBAAU,WACTuR,EAAY5D,QAAUyD,IACpB,CAACA,IAEJpR,qBAAU,WACT,IAAMgE,EAASnB,KACToB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAUC,aAAWJ,GAwD3B,OAtDAD,EAAOM,GAAG,WAAW,kBAAMN,EAAOoO,KAAK,uBAEvCpO,EAAOM,GAAG,UAAU,SAAAtS,GACC,iBAAhBA,EAAKgR,QAA6C,WAAhBhR,EAAKgR,SAC1C2O,GAAiB,SAAAU,GAChB,IAAMC,EAAcD,EAAUhP,WAAU,SAAA/Q,GAAC,OAAIA,EAAEkN,KAAOxN,EAAKub,YAC3D,OAAqB,IAAjB+E,GACHD,EAAU3O,OAAO4O,EAAa,GACvB,aAAID,IAELA,KAGRT,GAAwB,SAAAS,GACvB,IAAME,EAAqBF,EAAUhP,WACpC,SAAAmP,GAAC,OAAIA,EAAEC,MAAQC,OAAO1gB,EAAKub,aAE5B,OAA4B,IAAxBgF,GACHF,EAAUE,GAAoBI,QAC9BN,EAAU3O,OAAO6O,EAAoB,GAC9B,aAAIF,IAELA,SAKVrO,EAAOM,GAAP,qBAAwBF,EAAQG,YAAa,SAAAvS,GAC5C,GACiB,WAAhBA,EAAKgR,SACJhR,EAAKC,QAAQ2gB,OACb5gB,EAAKsZ,OAAOzT,UAAZ,OAAuBgD,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAM2E,MAAOxN,EAAKsZ,OAAOzT,QAChD,CAgBD,GAfA8Z,GAAiB,SAAAU,GAChB,IAAMC,EAAcD,EAAUhP,WAAU,SAAA/Q,GAAC,OAAIA,EAAEkN,KAAOxN,EAAKsZ,OAAO9L,MAClE,OAAqB,IAAjB8S,GACHD,EAAUC,GAAetgB,EAAKsZ,OACvB,aAAI+G,IAEN,CAAErgB,EAAKsZ,QAAb,oBAAwB+G,OAIvBrgB,EAAKC,QAAQsb,WAAagE,EAAY5D,SACT,YAA7BkF,SAASC,iBACT9gB,EAAKsZ,OAAOzT,QAAU7F,EAAKsZ,OAAOzT,UAAZ,OAAuBgD,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAM2E,KACpDxN,EAAKsZ,OAAOyH,QAEY,OAEzBC,EAAoBhhB,OAIf,WACNgS,EAAOjP,gBAEN,CAAC8F,IAEJ,IAAMmY,EAAsB,SAAAhhB,GAC3B,IAAQC,EAA6BD,EAA7BC,QAASwc,EAAoBzc,EAApByc,QAASnD,EAAWtZ,EAAXsZ,OAEpB/P,EAAU,CACf0X,KAAK,GAAD,OAAKhhB,EAAQghB,KAAb,cAAuB/D,aAAO,IAAID,KAAQ,UAC9CtH,KAAM8G,EAAQC,cACd+D,IAAKnH,EAAO9L,GACZ0T,UAAU,GAGLra,EAAe,IAAIqZ,aAAJ,UACjB/f,KAAKG,EAAE,gCADU,YACyBmc,EAAQhc,MACrD8I,GAGD1C,EAAasa,QAAU,SAAAnF,GACtBA,EAAEoF,iBACFxgB,OAAOygB,QACPpB,EAAWtE,QAAQrH,KAAnB,mBAAoCgF,EAAO9L,MAG5CoS,GAAwB,SAAAS,GACvB,IAAME,EAAqBF,EAAUhP,WACpC,SAAAmP,GAAC,OAAIA,EAAEC,MAAQ5Z,EAAa4Z,OAE7B,OAA4B,IAAxBF,GACHF,EAAUE,GAAsB1Z,EACzB,aAAIwZ,IAEN,CAAExZ,GAAR,oBAAyBwZ,OAG1BL,EAAcrE,WAOT2F,EAAkB,WACvB5B,GAAU,IAGL6B,EAAqB,SAAC,GAAkB,IAAhBpT,EAAe,EAAfA,SAC7B,OAAO,yBAAKiJ,QAASkK,GAAkBnT,IAGxC,OACC,oCACC,kBAACqT,EAAA,EAAD,CACCpK,QAfiB,WACnBsI,GAAU,SAAAW,GAAS,OAAKA,MAetBlK,IAAKqJ,EACLiC,aAAW,qBACXnc,MAAM,WAEN,kBAAC+R,EAAA,EAAD,CAAOC,aAAcvO,EAAc6F,OAAQtJ,MAAM,aAChD,kBAAC,KAAD,QAGF,kBAACoc,GAAA,EAAD,CACCC,mBAAiB,EACjB5a,KAAM0Y,EACND,SAAUA,EAAS7D,QACnBiG,aAAc,CACbC,SAAU,SACVC,WAAY,SAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,SAEbhU,QAAS,CAAEkU,MAAOlU,EAAQ+Q,cAC1BnR,QAAS4T,GAET,kBAACW,EAAA,EAAD,CAAMlG,OAAK,EAAC7M,UAAWpB,EAAQ2Q,cACJ,IAAzB1V,EAAc6F,OACd,kBAACwH,EAAA,EAAD,KACC,kBAACI,EAAA,EAAD,KAAerW,KAAKG,EAAE,6BAGvByI,EAAcmZ,KAAI,SAAA5I,GAAM,OACvB,kBAACiI,EAAD,CAAoB5Q,IAAK2I,EAAO9L,IAC/B,kBAAC,GAAD,CAAgB8L,OAAQA,Y,q7MCvNhC,IAAMrM,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCgV,MAAO,CACN9U,QAAS,OACTC,SAAU,QAEX8U,KAAM,CACL1I,OAAQ,OAwEK2I,GApEK,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,iBAAkBC,EAAe,EAAfA,SAClCzU,EAAUb,KAChB,EAA4BU,mBAAS,IAArC,mBAAOtF,EAAP,KAAema,EAAf,KAEAxU,qBAAU,WACT,wBAAC,gHAEwBxF,KAAIsJ,IAAI,UAFhC,gBAES9R,EAFT,EAESA,KACRwiB,EAAUxiB,GAHX,gDAKCJ,aAAW,EAAD,IALX,wDAAD,KAQE,IAMH,OACC,yBAAKqQ,MAAO,CAAE8H,UAAW,IACxB,kBAAC0K,GAAA,EAAD,CAAarT,WAAS,EAACsK,OAAO,QAAQtJ,QAAQ,YAC7C,kBAACsS,GAAA,EAAD,KAAaviB,KAAKG,EAAE,2BACpB,kBAACqiB,GAAA,EAAD,CACCC,UAAQ,EACRC,WAAY,GACZhQ,MAAOyP,EACPC,SAZiB,SAAAvG,GACpBuG,EAASvG,EAAEvD,OAAO5F,QAYfiQ,UAAW,CACVlB,aAAc,CACbC,SAAU,SACVC,WAAY,QAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,QAEbiB,mBAAoB,MAErBC,YAAa,SAAA/G,GAAQ,OACpB,yBAAK/M,UAAWpB,EAAQqU,QACd,OAARlG,QAAQ,IAARA,OAAA,EAAAA,EAAUrN,QAAS,GACnBqN,EAASiG,KAAI,SAAA1U,GACZ,IAAMiB,EAAQpG,EAAO4a,MAAK,SAAAC,GAAC,OAAIA,EAAE1V,KAAOA,KACxC,OAAOiB,EACN,kBAAC0U,GAAA,EAAD,CACCxS,IAAKnD,EACLyC,MAAO,CAAEyK,gBAAiBjM,EAAMnJ,OAChC8K,QAAQ,WACRgT,MAAO3U,EAAMhO,KACbyO,UAAWpB,EAAQsU,OAEjB,WAKP/Z,EAAO6Z,KAAI,SAAAzT,GAAK,OAChB,kBAAC4U,EAAA,EAAD,CAAU1S,IAAKlC,EAAMjB,GAAIqF,MAAOpE,EAAMjB,IACpCiB,EAAMhO,a,2yMC5Cd,IAAMwM,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCC,KAAM,CACLC,QAAS,OACTC,SAAU,QAEXgW,cAAe,CACdjW,QAAS,OACT,yBAA0B,CACzBiN,YAAanN,EAAM2R,QAAQ,KAI7ByE,WAAY,CACX7L,SAAU,YAGXC,eAAgB,CACfrS,MAAOsS,KAAM,KACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,IAEdwL,YAAa,CACZ9J,OAAQvM,EAAM2R,QAAQ,GACtB2E,SAAU,SAINC,GAAaC,OAAaC,MAAM,CACrCnjB,KAAMkjB,OACJE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,YACXpiB,SAAUgiB,OAAaE,IAAI,EAAG,cAAcC,IAAI,GAAI,aACpDpiB,MAAOiiB,OAAajiB,MAAM,iBAAiBqiB,SAAS,cAuOtCC,GApOG,SAAC,GAA+B,IAA7Bjd,EAA4B,EAA5BA,KAAM2G,EAAsB,EAAtBA,QAAS7H,EAAa,EAAbA,OAC7BiI,EAAUb,KAEVgX,EAAe,CACpBxjB,KAAM,GACNiB,MAAO,GACPC,SAAU,GACVsE,QAAS,QAGIie,EAAiBtN,qBAAWpC,IAAlC3L,KAER,EAAwB8E,mBAASsW,GAAjC,mBAAOpb,EAAP,KAAasK,EAAb,KACA,EAAgDxF,mBAAS,IAAzD,mBAAO2U,EAAP,KAAyB6B,EAAzB,KACA,EAAwCxW,oBAAS,GAAjD,mBAAOyW,EAAP,KAAqBC,EAArB,KACA,EAAoC1W,oBAAS,GAA7C,mBAAO6E,EAAP,KAAmB8R,EAAnB,KACA,EAA6B3S,KAAtB/D,EAAP,EAAOA,QAASqD,EAAhB,EAAgBA,UAEhBjD,qBAAU,YACM,yCAAG,8FACZnI,EADY,0EAGO2C,KAAIsJ,IAAJ,iBAAkBjM,IAHzB,gBAGR7F,EAHQ,EAGRA,KACRmT,GAAQ,SAAAkN,GACP,OAAO,6BAAKA,GAAcrgB,MAErBukB,EAPU,UAOKvkB,EAAKqI,cAPV,aAOK,EAAa6Z,KAAI,SAAAzT,GAAK,OAAIA,EAAMjB,MACrD2W,EAAoBI,GACpBD,EAActkB,EAAKwS,WAAaxS,EAAKwS,WAAa,IATlC,kDAWhB5S,aAAW,EAAD,IAXM,0DAAH,qDAef4kB,KACE,CAAC3e,EAAQkB,IAEZ,IAAMgH,EAAc,WACnBL,IACAyF,EAAQ8Q,IAGHQ,EAAc,yCAAG,WAAMC,GAAN,2EAChBrQ,EADgB,6BACAqQ,GADA,IACQlS,aAAYkL,SAAU4E,IAD9B,UAGjBzc,EAHiB,gCAId2C,KAAIqT,IAAJ,iBAAkBhW,GAAUwO,GAJd,6CAMd7L,KAAIsL,KAAK,SAAUO,GANL,OAQrBhU,IAAMkB,QAAQpB,KAAKG,EAAE,sBARA,kDAUrBV,aAAW,EAAD,IAVW,QAYtBmO,IAZsB,0DAAH,sDAepB,OACC,yBAAKmB,UAAWpB,EAAQV,MACvB,kBAACuX,GAAA,EAAD,CACC5d,KAAMA,EACN2G,QAASK,EACToB,SAAS,KACTC,WAAS,EACTC,OAAO,SAEP,kBAACuV,GAAA,EAAD,CAAapX,GAAG,qBACR,UAAN3H,EACK1F,KAAKG,EAAE,wBACPH,KAAKG,EAAE,yBAEd,kBAAC,KAAD,CACCukB,cAAehc,EACfic,oBAAoB,EACpBC,iBAAkBrB,GAClBsB,SAAU,SAACN,EAAQ7gB,GAClBmT,YAAW,WACVyN,EAAeC,GACf7gB,EAAQohB,eAAc,KACpB,QAGH,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,OAAQC,EAApB,EAAoBA,aAApB,OACA,kBAAC,KAAD,KACC,kBAACC,GAAA,EAAD,CAAeC,UAAQ,GACtB,yBAAKpW,UAAWpB,EAAQwV,eACvB,kBAAC,KAAD,CACCiC,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,uBACdmlB,WAAS,EACThlB,KAAK,OACLP,MAAOglB,EAAQzkB,MAAQilB,QAAQP,EAAO1kB,MACtCklB,WAAYT,EAAQzkB,MAAQ0kB,EAAO1kB,KACnC2P,QAAQ,WACRsJ,OAAO,QACPtK,WAAS,IAEV,kBAAC,KAAD,CACCmW,GAAIC,KACJ/kB,KAAK,WACL2P,QAAQ,WACRsJ,OAAO,QACP0J,MAAOjjB,KAAKG,EAAE,2BACdJ,MAAOglB,EAAQvjB,UAAY+jB,QAAQP,EAAOxjB,UAC1CgkB,WAAYT,EAAQvjB,UAAYwjB,EAAOxjB,SACvC6M,KAAM4V,EAAe,OAAS,WAC9BwB,WAAY,CACZC,aACC,kBAACC,GAAA,EAAD,CAAgBpO,SAAS,OACzB,kBAAC8J,EAAA,EAAD,CACCC,aAAW,6BACXrK,QAAS,kBAAMiN,GAAgB,SAACrI,GAAD,OAAQA,OAEtCoI,EAAe,kBAAC2B,GAAA,EAAD,MAAoB,kBAACC,GAAA,EAAD,SAKtC5W,WAAS,KAGX,yBAAKF,UAAWpB,EAAQwV,eACvB,kBAAC,KAAD,CACCiC,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,wBACdG,KAAK,QACLP,MAAOglB,EAAQxjB,OAASgkB,QAAQP,EAAOzjB,OACvCikB,WAAYT,EAAQxjB,OAASyjB,EAAOzjB,MACpC0O,QAAQ,WACRsJ,OAAO,QACPtK,WAAS,IAEV,kBAACqT,GAAA,EAAD,CACCrS,QAAQ,WACRlB,UAAWpB,EAAQ0V,YACnB9J,OAAO,SAEP,kBAAC7E,GAAD,CACCC,KAAMoP,EAAaje,QACnB8O,QAAQ,yBACRC,IAAK,kBACJ,oCACC,kBAAC0N,GAAA,EAAD,CAAYlV,GAAG,iCACbrN,KAAKG,EAAE,2BAGT,kBAAC,KAAD,CACCilB,GAAI5C,KACJS,MAAOjjB,KAAKG,EAAE,0BACdG,KAAK,UACLwlB,QAAQ,0BACRzY,GAAG,oBACHuW,UAAQ,GAER,kBAACV,EAAA,EAAD,CAAUxQ,MAAM,SAAhB,SACA,kBAACwQ,EAAA,EAAD,CAAUxQ,MAAM,QAAhB,eAON,kBAACgC,GAAD,CACCC,KAAMoP,EAAaje,QACnB8O,QAAQ,wBACRC,IAAK,kBACJ,kBAAC,GAAD,CACCsN,iBAAkBA,EAClBC,SAAU,SAAAmC,GAAM,OAAIP,EAAoBO,SAI3C,kBAAC7P,GAAD,CACCC,KAAMoP,EAAaje,QACnB8O,QAAQ,wBACRC,IAAK,kBAAQpH,GACZ,kBAAC6U,GAAA,EAAD,CAAarS,QAAQ,WAAWsJ,OAAO,QAAQxK,UAAWpB,EAAQqB,SAAUC,WAAS,GACpF,kBAACsT,GAAA,EAAD,KAAaviB,KAAKG,EAAE,4BACpB,kBAAC,KAAD,CACCilB,GAAI5C,KACJ9P,MAAOL,EACP+P,SAAU,SAACvG,GAAD,OAAOsI,EAActI,EAAEvD,OAAO5F,QACxCuQ,MAAOjjB,KAAKG,EAAE,4BAEd,kBAAC+iB,EAAA,EAAD,CAAUxQ,MAAO,IAAjB,QACC5B,EAAUiR,KAAI,SAACvd,GAAD,OACd,kBAAC0e,EAAA,EAAD,CAAU1S,IAAKhM,EAAS6I,GAAIqF,MAAOlO,EAAS6I,IAAK7I,EAASlE,eAOhE,kBAACylB,GAAA,EAAD,KACC,kBAAC/N,GAAA,EAAD,CACCf,QAASrJ,EACTzI,MAAM,YACNmE,SAAU2b,EACVhV,QAAQ,YAEPjQ,KAAKG,EAAE,6BAET,kBAAC6X,GAAA,EAAD,CACC3J,KAAK,SACLlJ,MAAM,UACNmE,SAAU2b,EACVhV,QAAQ,YACRlB,UAAWpB,EAAQyV,YAEZ,UAAN1d,EACK1F,KAAKG,EAAE,4BACPH,KAAKG,EAAE,4BACZ8kB,GACA,kBAAChN,GAAA,EAAD,CACCC,KAAM,GACNnJ,UAAWpB,EAAQ6J,0B,UC5RxB1K,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCgZ,SAAU,CACTC,OAAQjZ,EAAMiZ,OAAOC,OAAS,EAC9B/gB,MAAO,YAaMghB,GATS,WACvB,IAAMxY,EAAUb,KAChB,OACC,kBAACsZ,GAAA,EAAD,CAAUrX,UAAWpB,EAAQqY,SAAUpf,MAAM,GAC5C,kBAACqR,GAAA,EAAD,CAAkB9S,MAAM,cCYrB2H,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAK,aACHC,QAAS,OACTiD,OAAQ,SACPnD,EAAM4R,YAAYC,KAAK,MAAQ,CAC9B1O,OAAQ,uBAIZkW,QAAS,CACPtW,aAAc,IAEhBuW,YAAa,CACXpZ,QAAS,OACTwC,WAAY,SACZC,eAAgB,WAChBqL,QAAS,QACTuL,UAAW,QAEb9d,OAAQ,CACNwd,OAAQjZ,EAAMiZ,OAAOC,OAAS,EAC9BM,WAAYxZ,EAAMyZ,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQ3Z,EAAMyZ,YAAYE,OAAOC,MACjCC,SAAU7Z,EAAMyZ,YAAYI,SAASC,iBAGzCC,YAAa,CACXlP,WA7BgB,IA8BhB3H,MAAM,eAAD,OA9BW,IA8BX,OACLsW,WAAYxZ,EAAMyZ,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQ3Z,EAAMyZ,YAAYE,OAAOC,MACjCC,SAAU7Z,EAAMyZ,YAAYI,SAASG,kBAGzCC,WAAY,CACV9M,YAAa,IAEf+M,iBAAkB,CAChBha,QAAS,QAEXhM,MAAO,CACLimB,SAAU,GAEZC,YAAa,CACX7P,SAAU,WACV8P,WAAY,SACZnX,MAhDgB,IAiDhBsW,WAAYxZ,EAAMyZ,YAAYC,OAAO,QAAS,CAC5CC,OAAQ3Z,EAAMyZ,YAAYE,OAAOC,MACjCC,SAAU7Z,EAAMyZ,YAAYI,SAASG,kBAGzCM,iBAAiB,aACfC,UAAW,SACXf,WAAYxZ,EAAMyZ,YAAYC,OAAO,QAAS,CAC5CC,OAAQ3Z,EAAMyZ,YAAYE,OAAOC,MACjCC,SAAU7Z,EAAMyZ,YAAYI,SAASC,gBAEvC5W,MAAOlD,EAAM2R,QAAQ,IACpB3R,EAAM4R,YAAY4I,GAAG,MAAQ,CAC5BtX,MAAOlD,EAAM2R,QAAQ,KAGzB8I,aAAc,CACZlB,UAAW,QAEbpjB,QAAS,CACPuX,KAAM,EACNgN,SAAU,QAEZC,UAAW,CACTC,WAAY5a,EAAM2R,QAAQ,GAC1BkJ,cAAe7a,EAAM2R,QAAQ,IAE/BkD,MAAO,CACL7G,QAAShO,EAAM2R,QAAQ,GACvBzR,QAAS,OACTwa,SAAU,OACVlO,cAAe,cAgKJsO,GA5JQ,SAAC,GAAkB,IAAhB9Z,EAAe,EAAfA,SAClBL,EAAUb,KAChB,EAA0CU,oBAAS,GAAnD,mBAAOua,EAAP,KAAsBC,EAAtB,KACA,EAAgCxa,mBAAS,MAAzC,mBAAO6R,EAAP,KAAiB4I,EAAjB,KACA,EAAgCza,oBAAS,GAAzC,mBAAO0a,EAAP,KAAiBC,EAAjB,KACA,EAAkC1R,qBAAWpC,IAArCD,EAAR,EAAQA,aAAc3G,EAAtB,EAAsBA,QACtB,EAAoCD,oBAAS,GAA7C,mBAAO4a,EAAP,KAAmBC,EAAnB,KACA,EAA0C7a,mBAAS,aAAnD,mBAAO8a,EAAP,KAAsBC,EAAtB,KACQ7f,EAAS+N,qBAAWpC,IAApB3L,KAERmF,qBAAU,WACJ6S,SAASI,KAAK0H,YAAc,KAC9BH,GAAc,KAEf,IAEHxa,qBAAU,WACJ6S,SAASI,KAAK0H,YAAc,IAC9BD,EAAiB,aAEjBA,EAAiB,eAElB,CAACH,IAEJ,IAKMK,EAAkB,WACtBR,EAAY,MACZE,GAAY,IAmBd,OAAI1a,EACK,kBAAC,GAAD,MAIP,yBAAKsB,UAAWpB,EAAQV,MACtB,kBAACyb,EAAA,EAAD,CACEzY,QAASqY,EACTvZ,UAAWqZ,EAAaza,EAAQyZ,YAAczZ,EAAQ2Z,iBACtD3Z,QAAS,CACPkU,MAAO9F,YACLpO,EAAQyZ,aACPgB,GAAcza,EAAQ2Z,mBAG3B1gB,KAAMwhB,GAEN,yBAAKrZ,UAAWpB,EAAQ2Y,aACtB,kBAACjF,EAAA,EAAD,CAAYpK,QAAS,kBAAMoR,GAAeD,KACxC,kBAAC,IAAD,QAGJ,kBAAChR,EAAA,EAAD,MACA,kBAAC0K,EAAA,EAAD,KACE,kBAAC,GAAD,CAAetL,YA9BH,WACdkK,SAASI,KAAK0H,YAAc,KAC9BH,GAAc,OA8BZ,kBAACjR,EAAA,EAAD,OAEF,kBAAC,GAAD,CACExQ,KAAMmhB,EACNxa,QAAS,kBAAMya,GAAiB,IAChCtiB,OAAM,OAAEgD,QAAF,IAAEA,OAAF,EAAEA,EAAM2E,KAEhB,kBAACsb,EAAA,EAAD,CACEpR,SAAS,WACTxI,UAAWgN,YAAKpO,EAAQlF,OAAQ2f,GAAcza,EAAQoZ,aACtD5hB,MAA4D,WAE5D,kBAACyjB,EAAA,EAAD,CAAS3Y,QAAQ,QAAQlB,UAAWpB,EAAQ0Y,SAC1C,kBAAChF,EAAA,EAAD,CACEwH,KAAK,QACL1jB,MAAM,UACNmc,aAAW,cACXrK,QAAS,kBAAMoR,GAAeD,IAC9BrZ,UAAWgN,YACTpO,EAAQsZ,WACRmB,GAAcza,EAAQuZ,mBAGxB,kBAAC,IAAD,OAEF,kBAACzK,EAAA,EAAD,CACEtG,UAAU,KACVlG,QAAQ,KACR9K,MAAM,UACNuX,QAAM,EACN3N,UAAWpB,EAAQzM,OALrB,0BASCwH,EAAK2E,IAAM,kBAAC,GAAD,MAEZ,6BACE,kBAACgU,EAAA,EAAD,CACEC,aAAW,0BACXwH,gBAAc,cACdC,gBAAc,OACd9R,QA7FO,SAAC+R,GAClBf,EAAYe,EAAMC,eAClBd,GAAY,IA4FFhjB,MAAM,WAEN,kBAAC,IAAD,OAEF,kBAAC+jB,EAAA,EAAD,CACE7b,GAAG,cACHgS,SAAUA,EACVuD,mBAAoB,KACpBnB,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,SAEd/a,KAAMshB,EACN3a,QAASkb,GAET,kBAACvF,EAAA,EAAD,CAAUjM,QAvGM,WAC1B+Q,GAAiB,GACjBS,MAsGazoB,KAAKG,EAAE,mCAEV,kBAAC+iB,EAAA,EAAD,CAAUjM,QArGI,WACxBwR,IACArU,MAoGapU,KAAKG,EAAE,sCAMlB,0BAAM4O,UAAWpB,EAAQxK,SACvB,yBAAK4L,UAAWpB,EAAQ8Z,eAEvBzZ,GAAsB,Q,uHC1PhBmb,GARD,SAAA5T,GACb,OACC,kBAACkH,EAAA,EAAD,CAAYtG,UAAU,KAAKlG,QAAQ,KAAK9K,MAAM,UAAUikB,cAAY,GAClE7T,EAAMvH,WCwFKqb,GA5ED,WACb,IAAMrc,EAAQsc,eAERhM,EAAO/B,kBAAO,IAAIuB,MAAOyM,eACvB9iB,EAAY0W,GAAW,CAAEG,KAAMA,EAAK9B,UAApC/U,QAER,EAAkC+G,mBAAS,CAC1C,CAAEgc,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,KAZ1B,mBAAOC,EAAP,KAAkBC,EAAlB,KA8BA,OAfA9b,qBAAU,WACT8b,GAAa,SAAAzJ,GACZ,IAAI0J,EAAG,aAAO1J,GASd,OAPA0J,EAAI3b,SAAQ,SAAAgL,GACXxS,EAAQwH,SAAQ,SAAAkL,GACf4D,aAAO8M,aAAYhN,aAAS1D,EAAO2Q,YAAa,WAAa7Q,EAAEuQ,MAC9DvQ,EAAEwQ,eAIEG,OAEN,CAACnjB,IAGH,kBAAC,IAAMkV,SAAP,KACC,kBAAC,GAAD,eAAW3b,KAAKG,EAAE,kCAAlB,OACCsG,EAAQgI,SAET,kBAACsb,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CACCnqB,KAAM6pB,EACNO,QAAS,GACT/Z,MAAO,IACPC,OAAQ,IACRoJ,OAAQ,CACP7B,IAAK,GACLkD,MAAO,GACPC,OAAQ,EACRlD,KAAM,KAGP,kBAACuS,GAAA,EAAD,CAAeC,gBAAgB,QAC/B,kBAACC,GAAA,EAAD,CAAOC,QAAQ,OAAOC,OAAQtd,EAAMud,QAAQC,KAAKxN,YACjD,kBAACyN,GAAA,EAAD,CACCpc,KAAK,SACLqc,eAAe,EACfJ,OAAQtd,EAAMud,QAAQC,KAAKxN,WAE3B,kBAAC2N,GAAA,EAAD,CACCC,MAAO,IACPrT,SAAS,OACTzH,MAAO,CAAE+a,WAAY,SAAUC,KAAM9d,EAAMud,QAAQC,KAAK/U,UAHzD,YAQD,kBAACsV,GAAA,EAAD,CAAKV,QAAQ,SAASS,KAAM9d,EAAMud,QAAQ9U,QAAQuV,WCvEjDle,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC2a,UAAW,CACVC,WAAY5a,EAAM2R,QAAQ,GAC1BkJ,cAAe7a,EAAM2R,QAAQ,IAE9BsM,iBAAkB,CACjBjQ,QAAShO,EAAM2R,QAAQ,GACvBzR,QAAS,OACTwa,SAAU,OACVlO,cAAe,SACfrJ,OAAQ,KAET+a,uBAAwB,CACvBlQ,QAAShO,EAAM2R,QAAQ,GACvBzR,QAAS,OACTwa,SAAU,OACVlO,cAAe,SACfrJ,OAAQ,KAETgb,yBAA0B,CACzBnQ,QAAShO,EAAM2R,QAAQ,GACvBzR,QAAS,OACTwa,SAAU,OACVlO,cAAe,SACfrJ,OAAQ,YA4EKib,GAxEG,WACjB,IAAMzd,EAAUb,KAERpE,EAAS+N,qBAAWpC,IAApB3L,KACJ0b,EAAe,GAEf1b,EAAKR,QAAUQ,EAAKR,OAAOuG,OAAS,IACvC2V,EAAe1b,EAAKR,OAAO6Z,KAAI,SAAAgB,GAAC,OAAIA,EAAE1V,OAGvC,IAAMge,EAAa,SAAC9nB,EAAQuD,EAAS0W,GAQpC,OANkBL,GAAW,CAC5B5Z,OAAQA,EACRuD,QAASA,EACT0W,mBAAoBA,EACpBD,SAAUlK,KAAKQ,UAAUuQ,KAJlBxG,OAST,OACC,6BACC,kBAAC0N,GAAA,EAAD,CAAWtc,SAAS,KAAKD,UAAWpB,EAAQga,WAC3C,kBAAC4D,GAAA,EAAD,CAAM5D,WAAS,EAAChJ,QAAS,GACxB,kBAAC4M,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACd,kBAACC,GAAA,EAAD,CAAO3c,UAAWpB,EAAQud,uBAAwBpb,MAAO,CAAE4X,SAAU,WACpE,kBAACjL,EAAA,EAAD,CAAYtG,UAAU,KAAKlG,QAAQ,KAAK9K,MAAM,UAAUwmB,WAAS,GAC/D3rB,KAAKG,EAAE,0CAET,kBAACorB,GAAA,EAAD,CAAMC,MAAI,GACT,kBAAC/O,EAAA,EAAD,CAAYtG,UAAU,KAAKlG,QAAQ,MACjCob,EAAW,OAAQ,OAAQ,aAKhC,kBAACE,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACd,kBAACC,GAAA,EAAD,CAAO3c,UAAWpB,EAAQud,uBAAwBpb,MAAO,CAAE4X,SAAU,WACpE,kBAACjL,EAAA,EAAD,CAAYtG,UAAU,KAAKlG,QAAQ,KAAK9K,MAAM,UAAUwmB,WAAS,GAC/D3rB,KAAKG,EAAE,qCAET,kBAACorB,GAAA,EAAD,CAAMC,MAAI,GACT,kBAAC/O,EAAA,EAAD,CAAYtG,UAAU,KAAKlG,QAAQ,MACjCob,EAAW,UAAW,OAAQ,aAKnC,kBAACE,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACd,kBAACC,GAAA,EAAD,CAAO3c,UAAWpB,EAAQud,uBAAwBpb,MAAO,CAAE4X,SAAU,WACpE,kBAACjL,EAAA,EAAD,CAAYtG,UAAU,KAAKlG,QAAQ,KAAK9K,MAAM,UAAUwmB,WAAS,GAC/D3rB,KAAKG,EAAE,oCAET,kBAACorB,GAAA,EAAD,CAAMC,MAAI,GACT,kBAAC/O,EAAA,EAAD,CAAYtG,UAAU,KAAKlG,QAAQ,MACjCob,EAAW,SAAU,OAAQ,aAKlC,kBAACE,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAACC,GAAA,EAAD,CAAO3c,UAAWpB,EAAQsd,kBACzB,kBAAC,GAAD,Y,q8MCnFP,IAAMne,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCC,KAAM,CACLC,QAAS,OACTC,SAAU,QAEXye,UAAW,CACVzR,YAAanN,EAAM2R,QAAQ,GAC3BjE,KAAM,GAGPmR,UAAW,CACV3e,QAAS,OACTyC,eAAgB,SAChBD,WAAY,UAGb0T,WAAY,CACX7L,SAAU,YAGXC,eAAgB,CACfrS,MAAOsS,KAAM,KACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,QAITiU,GAAgBtI,OAAaC,MAAM,CACxCnjB,KAAMkjB,OACJE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,YACXhf,OAAQ4e,OAAaE,IAAI,EAAG,cAAcC,IAAI,GAAI,aAClDpiB,MAAOiiB,OAAajiB,MAAM,mBAwNZwqB,GArNM,SAAC,GAAyD,IAAvDnlB,EAAsD,EAAtDA,KAAM2G,EAAgD,EAAhDA,QAASye,EAAuC,EAAvCA,UAAWtH,EAA4B,EAA5BA,cAAeuH,EAAa,EAAbA,OAC1Dte,EAAUb,KACVwO,EAAYC,kBAAO,GAEnBuI,EAAe,CACpBxjB,KAAM,GACNsE,OAAQ,GACRrD,MAAO,IAGR,EAA8BiM,mBAASsW,GAAvC,mBAAOxH,EAAP,KAAgB4P,EAAhB,KAEAre,qBAAU,WACT,OAAO,WACNyN,EAAUE,SAAU,KAEnB,IAEH3N,qBAAU,YACS,yCAAG,0FAChB6W,GACHwH,GAAW,SAAAhM,GACV,OAAO,6BAAKA,GAAcwE,MAIvBsH,EAPe,0EAUI3jB,KAAIsJ,IAAJ,oBAAqBqa,IAVzB,gBAUXnsB,EAVW,EAUXA,KACJyb,EAAUE,SACb0Q,EAAWrsB,GAZO,kDAenBJ,aAAW,EAAD,IAfS,0DAAH,qDAmBlB0sB,KACE,CAACH,EAAWplB,EAAM8d,IAErB,IAAM9W,EAAc,WACnBL,IACA2e,EAAWpI,IAGNsI,EAAiB,yCAAG,WAAM7H,GAAN,uFAEpByH,EAFoB,gCAGjB3jB,KAAIqT,IAAJ,oBAAqBsQ,GAAazH,GAHjB,OAIvB3W,IAJuB,uCAMAvF,KAAIsL,KAAK,YAAa4Q,GANtB,gBAMf1kB,EANe,EAMfA,KACJosB,GACHA,EAAOpsB,GAER+N,IAVuB,QAYxB1N,IAAMkB,QAAQpB,KAAKG,EAAE,yBAZG,kDAcxBV,aAAW,EAAD,IAdc,0DAAH,sDAkBvB,OACC,yBAAKsP,UAAWpB,EAAQV,MACvB,kBAACuX,GAAA,EAAD,CAAQ5d,KAAMA,EAAM2G,QAASK,EAAaoB,SAAS,KAAKE,OAAO,SAC9D,kBAACuV,GAAA,EAAD,CAAapX,GAAG,qBACL,UAAT2e,EACKhsB,KAAKG,EAAE,2BACPH,KAAKG,EAAE,4BAEd,kBAAC,KAAD,CACCukB,cAAepI,EACfqI,oBAAoB,EACpBC,iBAAkBkH,GAClBjH,SAAU,SAACN,EAAQ7gB,GAClBmT,YAAW,WACVuV,EAAkB7H,GAClB7gB,EAAQohB,eAAc,KACpB,QAGH,gBAAGP,EAAH,EAAGA,OAAQS,EAAX,EAAWA,OAAQD,EAAnB,EAAmBA,QAASE,EAA5B,EAA4BA,aAA5B,OACA,kBAAC,KAAD,KACC,kBAACC,GAAA,EAAD,CAAeC,UAAQ,GACtB,kBAAC1I,EAAA,EAAD,CAAYxM,QAAQ,YAAYmZ,cAAY,GAC1CppB,KAAKG,EAAE,+BAET,kBAAC,KAAD,CACCilB,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,0BACdG,KAAK,OACLglB,WAAS,EACTvlB,MAAOglB,EAAQzkB,MAAQilB,QAAQP,EAAO1kB,MACtCklB,WAAYT,EAAQzkB,MAAQ0kB,EAAO1kB,KACnC2P,QAAQ,WACRsJ,OAAO,QACPxK,UAAWpB,EAAQie,YAEpB,kBAAC,KAAD,CACCxG,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,4BACdG,KAAK,SACLP,MAAOglB,EAAQngB,QAAU2gB,QAAQP,EAAOpgB,QACxC4gB,WAAYT,EAAQngB,QAAUogB,EAAOpgB,OACrC4B,YAAY,gBACZyJ,QAAQ,WACRsJ,OAAO,UAER,6BACC,kBAAC,KAAD,CACC6L,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,2BACdG,KAAK,QACLP,MAAOglB,EAAQxjB,OAASgkB,QAAQP,EAAOzjB,OACvCikB,WAAYT,EAAQxjB,OAASyjB,EAAOzjB,MACpCiF,YAAY,gBACZyI,WAAS,EACTsK,OAAO,QACPtJ,QAAQ,cAGV,kBAACwM,EAAA,EAAD,CACC3M,MAAO,CAAEuc,aAAc,EAAGzU,UAAW,IACrC3H,QAAQ,aAEPjQ,KAAKG,EAAE,gCAGT,kBAAC,KAAD,CAAYG,KAAK,cACf,gBAAG6T,EAAH,EAAGA,KAAMmY,EAAT,EAASA,OAAT,OACA,oCACE/H,EAAO5f,WACP4f,EAAO5f,UAAU8J,OAAS,GAC1B8V,EAAO5f,UAAUod,KAAI,SAACwK,EAAM3d,GAAP,OACpB,yBACCG,UAAWpB,EAAQke,UACnBrb,IAAG,UAAK5B,EAAL,UAEH,kBAAC,KAAD,CACCwW,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,+BACdG,KAAI,oBAAesO,EAAf,UACJqB,QAAQ,WACRsJ,OAAO,QACPxK,UAAWpB,EAAQie,YAEpB,kBAAC,KAAD,CACCxG,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,gCACdG,KAAI,oBAAesO,EAAf,WACJqB,QAAQ,WACRsJ,OAAO,QACPxK,UAAWpB,EAAQie,YAEpB,kBAACvK,EAAA,EAAD,CACCnJ,KAAK,QACLjB,QAAS,kBAAMqV,EAAO1d,KAEtB,kBAAC,KAAD,WAIJ,yBAAKG,UAAWpB,EAAQke,WACvB,kBAAC7T,GAAA,EAAD,CACClI,MAAO,CAAE4K,KAAM,EAAG9C,UAAW,GAC7B3H,QAAQ,WACR9K,MAAM,UACN8R,QAAS,kBAAM9C,EAAK,CAAE7T,KAAM,GAAIoS,MAAO,OAJxC,YAMO1S,KAAKG,EAAE,6CAOnB,kBAAC4lB,GAAA,EAAD,KACC,kBAAC/N,GAAA,EAAD,CACCf,QAASrJ,EACTzI,MAAM,YACNmE,SAAU2b,EACVhV,QAAQ,YAEPjQ,KAAKG,EAAE,gCAET,kBAAC6X,GAAA,EAAD,CACC3J,KAAK,SACLlJ,MAAM,UACNmE,SAAU2b,EACVhV,QAAQ,YACRlB,UAAWpB,EAAQyV,YAET,UAAT4I,EACKhsB,KAAKG,EAAE,+BACPH,KAAKG,EAAE,+BACZ8kB,GACA,kBAAChN,GAAA,EAAD,CACCC,KAAM,GACNnJ,UAAWpB,EAAQ6J,0B,2yMCjP9B,IAAMV,GAAS0V,aAAoB,CAClCC,MAAM,IAyLQC,GAtLQ,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,UAAWpf,EAAc,EAAdA,QAC9BqF,EAAUC,cAEhB,EAA8BrF,mBAAS,IAAvC,mBAAOpE,EAAP,KAAgBwjB,EAAhB,KACA,EAA8Bpf,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAsCF,mBAAS,IAA/C,mBAAO4P,EAAP,KAAoByP,EAApB,KACA,EAA8Crf,mBAAS,MAAvD,mBAAOsf,EAAP,KAAwBC,EAAxB,KACA,EAAoCvf,mBAAS,IAA7C,mBAAOwf,EAAP,KAAmBC,EAAnB,KACA,EAAgDzf,oBAAS,GAAzD,mBAAO0f,EAAP,KAAyBC,EAAzB,KACQzkB,EAAS+N,qBAAWpC,IAApB3L,KAERmF,qBAAU,WACT,GAAK8e,KAAavP,EAAY3O,OAAS,GAAvC,CAIAf,GAAW,GACX,IAAMkJ,EAAkBC,YAAW,YACf,yCAAG,gHAEGxO,KAAIsJ,IAAI,WAAY,CAC1CoM,OAAQ,CAAEX,iBAHS,gBAEZvd,EAFY,EAEZA,KAGR+sB,EAAW/sB,EAAKsE,UAChBuJ,GAAW,GANS,gDAQpBA,GAAW,GACXjO,aAAW,EAAD,IATU,yDAAH,qDAanB2tB,KACE,KACH,OAAO,kBAAMpW,aAAaJ,IApBzBlJ,GAAW,KAqBV,CAAC0P,EAAauP,IAEjB,IAAM/e,EAAc,WACnBL,IACAsf,EAAe,IACfE,EAAmB,OAGdM,EAAgB,yCAAG,WAAMrB,GAAN,6EACnBA,EADmB,wDAExBte,GAAW,GAFa,kBAIQrF,KAAIsL,KAAK,WAAY,CACnDqY,UAAWA,EACXtmB,OAAQgD,EAAK2E,GACb9J,OAAQ,SAPc,gBAIT4V,EAJS,EAIftZ,KAKR+S,EAAQuB,KAAR,mBAAyBgF,EAAO9L,KATT,kDAWvB5N,aAAW,EAAD,IAXa,QAaxBiO,GAAW,GACXE,IAdwB,0DAAH,sDA8DtB,OACC,oCACC,kBAAC,GAAD,CACChH,KAAMsmB,EACNxI,cAAesI,EACfzf,QAzC6B,WAC/B4f,GAAoB,IAyClBlB,OAtC+B,SAAA3P,GACjC+Q,EAAiB/Q,EAAQjP,OAuCxB,kBAACmX,GAAA,EAAD,CAAQ5d,KAAM+lB,EAAWpf,QAASK,GACjC,kBAAC6W,GAAA,EAAD,CAAapX,GAAG,qBACdrN,KAAKG,EAAE,yBAET,kBAAC+kB,GAAA,EAAD,CAAeC,UAAQ,GACtB,kBAACmI,GAAA,EAAD,CACClkB,QAASA,EACTqE,QAASA,EACTqC,MAAO,CAAEI,MAAO,KAChBqd,aAAW,EACXC,eAAa,EACbC,UAAQ,EACRC,eAAa,EACbC,eA7BqB,SAAAC,GACzB,OAAIA,EAAOhpB,OACJ,GAAN,OAAUgpB,EAAOttB,KAAjB,cAA2BstB,EAAOhpB,QAE5B,GAAN,OAAUgpB,EAAOttB,OA0BdutB,aAtCgB,SAAAD,GACpB,OAAIA,EAAOhpB,OACJ,GAAN,OAAUgpB,EAAOttB,KAAjB,cAA2BstB,EAAOhpB,QAE5B,GAAN,OAAU5E,KAAKG,EAAE,sBAAjB,YAA0CytB,EAAOttB,OAmC9CwtB,cAnD0B,SAACA,EAAe/P,GAC9C,IAAMgQ,EAAWjX,GAAOgX,EAAe/P,GAQvC,MAN0B,KAAtBA,EAAOiQ,aAAsBvgB,GAAW2P,EAAY3O,QAAU,GACjEsf,EAAS5Z,KAAK,CACb7T,KAAK,GAAD,OAAKyd,EAAOiQ,cAIXD,GA2CH3L,SAAU,SAACvG,EAAGoS,GAAJ,OArEY,SAACpS,EAAGoS,IAC9B,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAUrpB,QACbmoB,EAAmBkB,IACb,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAU3tB,QACpB2sB,EAAc,CAAE3sB,KAAM2tB,EAAS3tB,OAC/B6sB,GAAoB,IAgEUe,CAAmBrS,EAAGoS,IACjDE,YAAa,SAAApQ,GAAM,OAClB,kBAACsH,GAAA,EAAD,iBACKtH,EADL,CAECkF,MAAOjjB,KAAKG,EAAE,6BACd8P,QAAQ,WACRqV,WAAS,EACTlD,SAAU,SAAAvG,GAAC,OAAIgR,EAAehR,EAAEvD,OAAO5F,QACvC0b,WAAY,SAAAvS,IACPpO,GAAYqf,GACG,UAAVjR,EAAErL,KACV6c,EAAiBP,EAAgBzf,KAGnCoY,WAAU,6BACN1H,EAAO0H,YADD,IAETC,aACC,kBAAC,IAAM/J,SAAP,KACElO,EACA,kBAACwK,GAAA,EAAD,CAAkB9S,MAAM,UAAU+S,KAAM,KACrC,KACH6F,EAAO0H,WAAWC,uBAQ1B,kBAACK,GAAA,EAAD,KACC,kBAAC/N,GAAA,EAAD,CACCf,QAASrJ,EACTzI,MAAM,YACNmE,SAAUmE,EACVwC,QAAQ,YAEPjQ,KAAKG,EAAE,kCAET,kBAAC,GAAD,CACC8P,QAAQ,YACR5B,KAAK,SACL/E,UAAWwjB,EACX7V,QAAS,kBAAMoW,EAAiBP,EAAgBzf,KAChDlI,MAAM,UACNsI,QAASA,GAERzN,KAAKG,EAAE,kC,UC3JCkuB,GArCS,WACvB,OACC,oCACC,kBAACpY,EAAA,EAAD,CAAU2F,OAAK,GACd,kBAACO,GAAA,EAAD,KACC,kBAACmS,GAAA,EAAD,CAAUte,UAAU,OAAOC,QAAQ,SAASC,MAAO,GAAIC,OAAQ,MAEhE,kBAACkG,EAAA,EAAD,CACCZ,QAAS,kBAAC6Y,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,KACvD8M,UAAW,kBAACsR,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,QAG3D,kBAACkH,EAAA,EAAD,CAASnH,QAAQ,UACjB,kBAACgG,EAAA,EAAD,CAAU2F,OAAK,GACd,kBAACO,GAAA,EAAD,KACC,kBAACmS,GAAA,EAAD,CAAUte,UAAU,OAAOC,QAAQ,SAASC,MAAO,GAAIC,OAAQ,MAEhE,kBAACkG,EAAA,EAAD,CACCZ,QAAS,kBAAC6Y,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,KACvD8M,UAAW,kBAACsR,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,SAG3D,kBAACkH,EAAA,EAAD,CAASnH,QAAQ,UACjB,kBAACgG,EAAA,EAAD,CAAU2F,OAAK,GACd,kBAACO,GAAA,EAAD,KACC,kBAACmS,GAAA,EAAD,CAAUte,UAAU,OAAOC,QAAQ,SAASC,MAAO,GAAIC,OAAQ,MAEhE,kBAACkG,EAAA,EAAD,CACCZ,QAAS,kBAAC6Y,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,KACvD8M,UAAW,kBAACsR,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,QAG3D,kBAACkH,EAAA,EAAD,CAASnH,QAAQ,YCzBdnD,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCuhB,mBAAoB,CACnBhX,SAAU,WACVrK,QAAS,OACTiD,OAAQ,OACRqJ,cAAe,SACfkO,SAAU,SACV8G,qBAAsB,EACtBC,wBAAyB,GAG1BlnB,YAAY,2BACXmT,KAAM,EACN6D,UAAW,UACRvR,EAAMyR,iBAHC,IAIViQ,UAAW,kCAGZC,kBAAmB,CAClBxpB,MAAO,mBACP8gB,OAAQ,EACR1L,gBAAiB,QACjBqU,aAAc,gCACd1hB,QAAS,OACTwC,WAAY,SACZC,eAAgB,iBAGjBkf,aAAc,CACbhV,WAAY,SACZ1U,MAAO,qBACP0S,WAAY,MACZ8B,SAAU,QAGXF,cAAe,CACdC,UAAW,SACXvU,MAAO,qBACPwU,SAAU,OACVC,WAAY,OAGblS,eAAgB,CACfgS,UAAW,SACXC,SAAU,OACVE,WAAY,MACZN,OAAQ,OAGTD,aAAc,CACbpM,QAAS,OACTiD,OAAQ,QACRoJ,OAAQ,GACRC,cAAe,SACf9J,WAAY,SACZC,eAAgB,cAIZgB,GAAU,SAACC,EAAOC,GACvB,GAAoB,iBAAhBA,EAAOxC,KAeV,OAdmBwC,EAAOE,QAEf9C,SAAQ,SAAAkL,GAClB,IAAMgH,EAAcvP,EAAMM,WAAU,SAAA/Q,GAAC,OAAIA,EAAEkN,KAAO8L,EAAO9L,OACpC,IAAjB8S,GACHvP,EAAMuP,GAAehH,EACjBA,EAAO8D,eAAiB,GAC3BrM,EAAMke,QAAQle,EAAMW,OAAO4O,EAAa,GAAG,KAG5CvP,EAAMuD,KAAKgF,MAIN,aAAIvI,GAGZ,GAAoB,iBAAhBC,EAAOxC,KAAyB,CACnC,IAAM+M,EAAWvK,EAAOE,QAElBoP,EAAcvP,EAAMM,WAAU,SAAA/Q,GAAC,OAAIA,EAAEkN,KAAO+N,KAKlD,OAJqB,IAAjB+E,IACHvP,EAAMuP,GAAalD,eAAiB,GAG9B,aAAIrM,GAGZ,GAAoB,kBAAhBC,EAAOxC,KAA0B,CAEpC,IAAM8K,EAAStI,EAAOE,QAEhBoP,EAAcvP,EAAMM,WAAU,SAAA/Q,GAAC,OAAIA,EAAEkN,KAAO8L,EAAO9L,MAOzD,OANqB,IAAjB8S,EACHvP,EAAMuP,GAAehH,EAErBvI,EAAMke,QAAQ3V,GAGR,aAAIvI,GAGZ,GAAoB,kCAAhBC,EAAOxC,KAA0C,CAEpD,IAAM8K,EAAStI,EAAOE,QAEhBoP,EAAcvP,EAAMM,WAAU,SAAA/Q,GAAC,OAAIA,EAAEkN,KAAO8L,EAAO9L,MAQzD,OAPqB,IAAjB8S,GACHvP,EAAMuP,GAAehH,EACrBvI,EAAMke,QAAQle,EAAMW,OAAO4O,EAAa,GAAG,KAE3CvP,EAAMke,QAAQ3V,GAGR,aAAIvI,GAGZ,GAAoB,0BAAhBC,EAAOxC,KAAkC,CAE5C,IAAMiO,EAAUzL,EAAOE,QACjBoP,EAAcvP,EAAMM,WAAU,SAAA/Q,GAAC,OAAIA,EAAE6rB,YAAc1P,EAAQjP,MAIjE,OAHqB,IAAjB8S,IACHvP,EAAMuP,GAAa7D,QAAUA,GAEvB,aAAI1L,GAGZ,GAAoB,kBAAhBC,EAAOxC,KAA0B,CACpC,IAAM+M,EAAWvK,EAAOE,QAClBoP,EAAcvP,EAAMM,WAAU,SAAA/Q,GAAC,OAAIA,EAAEkN,KAAO+N,KAKlD,OAJqB,IAAjB+E,GACHvP,EAAMW,OAAO4O,EAAa,GAGpB,aAAIvP,GAGZ,MAAoB,UAAhBC,EAAOxC,KACH,QADR,GA8Jc0gB,GAzJK,SAACxZ,GACpB,IAAQhS,EACPgS,EADOhS,OAAQ6Z,EACf7H,EADe6H,YAAatW,EAC5ByO,EAD4BzO,QAASqb,EACrC5M,EADqC4M,iBAAkB6M,EACvDzZ,EADuDyZ,YAAalf,EACpEyF,EADoEzF,MAE/DnC,EAAUb,KAChB,EAAoCU,mBAAS,GAA7C,mBAAO6P,EAAP,KAAmB4R,EAAnB,KACA,EAAgCxd,qBAAWd,GAAS,IAApD,mBAAOpJ,EAAP,KAAoBmK,EAApB,KACQhJ,EAAS+N,qBAAWpC,IAApB3L,KAERmF,qBAAU,WACT6D,EAAS,CAAErD,KAAM,UACjB4gB,EAAc,KACZ,CAAC1rB,EAAQ6Z,EAAa1L,EAAU5K,EAASqb,IAE5C,MAAsChF,GAAW,CAChDE,aACAD,cACA7Z,SACAuD,UACAyW,SAAUlK,KAAKQ,UAAUsO,KALlB1b,EAAR,EAAQA,QAASgX,EAAjB,EAAiBA,QAAShQ,EAA1B,EAA0BA,QAQ1BI,qBAAU,YACJtK,GAAW6Z,IAChB1L,EAAS,CACRrD,KAAM,eACN0C,QAAStK,MAER,CAACA,EAASlD,EAAQ6Z,IAErBvP,qBAAU,WACT,IAAMgE,EAASnB,KACToB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAUC,aAAWJ,GAErBod,EAAqB,SAAA/V,GAAM,QAC9BA,EAAOzT,QAAUyT,EAAOzT,UAAP,OAAkBgD,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAM2E,KAAMvG,MAC/CqS,EAAOxT,SAAWwc,EAAiBgN,QAAQhW,EAAOxT,UAAY,IA0DjE,OArDAkM,EAAOM,GAAG,WAAW,WAChB5O,EACHsO,EAAOoO,KAAK,cAAe1c,GAE3BsO,EAAOoO,KAAK,uBAIdpO,EAAOM,GAAP,iBAAoBF,EAAQG,YAAa,SAAAvS,GAXV,IAAAsZ,EAYV,iBAAhBtZ,EAAKgR,QACRa,EAAS,CACRrD,KAAM,eACN0C,QAASlR,EAAKub,WAII,WAAhBvb,EAAKgR,QAAuBqe,EAAmBrvB,EAAKsZ,SACvDzH,EAAS,CACRrD,KAAM,gBACN0C,QAASlR,EAAKsZ,SAII,WAAhBtZ,EAAKgR,UA1BqBsI,EA0ByBtZ,EAAKsZ,QAzBrDxT,UAAyD,IAA9Cwc,EAAiBgN,QAAQhW,EAAOxT,WA0BjD+L,EAAS,CAAErD,KAAM,gBAAiB0C,QAASlR,EAAKsZ,OAAO9L,KAGpC,WAAhBxN,EAAKgR,QACRa,EAAS,CAAErD,KAAM,gBAAiB0C,QAASlR,EAAKub,cAIlDtN,QAAQC,IAAIkE,EAAQG,WACpBtE,QAAQC,IAAIkE,EAAQmd,WAEpBvd,EAAOM,GAAP,qBAAwBF,EAAQG,YAAa,SAAAvS,GACxB,WAAhBA,EAAKgR,QAAuBqe,EAAmBrvB,EAAKsZ,SACvDzH,EAAS,CACRrD,KAAM,gCACN0C,QAASlR,EAAKsZ,YAKjBtH,EAAOM,GAAG,WAAW,SAAAtS,GACA,WAAhBA,EAAKgR,QACRa,EAAS,CACRrD,KAAM,wBACN0C,QAASlR,EAAKyc,aAKV,WACNzK,EAAOjP,gBAEN,CAACW,EAAQuD,EAAS4B,EAAMyZ,IAE3BtU,qBAAU,WACkB,oBAAhBmhB,GACVA,EAAYznB,EAAYkH,UAGvB,CAAClH,IAgBJ,OACC,kBAACmkB,GAAA,EAAD,CAAO3c,UAAWpB,EAAQ4gB,mBAAoBze,MAAOA,GACpD,kBAAC4b,GAAA,EAAD,CACC2D,QAAM,EACN/uB,KAAK,SACLgvB,UAAW,EACXvgB,UAAWpB,EAAQpG,YACnBgoB,SAjBkB,SAAA1T,GACpB,GAAK4B,IAAWhQ,EAAhB,CAEA,MAAkDoO,EAAEoN,cAA5CuG,EAAR,EAAQA,UAAR,EAAmBC,cAECD,EAAY,KAFhC,EAAiCE,cANjCT,GAAc,SAAA/O,GAAS,OAAIA,EAAY,QAsBrC,kBAAC4B,EAAA,EAAD,CAAMhS,MAAO,CAAE8X,WAAY,IACF,IAAvBrgB,EAAYkH,QAAiBhB,EAU7B,oCACElG,EAAYwa,KAAI,SAAA5I,GAAM,OACtB,kBAAC,GAAD,CAAgBA,OAAQA,EAAQ3I,IAAK2I,EAAO9L,SAX9C,yBAAK0B,UAAWpB,EAAQ2L,cACvB,0BAAMvK,UAAWpB,EAAQjG,gBACvB1H,KAAKG,EAAE,+BAET,uBAAG4O,UAAWpB,EAAQ8L,eACpBzZ,KAAKG,EAAE,kCAUVsN,GAAW,kBAACkiB,GAAD,U,+BC/RFC,GAfE,SAAC,GAAwC,IAAtC5hB,EAAqC,EAArCA,SAAU0E,EAA2B,EAA3BA,MAAOpS,EAAoB,EAApBA,KAASyX,EAAW,mBACxD,OAAIrF,IAAUpS,EAEZ,uCACCqU,KAAK,WACLtH,GAAE,0BAAqB/M,GACvBuvB,kBAAA,qBAA+BvvB,IAC3ByX,GAEJ,oCAAG/J,IAGQ,M,UC6CA8hB,GAnDY,SAAC,GAIrB,IAHNC,EAGK,EAHLA,WAGK,IAFL5N,wBAEK,MAFc,GAEd,EADLC,EACK,EADLA,SAMA,OACC,yBAAKtS,MAAO,CAAEI,MAAO,IAAK0H,WAAY,IACrC,kBAAC0K,GAAA,EAAD,CAAarT,WAAS,EAACsK,OAAO,SAC7B,kBAACiJ,GAAA,EAAD,CACCC,UAAQ,EACRuN,cAAY,EACZ/f,QAAQ,WACRyC,MAAOyP,EACPC,SAZiB,SAAAvG,GACpBuG,EAASvG,EAAEvD,OAAO5F,QAYfiQ,UAAW,CACVlB,aAAc,CACbC,SAAU,SACVC,WAAY,QAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,QAEbiB,mBAAoB,MAErBC,YAAa,kBAAM7iB,KAAKG,EAAE,qCAEf,OAAV4vB,QAAU,IAAVA,OAAA,EAAAA,EAAYthB,QAAS,GACrBshB,EAAWhO,KAAI,SAAAzT,GAAK,OACnB,kBAAC4U,EAAA,EAAD,CAAUtH,OAAK,EAACpL,IAAKlC,EAAMjB,GAAIqF,MAAOpE,EAAMjB,IAC3C,kBAAC4iB,GAAA,EAAD,CACCngB,MAAO,CACN3K,MAAOmJ,EAAMnJ,OAEd+S,KAAK,QACL/S,MAAM,UACN+qB,QAAS/N,EAAiBgN,QAAQ7gB,EAAMjB,KAAO,IAEhD,kBAACgJ,EAAA,EAAD,CAAcZ,QAASnH,EAAMhO,eCzB/BwM,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmjB,eAAgB,CACd5Y,SAAU,WACVrK,QAAS,OACTiD,OAAQ,OACRqJ,cAAe,SACfkO,SAAU,SACV8G,qBAAsB,EACtBC,wBAAyB,GAG3B2B,WAAY,CACV1V,KAAM,OACNH,gBAAiB,QAGnB8V,aAAc,CACZnW,UAAW,SACXrC,WAAY,OACZmD,QAAS,GAGXsV,IAAK,CACHhN,SAAU,IACVpT,MAAO,KAGTqgB,iBAAkB,CAChBrjB,QAAS,OACTyC,eAAgB,gBAChBD,WAAY,SACZoL,WAAY,UACZE,QAAShO,EAAM2R,QAAQ,IAGzB6R,mBAAoB,CAClB9V,KAAM,EACNI,WAAY,OACZ5N,QAAS,OACTgO,aAAc,GACdF,QAAS,EACTb,YAAanN,EAAM2R,QAAQ,IAG7B8R,WAAY,CACVtrB,MAAO,OACP0S,WAAY,EACZsC,YAAa,EACbD,UAAW,UAGbwW,YAAa,CACXhW,KAAM,EACNK,OAAQ,OACRG,aAAc,IAGhBgC,MAAO,CACLtC,MAAO,SAET+V,KAAM,CACJzjB,QAAS,SAEX0jB,KAAM,CACJ1jB,QAAS,uBA2NE2jB,GAvNQ,WACrB,IA6BIC,EA7BEnjB,EAAUb,KAEhB,EAAsCU,mBAAS,IAA/C,mBAAO4P,EAAP,KAAoByP,EAApB,KACA,EAAsBrf,mBAAS,QAA/B,mBAAO8iB,EAAP,KAAYS,EAAZ,KACA,EAA8BvjB,mBAAS,QAAvC,mBAAOwjB,EAAP,KAAgBC,EAAhB,KACA,EAAoDzjB,oBAAS,GAA7D,mBAAO0jB,EAAP,KAA2BC,EAA3B,KACA,EAA4C3jB,oBAAS,GAArD,mBAAO4jB,EAAP,KAAuBC,EAAvB,KACMC,EAAiB/V,mBACf7S,EAAS+N,qBAAWpC,IAApB3L,KAER,EAAkC8E,mBAAS,GAA3C,mBAAO+jB,EAAP,KAAkBC,EAAlB,KACA,EAAwChkB,mBAAS,GAAjD,mBAAOikB,EAAP,KAAqBC,EAArB,KAEMtN,EAAe1b,EAAKR,OAAO6Z,KAAI,SAACgB,GAAD,OAAOA,EAAE1V,MAC9C,EAAgDG,mBAAS4W,GAAgB,IAAzE,mBAAOjC,EAAP,KAAyB6B,EAAzB,KAEAnW,qBAAU,WAC2B,UAA/BnF,EAAK5C,QAAQ6rB,eACfN,GAAkB,KAGnB,IAEHxjB,qBAAU,WACI,WAARyiB,GACFgB,EAAe9V,QAAQ0F,UAExB,CAACoP,IAIJ,IAwBMsB,EAAkB,SAACruB,GACvB,GAAIytB,IAAYztB,EACd,MAAO,CAAE2M,MAAO,EAAGC,OAAQ,IAI/B,OACE,kBAACub,GAAA,EAAD,CAAO4D,UAAW,EAAGrf,QAAQ,WAAWlB,UAAWpB,EAAQwiB,gBACzD,kBAAC,GAAD,CACExD,UAAWuE,EACX3jB,QAAS,SAACsO,GAAD,OAAOsV,GAAsB,MAExC,kBAACzF,GAAA,EAAD,CAAO4D,UAAW,EAAGD,QAAM,EAACtgB,UAAWpB,EAAQyiB,YAC7C,kBAACyB,GAAA,EAAD,CACEnf,MAAO4d,EACPlO,SAvBgB,SAACvG,EAAGoS,GAC1B8C,EAAO9C,IAuBDhe,QAAQ,YACR6hB,eAAe,UACfC,UAAU,UACVzQ,aAAW,2BAEX,kBAAC0Q,GAAA,EAAD,CACEtf,MAAO,OACP8C,KAAM,kBAAC,KAAD,MACNyN,MAAOjjB,KAAKG,EAAE,2BACdwN,QAAS,CAAEV,KAAMU,EAAQ2iB,OAE3B,kBAAC0B,GAAA,EAAD,CACEtf,MAAO,SACP8C,KAAM,kBAAC,KAAD,MACNyN,MAAOjjB,KAAKG,EAAE,6BACdwN,QAAS,CAAEV,KAAMU,EAAQ2iB,OAE3B,kBAAC0B,GAAA,EAAD,CACEtf,MAAO,SACP8C,KAAM,kBAAC,KAAD,MACNyN,MAAOjjB,KAAKG,EAAE,6BACdwN,QAAS,CAAEV,KAAMU,EAAQ2iB,SAI/B,kBAAC5E,GAAA,EAAD,CAAO2D,QAAM,EAACC,UAAW,EAAGvgB,UAAWpB,EAAQ4iB,kBACpC,WAARD,EACC,yBAAKvhB,UAAWpB,EAAQ6iB,oBACtB,kBAAC,KAAD,CAAYzhB,UAAWpB,EAAQ8iB,aAC/B,kBAACwB,GAAA,EAAD,CACEljB,UAAWpB,EAAQ+iB,YACnBwB,SAAUZ,EACV9qB,YAAaxG,KAAKG,EAAE,8BACpBkO,KAAK,SACL+T,SA1ES,SAACvG,GACpB,IAAMsW,EAAetW,EAAEvD,OAAO5F,MAAM0f,cAIpC,GAFApb,aAAa8Z,GAEQ,KAAjBqB,EAGF,OAFAtF,EAAesF,QACfpB,EAAO,QAITD,EAAgBja,YAAW,WACzBgW,EAAesF,KACd,SAiEG,oCACE,kBAACna,GAAA,EAAD,CACE/H,QAAQ,WACR9K,MAAM,UACN8R,QAAS,kBAAMka,GAAsB,KAEpCnxB,KAAKG,EAAE,qCAEV,kBAACuU,GAAD,CACEC,KAAMjM,EAAK5C,QACX8O,QAAQ,0BACRC,IAAK,kBACH,kBAACwd,GAAA,EAAD,CACEpP,MAAOjjB,KAAKG,EAAE,2BACdmyB,eAAe,QACfC,QACE,kBAACC,GAAA,EAAD,CACEta,KAAK,QACLgY,QAASkB,EACThP,SAAU,kBACRiP,GAAkB,SAACnR,GAAD,OAAgBA,MAEpC5f,KAAK,iBACL6E,MAAM,kBAQpB,kBAAC,GAAD,CACE2K,MAAO,CAAE+H,WAAY,GACrBsK,iBAAkBA,EAClB4N,WAAU,OAAErnB,QAAF,IAAEA,OAAF,EAAEA,EAAMR,OAClBka,SAAU,SAACmC,GAAD,OAAYP,EAAoBO,OAG9C,kBAAC,GAAD,CAAU7R,MAAO4d,EAAKhwB,KAAK,OAAOyO,UAAWpB,EAAQwiB,gBACnD,kBAAC0B,GAAA,EAAD,CACEnf,MAAOse,EACP5O,SAnGoB,SAACvG,EAAGoS,GAC9BgD,EAAWhD,IAmGL6D,eAAe,UACfC,UAAU,UACV9hB,QAAQ,aAER,kBAAC+hB,GAAA,EAAD,CACE/O,MACE,kBAAC/L,EAAA,EAAD,CACEnI,UAAWpB,EAAQuP,MACnB/F,aAAcoa,EACdpsB,MAAM,WAELnF,KAAKG,EAAE,+BAGZuS,MAAO,SAET,kBAACsf,GAAA,EAAD,CACE/O,MACE,kBAAC/L,EAAA,EAAD,CACEnI,UAAWpB,EAAQuP,MACnB/F,aAAcsa,EACdtsB,MAAM,aAELnF,KAAKG,EAAE,8BAGZuS,MAAO,aAGX,kBAACgZ,GAAA,EAAD,CAAO3c,UAAWpB,EAAQwiB,gBACxB,kBAAC,GAAD,CACE5sB,OAAO,OACPuD,QAASsqB,EACTjP,iBAAkBA,EAClB6M,YAAa,SAACyD,GAAD,OAASjB,EAAaiB,IACnC3iB,MAAO8hB,EAAgB,UAEzB,kBAAC,GAAD,CACEruB,OAAO,UACP4e,iBAAkBA,EAClB6M,YAAa,SAACyD,GAAD,OAASf,EAAgBe,IACtC3iB,MAAO8hB,EAAgB,eAI7B,kBAAC,GAAD,CAAUlf,MAAO4d,EAAKhwB,KAAK,SAASyO,UAAWpB,EAAQwiB,gBACrD,kBAAC,GAAD,CACE5sB,OAAO,SACPuD,SAAS,EACTqb,iBAAkBA,KAGtB,kBAAC,GAAD,CAAUzP,MAAO4d,EAAKhwB,KAAK,SAASyO,UAAWpB,EAAQwiB,gBACrD,kBAAC,GAAD,CACE/S,YAAaA,EACbtW,SAAS,EACTqb,iBAAkBA,O,0CCnQbuQ,GApCe,SAAC,GAAiB,IAAf/kB,EAAc,EAAdA,QAChC,OACC,yBAAKoB,UAAWpB,EAAQxK,SACvB,kBAACuoB,GAAA,EAAD,CAAO2D,QAAM,EAACpf,QAAQ,WAAWlB,UAAWpB,EAAQglB,eACnD,kBAACrE,GAAA,EAAD,CACCte,UAAU,OACVC,QAAQ,SACRC,MAAO,IACPC,OAAQ,IACRpB,UAAWpB,EAAQilB,gBAEpB,kBAACtE,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,KAC9C,kBAACoe,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,KAC9C,kBAACoe,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,MAE/C,kBAACwb,GAAA,EAAD,CAAO2D,QAAM,EAACtgB,UAAWpB,EAAQklB,gBAChC,kBAACpW,EAAA,EAAD,CAAYxM,QAAQ,aAClBjQ,KAAKG,EAAE,4BAET,kBAACurB,GAAA,EAAD,CAAO2D,QAAM,EAACpf,QAAQ,WAAWlB,UAAWpB,EAAQmlB,kBACnD,kBAACxE,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,KAC9C,kBAACoe,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,OAE/C,kBAACwb,GAAA,EAAD,CAAO2D,QAAM,EAACpf,QAAQ,WAAWlB,UAAWpB,EAAQmlB,kBACnD,kBAACxE,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,KAC9C,kBAACoe,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,OAE/C,kBAACwb,GAAA,EAAD,CAAO2D,QAAM,EAACpf,QAAQ,WAAWlB,UAAWpB,EAAQmlB,kBACnD,kBAACxE,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,KAC9C,kBAACoe,GAAA,EAAD,CAAUte,UAAU,OAAOG,OAAQ,GAAID,MAAO,UCZ7CpD,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCkZ,OAAQ,CACPhW,MAJkB,IAKlB6iB,WAAY,GAEb3L,YAAa,CACZlX,MARkB,IASlBhD,QAAS,OACTwhB,UAAW,gCACXsE,YAAa,gCACbpE,aAAc,gCACdJ,qBAAsB,EACtBC,wBAAyB,GAE1BjlB,OAAQ,CACP0D,QAAS,OACT0hB,aAAc,gCACdrU,gBAAiB,OACjB7K,WAAY,SACZsL,QAAShO,EAAM2R,QAAQ,EAAG,GAC1B4H,UAAW,OACX5W,eAAgB,cAEjBxM,QAAQ,cACP+J,QAAS,OACTqN,gBAAiB,OACjBf,cAAe,SACfwB,QAAS,kBACT7K,OAAQ,OACRoO,UAAW,UACRvR,EAAMyR,iBAGVmU,cAAe,CACdrZ,OAAQ,GACRrJ,MAAO,IACPC,OAAQ,KAGTwiB,cAAe,CACdzlB,QAAS,OACT8N,QAAS,EACTxB,cAAe,SACf9J,WAAY,SACZC,eAAgB,SAChB,QAAS,CACR4J,OAAQ,IAIVsZ,eAAgB,CACfjb,UAAW,EACXoD,QAAS,EACT9N,QAAS,OACTsM,cAAe,UAEhBsZ,iBAAkB,CACjBlb,UAAW,EACXoD,QAAS,OA0FIiY,GAtFO,SAAC,GAAmD,IAAD,EAAhDrsB,EAAgD,EAAhDA,KAAMssB,EAA0C,EAA1CA,kBAAmB5W,EAAuB,EAAvBA,QAAS7O,EAAc,EAAdA,QACpDE,EAAUb,KAEhB,EAAkCU,oBAAS,GAA3C,mBAAOmf,EAAP,KAAkBwG,EAAlB,KAEA,OACC,kBAACzK,EAAA,EAAD,CACC3Z,UAAWpB,EAAQuY,OACnBjW,QAAQ,aACRmjB,OAAO,QACPxsB,KAAMA,EACNysB,WAAY,CAAEvjB,MAAO,CAAEyH,SAAU,aACjC+b,cAAe,CAAExjB,MAAO,CAAEyH,SAAU,aACpCgc,WAAY,CACX5L,UAAWjH,SAAS8S,eAAe,oBACnC1jB,MAAO,CAAEyH,SAAU,aAEpB5J,QAAS,CACRkU,MAAOlU,EAAQyZ,cAGhB,yBAAKrY,UAAWpB,EAAQnE,QACvB,kBAAC6X,EAAA,EAAD,CAAYpK,QAASic,GACpB,kBAAC,KAAD,OAED,kBAACzW,EAAA,EAAD,CAAY3M,MAAO,CAAEkK,YAAa,WAChCha,KAAKG,EAAE,0BAGTsN,EACA,kBAAC,GAAD,CAAuBE,QAASA,IAEhC,yBAAKoB,UAAWpB,EAAQxK,SACvB,kBAACuoB,GAAA,EAAD,CAAO2D,QAAM,EAACpf,QAAQ,WAAWlB,UAAWpB,EAAQglB,eACnD,kBAACvW,GAAA,EAAD,CACCqX,IAAKnX,EAAQhc,KACb+b,IAAKC,EAAQC,cACbxN,UAAWpB,EAAQilB,gBAGpB,kBAACnW,EAAA,EAAD,KAAaH,EAAQhc,MAErB,kBAAC0X,GAAA,EAAD,CAAQ0b,KAAI,cAASpX,EAAQ1X,QAAUqL,QAAQ,YAAY0jB,UAAW,kBAAC,IAAD,OAC/CrX,EAAQ1X,QAE/B,kBAACoT,GAAA,EAAD,CAAQ0b,KAAI,iBAAYpX,EAAQ/a,OAAS0O,QAAQ,YAAY0jB,UAAW,kBAAC,KAAD,OACjDrX,EAAQ/a,OAG/B,kBAACyW,GAAA,EAAD,CACC/H,QAAQ,WACR9K,MAAM,UACN8R,QAAS,kBAAMkc,GAAa,KAE3BnzB,KAAKG,EAAE,gCAGV,kBAACurB,GAAA,EAAD,CAAO2D,QAAM,EAACpf,QAAQ,WAAWlB,UAAWpB,EAAQklB,gBACnD,kBAAC,GAAD,CACCjsB,KAAM+lB,EACNpf,QAAS,kBAAM4lB,GAAa,IAC5BnH,UAAW1P,EAAQjP,KAEpB,kBAACoP,EAAA,EAAD,CAAYxM,QAAQ,aAClBjQ,KAAKG,EAAE,4BAPV,OASEmc,QATF,IASEA,GATF,UASEA,EAAS3X,iBATX,aASE,EAAoBod,KAAI,SAAAwK,GAAI,OAC5B,kBAACb,GAAA,EAAD,CACClb,IAAK+b,EAAKlf,GACVgiB,QAAM,EACNpf,QAAQ,WACRlB,UAAWpB,EAAQmlB,kBAEnB,kBAACvQ,GAAA,EAAD,KAAagK,EAAKjsB,MAClB,kBAACmc,EAAA,EAAD,CAAYtG,UAAU,MAAMuG,QAAM,EAAC5M,MAAO,CAAE8X,WAAY,IACvD,kBAAC,GAAD,KAAkB2E,EAAK7Z,gB,yPC7J1B5F,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC4mB,SAAU,CACT1mB,QAAS,OACT2K,WAAY,GACZsC,YAAa,GACbzK,WAAY,cAuCCmkB,GAnCQ,WACtB,IAAMlmB,EAAUb,KAKhB,EAA0BU,mBAJL,CACpBsmB,QAAS,EACTC,QAAS,IAEV,mBAAOC,EAAP,KAAcC,EAAd,KAEApmB,qBAAU,WACT,IAAMqmB,EAAWC,aAChB,kBACCF,GAAS,SAAA/T,GACR,OAA0B,KAAtBA,EAAU6T,QACN,6BAAK7T,GAAZ,IAAuB4T,QAAS5T,EAAU4T,QAAU,EAAGC,QAAS,IAE1D,6BAAK7T,GAAZ,IAAuB6T,QAAS7T,EAAU6T,QAAU,SAEtD,KAED,OAAO,WACNK,cAAcF,MAEb,IAEH,IAAMG,EAAU,SAAAhU,GACf,OAAOA,EAAI,GAAK,IAAMA,EAAIA,GAG3B,OACC,yBAAKtR,UAAWpB,EAAQimB,UACvB,wCAAUS,EAAQL,EAAMF,SAAxB,YAAoCO,EAAQL,EAAMD,aCxC/CO,GAAsB/hB,0BAEtBgiB,GAAuB,SAAC,GAAkB,IAAhBvmB,EAAe,EAAfA,SAC/B,EAA8CR,mBAAS,MAAvD,mBAAOgnB,EAAP,KAAwBC,EAAxB,KAEA,OACC,kBAACH,GAAoB7hB,SAArB,CACCC,MAAO,CAAE8hB,kBAAiBC,uBAEzBzmB,I,2yMC4BJ,IAAM0mB,GAAc,IAAIC,KAAY,CAAEC,QAAS,MAEzC9nB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC6nB,YAAY,aACV/Z,WAAY,OACZ5N,QAAS,OACTsM,cAAe,SACf9J,WAAY,SACZgf,UAAW,iCACV1hB,EAAM4R,YAAYC,KAAK,MAAQ,CAC9BtH,SAAU,QACVsD,OAAQ,EACR3K,MAAO,SAIX4kB,cAAe,CACbha,WAAY,OACZ5K,MAAO,OACPhD,QAAS,OACT8N,QAAS,MACTtL,WAAY,UAGdqlB,oBAAqB,CACnB/Z,QAAS,EACTb,YAAa,EACbW,WAAY,OACZ5N,QAAS,OACTgO,aAAc,GACdR,KAAM,EACNnD,SAAU,YAGZyd,aAAc,CACZ/Z,YAAa,GACbP,KAAM,EACNK,OAAQ,QAGVka,iBAAkB,CAChB9vB,MAAO,QAGT+vB,YAAa,CACXhoB,QAAS,QAGXioB,sBAAuB,CACrBjoB,QAAS,OACT8N,QAAS,YACTzD,SAAU,WACV5H,eAAgB,gBAChBD,WAAY,SACZ6K,gBAAiB,OACjBmU,UAAW,iCAGb0G,SAAU,CACR7d,SAAU,WACVsD,OAAQ,GACR3K,MAAO,GACPwe,UAAW,qBAGb2G,cAAe,CACblwB,MAAOsS,KAAM,KACb6d,QAAS,MACT/d,SAAU,WACVG,IAAK,MACLC,KAAM,MACNE,YAAa,IAGf0d,aAAc,CACZpwB,MAAOsS,KAAM,KACb6d,QAAS,OAGXE,gBAAiB,CACftoB,QAAS,OACTwC,WAAY,SACZ+lB,aAAc,UAGhBC,gBAAiB,CACfvwB,MAAO,OAGTwwB,cAAe,CACbxwB,MAAO,SAGTywB,mBAAoB,CAClB1oB,QAAS,OACTgD,MAAO,OACPR,WAAY,SACZC,eAAgB,SAChBiY,WAAY,EACZ3M,YAAa,GACblL,aAAc,GAGhB8lB,qBAAsB,CACpBnb,KAAM,EACNP,YAAa,EACboE,UAAW,SACXhE,gBAAiB,sBACjBW,aAAc,QACdhO,QAAS,OACTqK,SAAU,YAGZue,gBAAiB,CACf9a,QAAS,GACT7K,OAAQ,OACRjD,QAAS,QACTma,WAAY,WACZK,SAAU,UAGZqO,4BAA6B,CAC3Brb,KAAM,OACNxK,MAAO,MACPqK,gBAAiB,WAGnByb,yBAA0B,CACxBtb,KAAM,OACNxK,MAAO,MACPqK,gBAAiB,WAGnB0b,mBAAoB,CAClB/oB,QAAS,OACT/H,MAAO,UACP0U,WAAY,KAEdqc,2BAA4B,CAC1B3c,OAAQ,EACRhC,SAAU,WACVsD,OAAQ,OACRC,WAAY,UACZE,QAAS,MACTD,OAAQ,iBACRpD,KAAM,EACNzH,MAAO,OACP,OAAQ,CACNimB,UAAW,OACX,MAAO,CACLjpB,QAAS,QACT8N,QAAS,MACTob,aAAc,WACd1O,SAAU,SACVlJ,UAAW,OACX,UAAW,CACT1D,WAAY,UACZzB,OAAQ,kBA6dHgd,GAtdM,SAAC,GAAsB,IAAD,EAAnBC,EAAmB,EAAnBA,aAChB3oB,EAAUb,KACRsO,EAAaC,cAAbD,SAER,EAA4B5N,mBAAS,IAArC,mBAAO+oB,EAAP,KAAeC,EAAf,KACA,EAAwChpB,mBAAS,IAAjD,mBAAOipB,EAAP,KAAqBC,EAArB,KACA,EAAkClpB,oBAAS,GAA3C,mBAAOmpB,EAAP,KAAkBC,EAAlB,KACA,EAA8BppB,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAkCF,oBAAS,GAA3C,mBAAOqpB,EAAP,KAAkBC,EAAlB,KACA,EAAuCtpB,mBAAS,IAAhD,mBAAOvF,EAAP,KAAqB8uB,EAArB,KACA,EAA8BvpB,oBAAS,GAAvC,mBAAOwpB,EAAP,KAAgBC,EAAhB,KACM/E,EAAW3W,mBACjB,EAAgC/N,mBAAS,MAAzC,mBAAO6R,EAAP,KAAiB4I,EAAjB,KACA,EACExR,qBAAW6d,IADLG,EAAR,EAAQA,mBAAoBD,EAA5B,EAA4BA,gBAEpB9rB,EAAS+N,qBAAWpC,IAApB3L,KAER,ECzNK,SAAyB8H,EAAK0mB,GACpC,MAAsC1pB,oBAAS,WAC9C,IACC,IAAMge,EAAOzZ,aAAaC,QAAQxB,GAClC,OAAOgb,EAAOnY,KAAKC,MAAMkY,GAAQ0L,EAChC,MAAOn3B,GAER,OADAN,aAAWM,GACJm3B,MANT,mBAAOC,EAAP,KAAoBC,EAApB,KAuBA,MAAO,CAACD,EAbS,SAAAzkB,GAChB,IACC,IAAM2kB,EACL3kB,aAAiB4kB,SAAW5kB,EAAMykB,GAAezkB,EAElD0kB,EAAeC,GAEftlB,aAAa6B,QAAQpD,EAAK6C,KAAKQ,UAAUwjB,IACxC,MAAOt3B,GACRN,aAAWM,MDqM0Bw3B,CAAgB,cAAc,GAApE,mBAAOvtB,EAAP,KAAoBwtB,GAApB,KAEA3pB,qBAAU,WACRqkB,EAAS1W,QAAQ0F,UAChB,CAACsT,IAEJ3mB,qBAAU,WAER,OADAqkB,EAAS1W,QAAQ0F,QACV,WACLwV,EAAgB,IAChBE,GAAa,GACbJ,EAAU,IACV/B,EAAmB,SAEpB,CAACrZ,EAAUqZ,IAEd,IAeMgD,GAAqB,SAAC5b,GAC1B,GAAKA,EAAEvD,OAAOof,MAAd,CAIA,IAAMC,EAAiBvnB,MAAMC,KAAKwL,EAAEvD,OAAOof,OAC3ClB,EAAUmB,KASNC,GAAiB,yCAAG,WAAO/b,GAAP,+EACxBnO,GAAW,GACXmO,EAAEoF,kBAEI4W,EAAW,IAAIC,UACZC,OAAO,UAAU,GAC1BxB,EAAOtoB,SAAQ,SAAC+pB,GACdH,EAASE,OAAO,SAAUC,GAC1BH,EAASE,OAAO,OAAQC,EAAM13B,SARR,kBAYhB+H,KAAIsL,KAAJ,oBAAsByH,GAAYyc,GAZlB,yDActBp4B,aAAW,EAAD,IAdY,QAiBxBiO,GAAW,GACX8oB,EAAU,IAlBc,0DAAH,sDAqBjByB,GAAiB,yCAAG,wFACI,KAAxBxB,EAAahK,OADO,wDAExB/e,GAAW,GAEL5N,EAAU,CACd2gB,KAAM,EACNyX,QAAQ,EACRC,SAAU,GACVrX,KAAM9W,EAAW,kBACTtB,QADS,IACTA,OADS,EACTA,EAAMpI,KADG,eACQm2B,EAAahK,QAClCgK,EAAahK,OACjB2L,UAAW5D,GAXW,kBAchBnsB,KAAIsL,KAAJ,oBAAsByH,GAAYtb,GAdlB,uDAgBtBL,aAAW,EAAD,IAhBY,QAmBxBi3B,EAAgB,IAChBE,GAAa,GACblpB,GAAW,GACX+mB,EAAmB,MAtBK,yDAAH,qDAyBjB4D,GAAoB,yCAAG,sFAC3B3qB,GAAW,GADgB,kBAGnB4qB,UAAUC,aAAaC,aAAa,CAAEC,OAAO,IAH1B,uBAInB/D,GAAYgE,QAJO,OAKzB5B,GAAa,GACbppB,GAAW,GANc,kDAQzBjO,aAAW,EAAD,IACViO,GAAW,GATc,0DAAH,qDAapBirB,GAAqB,yCAAG,WAAOjmB,GAAP,8EACxBA,GAAgC,IAAvBA,EAAMyc,QAAQ,KADC,0CAGD9mB,KAAIsJ,IAAI,iBAAkB,CAC/CoM,OAAQ,CAAEX,YAAaqZ,EAAamC,UAAU,MAJxB,gBAGhB/4B,EAHgB,EAGhBA,KAGRk3B,EAAel3B,EAAKoI,cAChBpI,EAAKoI,aAAawG,OAAS,EAC7BwoB,GAAW,GAEXA,GAAW,GAVW,kDAaxBA,GAAW,GAba,gCAgB1BA,GAAW,GAhBe,0DAAH,sDAoBrB4B,GAAiB,yCAAG,oGACxBnrB,GAAW,GADa,kBAGCgnB,GAAYoE,OAAOC,SAHpB,yCAGbC,EAHa,MAIb9gB,KAAO,KAJM,wBAKpBxK,GAAW,GACXopB,GAAa,GANO,kCAUhBe,EAAW,IAAIC,SACfmB,EAXgB,WAWF,IAAInc,MAAOoc,UAXT,QAYtBrB,EAASE,OAAO,SAAUiB,EAAMC,GAChCpB,EAASE,OAAO,OAAQkB,GACxBpB,EAASE,OAAO,UAAU,GAdJ,UAgBhB1vB,KAAIsL,KAAJ,oBAAsByH,GAAYyc,GAhBlB,0DAkBtBp4B,aAAW,EAAD,IAlBY,QAqBxBq3B,GAAa,GACbppB,GAAW,GAtBa,0DAAH,qDAyBjByrB,GAAiB,yCAAG,wGAEhBzE,GAAYoE,OAAOC,SAFH,OAGtBjC,GAAa,GAHS,+CAKtBr3B,aAAW,EAAD,IALY,wDAAH,qDAajB25B,GAAsB,SAACpQ,GAC3Bf,EAAY,OAiCd,OAAIsO,EAAO9nB,OAAS,EAEhB,kBAACid,GAAA,EAAD,CAAO4D,UAAW,EAAGD,QAAM,EAACtgB,UAAWpB,EAAQwnB,uBAC7C,kBAAC9T,EAAA,EAAD,CACEC,aAAW,gBACXnL,UAAU,OACVc,QAAS,SAAC4E,GAAD,OAAO2a,EAAU,MAE1B,kBAAC,KAAD,CAAYznB,UAAWpB,EAAQsnB,oBAGhCxnB,EACC,6BACE,kBAACwK,GAAA,EAAD,CAAkBlJ,UAAWpB,EAAQ0nB,iBAGvC,wCACGkB,EAAO,UADV,aACG,EAAWj2B,MAIhB,kBAAC+gB,EAAA,EAAD,CACEC,aAAW,cACXnL,UAAU,OACVc,QAAS2gB,GACTtuB,SAAUmE,GAEV,kBAAC,KAAD,CAAUsB,UAAWpB,EAAQsnB,qBAMjC,kBAACvJ,GAAA,EAAD,CAAO2D,QAAM,EAACC,UAAW,EAAGvgB,UAAWpB,EAAQknB,aAC5CL,GAhEuB,SAAC10B,GAAa,IAAD,EACzC,OACE,yBAAKiP,UAAWpB,EAAQioB,oBACtB,yBAAK7mB,UAAWpB,EAAQkoB,sBACtB,0BACE9mB,UAAWgN,YAAKpO,EAAQooB,4BAAT,eACZpoB,EAAQqoB,0BAA4Bl2B,EAAQo4B,WAGjD,yBAAKnpB,UAAWpB,EAAQmoB,kBACpBh2B,EAAQo4B,QACR,0BAAMnpB,UAAWpB,EAAQsoB,oBAAzB,UACGn2B,EAAQwc,eADX,aACG,EAAiBhc,MAGrBR,EAAQghB,OAGb,kBAACO,EAAA,EAAD,CACEC,aAAW,eACXnL,UAAU,OACV7M,SAAUmE,GAA4B,SAAjB6oB,EACrBrf,QAAS,kBAAMwd,EAAmB,QAElC,kBAAC,KAAD,CAAW1lB,UAAWpB,EAAQsnB,qBAwCZoE,CAAsB7E,GAC1C,yBAAKzlB,UAAWpB,EAAQmnB,eACtB,kBAACwE,GAAA,EAAD,CAAQC,KAAM,CAAC,KAAM,OACnB,kBAAClY,EAAA,EAAD,CACEC,aAAW,cACXnL,UAAU,OACV7M,SAAUmE,GAAWopB,GAA8B,SAAjBP,EAClCrf,QAAS,SAAC4E,GAAD,OAAO+a,GAAa,SAAC1W,GAAD,OAAgBA,OAE7C,kBAAC,KAAD,CAAUnR,UAAWpB,EAAQsnB,oBAE9B0B,EACC,yBAAK5nB,UAAWpB,EAAQynB,UACtB,kBAACoE,GAAA,EAAD,CAAmBC,YAAa,SAAC5d,GAAD,OAAO+a,GAAa,KAClD,kBAAC,KAAD,CACE8C,QAAS,GACTC,aAAa,EACbC,eAAe,EACfC,SA/NK,SAAChe,GACtB,IAAIie,EAAQje,EAAEke,OACdrD,GAAgB,SAACxW,GAAD,OAAeA,EAAY4Z,UAiO/B,KAEJ,2BACErX,UAAQ,EACRpU,KAAK,OACLhB,GAAG,gBACH/D,SAAUmE,GAAWopB,GAA8B,SAAjBP,EAClCvnB,UAAWpB,EAAQunB,YACnB9S,SAAUqV,KAEZ,2BAAOuC,QAAQ,iBACb,kBAAC3Y,EAAA,EAAD,CACEC,aAAW,SACXnL,UAAU,OACV7M,SAAUmE,GAAWopB,GAA8B,SAAjBP,GAElC,kBAAC,KAAD,CAAgBvnB,UAAWpB,EAAQsnB,qBAGvC,kBAAC5C,GAAA,EAAD,CACEviB,MAAO,CAAEqK,YAAa,EAAGhV,MAAO,QAChC8d,MAAOjjB,KAAKG,EAAE,6BACdmyB,eAAe,QACfC,QACE,kBAACC,GAAA,EAAD,CACEta,KAAK,QACLgY,QAASlmB,EACToY,SAAU,SAACvG,GACT2b,GAAe3b,EAAEvD,OAAO4X,UAE1B5vB,KAAK,iBACL6E,MAAM,eAKd,kBAACm0B,GAAA,EAAD,CAAQC,KAAM,CAAC,KAAM,KAAM,OACzB,kBAAClY,EAAA,EAAD,CACEyH,gBAAc,cACdC,gBAAc,OACd9R,QAtIgB,SAAC+R,GAC3Bf,EAAYe,EAAMC,iBAuIR,kBAAC,KAAD,OAEF,kBAACC,EAAA,EAAD,CACE7b,GAAG,cACH4sB,aAAW,EACX5a,SAAUA,EACVzY,KAAM2e,QAAQlG,GACd9R,QAAS6rB,IAET,kBAAClW,EAAA,EAAD,CAAUjM,QAASmiB,IACjB,kBAAC/X,EAAA,EAAD,CACEC,aAAW,cACXnL,UAAU,OACV7M,SAAUmE,GAAWopB,GAA8B,SAAjBP,EAClCrf,QAAS,SAAC4E,GAAD,OAAO+a,GAAa,SAAC1W,GAAD,OAAgBA,OAE7C,kBAAC,KAAD,CAAUnR,UAAWpB,EAAQsnB,qBAGjC,kBAAC/R,EAAA,EAAD,CAAUjM,QAASmiB,IACjB,2BACE3W,UAAQ,EACRpU,KAAK,OACLhB,GAAG,gBACH/D,SAAUmE,GAAWopB,GAA8B,SAAjBP,EAClCvnB,UAAWpB,EAAQunB,YACnB9S,SAAUqV,KAEZ,2BAAOuC,QAAQ,iBACb,kBAAC3Y,EAAA,EAAD,CACEC,aAAW,SACXnL,UAAU,OACV7M,SAAUmE,GAAWopB,GAA8B,SAAjBP,GAElC,kBAAC,KAAD,CAAgBvnB,UAAWpB,EAAQsnB,sBAIzC,kBAAC/R,EAAA,EAAD,CAAUjM,QAASmiB,IACjB,kBAAC/G,GAAA,EAAD,CACEviB,MAAO,CAAEqK,YAAa,EAAGhV,MAAO,QAChC8d,MAAOjjB,KAAKG,EAAE,6BACdmyB,eAAe,QACfC,QACE,kBAACC,GAAA,EAAD,CACEta,KAAK,QACLgY,QAASlmB,EACToY,SAAU,SAACvG,GACT2b,GAAe3b,EAAEvD,OAAO4X,UAE1B5vB,KAAK,iBACL6E,MAAM,iBAOlB,yBAAK4J,UAAWpB,EAAQonB,qBACtB,kBAAC9C,GAAA,EAAD,CACEC,SAAU,SAACgI,GACTA,GAASA,EAAMhZ,QACfgZ,IAAUhI,EAAS1W,QAAU0e,IAE/BnrB,UAAWpB,EAAQqnB,aACnBxuB,YACmB,SAAjB8vB,EACIt2B,KAAKG,EAAE,iCACPH,KAAKG,EAAE,mCAEbg6B,WAAS,EACTC,QAAS,EACT1nB,MAAO+jB,EACPrU,SAhWc,SAACvG,GACzB6a,EAAgB7a,EAAEvD,OAAO5F,OACzBimB,GAAsB9c,EAAEvD,OAAO5F,QA+VrBpJ,SAAUutB,GAAappB,GAA4B,SAAjB6oB,EAClC+D,QAAS,SAACxe,GACS,SAAjBya,GA3UW,SAACza,GACpBA,EAAEye,cAAc5C,MAAM,IACxBlB,EAAU,CAAC3a,EAAEye,cAAc5C,MAAM,KAyUI6C,CAAiB1e,IAE9CuS,WAAY,SAACvS,GACPpO,GAAWoO,EAAE2e,UACE,UAAV3e,EAAErL,KACTynB,QAILjB,EACC,wBAAIjoB,UAAWpB,EAAQuoB,4BACpBjuB,EAAa8Z,KAAI,SAACrP,EAAO9D,GACxB,OACE,wBACEG,UAAWpB,EAAQ8sB,+BACnBjqB,IAAK5B,GAGL,uBAAGqI,QAAS,kBAhXA,SAACvE,GAC/BgkB,EAAgBhkB,GAChBukB,GAAW,GA8WyByD,CAAwBhoB,EAAM5S,WAAhD,UACM4S,EAAMzN,SADZ,cAC0ByN,EAAM5S,eAOxC,+BAGH22B,EACC,kBAACpV,EAAA,EAAD,CACEC,aAAW,cACXnL,UAAU,OACVc,QAASghB,GACT3uB,SAAUmE,GAEV,kBAAC,KAAD,CAAUsB,UAAWpB,EAAQsnB,oBAE7B4B,EACF,yBAAK9nB,UAAWpB,EAAQ6nB,iBACtB,kBAACnU,EAAA,EAAD,CACEC,aAAW,kBACXnL,UAAU,OACVwD,SAAS,QACTrQ,SAAUmE,EACVwJ,QAASkiB,IAET,kBAAC,KAAD,CAAkBpqB,UAAWpB,EAAQ+nB,mBAEtCjoB,EACC,6BACE,kBAACwK,GAAA,EAAD,CAAkBlJ,UAAWpB,EAAQ4nB,gBAGvC,kBAAC,GAAD,MAGF,kBAAClU,EAAA,EAAD,CACEC,aAAW,oBACXnL,UAAU,OACVc,QAAS4hB,GACTvvB,SAAUmE,GAEV,kBAAC,KAAD,CAAwBsB,UAAWpB,EAAQgoB,kBAI/C,kBAACtU,EAAA,EAAD,CACEC,aAAW,eACXnL,UAAU,OACV7M,SAAUmE,GAA4B,SAAjB6oB,EACrBrf,QAASohB,IAET,kBAAC,KAAD,CAAStpB,UAAWpB,EAAQsnB,uB,oBElpBpCnoB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC2tB,aAAc,CACbztB,QAAS,OACTqN,gBAAiB,OACjBG,KAAM,OACNkU,aAAc,qCAwBDgM,GApBc,WAC5B,IAAMjtB,EAAUb,KAEhB,OACC,kBAAC+tB,GAAA,EAAD,CAAMxL,QAAM,EAACtgB,UAAWpB,EAAQgtB,cAC/B,kBAACG,GAAA,EAAD,CACCC,qBAAsB,CAAEre,QAAQ,GAChCse,yBAA0B,CAAEte,QAAQ,GACpC7M,OACC,kBAACye,GAAA,EAAD,CAAUte,UAAU,OAAOC,QAAQ,UAClC,kBAACmM,GAAA,EAAD,CAAQqX,IAAI,mBAGdvyB,MAAO,kBAACotB,GAAA,EAAD,CAAUte,UAAU,OAAOE,MAAO,KACzC+qB,UAAW,kBAAC3M,GAAA,EAAD,CAAUte,UAAU,OAAOE,MAAO,U,qBCrB3CpD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2tB,aAAa,aACXztB,QAAS,OACTqN,gBAAiB,OACjBG,KAAM,OACNkU,aAAc,iCACb5hB,EAAM4R,YAAYC,KAAK,MAAQ,CAC9B1R,SAAU,aA4BD+tB,GAvBM,SAAC,GAA2B,IAAzBztB,EAAwB,EAAxBA,QAASO,EAAe,EAAfA,SACzBL,EAAUb,KACV8F,EAAUC,cAKhB,OACE,oCACGpF,EACC,kBAAC,GAAD,MAEA,kBAACotB,GAAA,EAAD,CAAMxL,QAAM,EAACtgB,UAAWpB,EAAQgtB,cAC9B,kBAAC3iB,GAAA,EAAD,CAAQ7S,MAAM,UAAU8R,QAVb,WACjBrE,EAAQuB,KAAK,cAUL,kBAAC,KAAD,OAEDnG,KCbImtB,GAjBI,SAAC,GAAkC,IAAhC7e,EAA+B,EAA/BA,QAASnD,EAAsB,EAAtBA,OAAQlC,EAAc,EAAdA,QACtC,OACC,kBAAC6jB,GAAA,EAAD,CACC7jB,QAASA,EACTnH,MAAO,CAAEuJ,OAAQ,WACjB0hB,qBAAsB,CAAEre,QAAQ,GAChCse,yBAA0B,CAAEte,QAAQ,GACpC7M,OAAQ,kBAACuM,GAAA,EAAD,CAAQC,IAAKC,EAAQC,cAAekX,IAAI,kBAChDvyB,MAAK,UAAKob,EAAQhc,KAAb,aAAsB6Y,EAAO9L,IAClC4tB,UACC9hB,EAAOzQ,MAAP,UACG1I,KAAKG,EAAE,kCADV,YAC+CgZ,EAAOzQ,KAAKpI,S,oBC2BhD86B,GAlCW,SAAC,GAAmD,IAAjDl6B,EAAgD,EAAhDA,MAAO8M,EAAyC,EAAzCA,SAAUpH,EAA+B,EAA/BA,KAAM2G,EAAyB,EAAzBA,QAAS8tB,EAAgB,EAAhBA,UAC5D,OACC,kBAAC7W,GAAA,EAAD,CACC5d,KAAMA,EACN2G,QAAS,kBAAMA,GAAQ,IACvBsiB,kBAAgB,kBAEhB,kBAACpL,GAAA,EAAD,CAAapX,GAAG,kBAAkBnM,GAClC,kBAACgkB,GAAA,EAAD,CAAeC,UAAQ,GACtB,kBAAC1I,EAAA,EAAD,KAAazO,IAEd,kBAAC+X,GAAA,EAAD,KACC,kBAAC/N,GAAA,EAAD,CACC/H,QAAQ,YACRgH,QAAS,kBAAM1J,GAAQ,IACvBpI,MAAM,WAELnF,KAAKG,EAAE,qCAET,kBAAC6X,GAAA,EAAD,CACC/H,QAAQ,YACRgH,QAAS,WACR1J,GAAQ,GACR8tB,KAEDl2B,MAAM,aAELnF,KAAKG,EAAE,yC,2yMCnCb,IASem7B,GATG,WAMjB,MAAO,CAAEC,QALI,yCAAG,uGACclzB,KAAIsJ,IAAI,UADtB,uBACD9R,EADC,EACDA,KADC,kBAEFA,GAFE,2CAAH,uD,2yMC0Bd,IAAMiN,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCgC,SAAU,CACRkB,MAAO,YAIL4d,GAAgBtB,aAAoB,CACzCC,MAAM,IAsMQ+O,GAnMa,SAAC,GAAwD,IAAtD7O,EAAqD,EAArDA,UAAWpf,EAA0C,EAA1CA,QAASkuB,EAAiC,EAAjCA,SAAUC,EAAuB,EAAvBA,iBACtD9oB,EAAUC,cAChB,EAA8BrF,mBAAS,IAAvC,mBAAOpE,EAAP,KAAgBwjB,EAAhB,KACA,EAA4Bpf,mBAAS,IAArC,mBAAOtF,EAAP,KAAema,EAAf,KACA,EAAkC7U,mBAAS,IAA3C,mBAAOmuB,EAAP,KAAkBC,EAAlB,KACA,EAA8BpuB,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAsCF,mBAAS,IAA/C,mBAAO4P,EAAP,KAAoByP,EAApB,KACA,EAAwCrf,mBAAS,MAAjD,mBAAOquB,EAAP,KAAqBC,EAArB,KACA,EAA0CtuB,mBAAS,IAAnD,mBAAOuuB,EAAP,KAAsBC,EAAtB,KACA,EAAgDxuB,mBAASkuB,GAAzD,mBAAOO,EAAP,KAAyBC,EAAzB,KACMvuB,EAAUb,KACCqvB,EAAkBb,KAA3BC,QACR,EAAwC/pB,KAAhC4qB,EAAR,EAAQA,iBAAkBtrB,EAA1B,EAA0BA,UAEZiT,EAAiBtN,qBAAWpC,IAAlC3L,KAERmF,qBAAU,YACO,yCAAG,qGACCsuB,IADD,OACZE,EADY,OAElBT,EAAaS,GACbha,EAAUga,GAHQ,2CAAH,qDAKhBC,KAEE,IAEHzuB,qBAAU,WACT,GAAK8e,KAAavP,EAAY3O,OAAS,GAAvC,CAIAf,GAAW,GACX,IAAMkJ,EAAkBC,YAAW,YAClB,yCAAG,gHAEMxO,KAAIsJ,IAAI,UAAW,CACzCoM,OAAQ,CAAEX,iBAHM,gBAETvd,EAFS,EAETA,KAGR+sB,EAAW/sB,EAAKyI,OAChBoF,GAAW,GANM,gDAQjBA,GAAW,GACXjO,aAAW,EAAD,IATO,yDAAH,qDAahB88B,KACE,KACH,OAAO,kBAAMvlB,aAAaJ,IApBzBlJ,GAAW,KAqBV,CAAC0P,EAAauP,IAEjB,IAAM/e,EAAc,WACnBL,IACAsf,EAAe,IACfiP,EAAgB,OAGXzO,EAAgB,yCAAG,WAAMxR,GAAN,2EACxBA,EAAEoF,iBACGwa,EAFmB,wDAGxB/tB,GAAW,GAHa,SAKnB7N,EAAO,GAEPg8B,IACHh8B,EAAK6F,OAASm2B,EAAaxuB,GAC3BxN,EAAK28B,QAAS,GAGXT,GAAmC,OAAlBA,IACpBl8B,EAAK8F,QAAUo2B,EAEVF,IACJh8B,EAAK0D,OAAS,UACd1D,EAAK6F,OAAS,KACd7F,EAAK28B,QAAS,IAIbP,IACFp8B,EAAKwS,WAAa4pB,GAvBI,UA0BjB5zB,KAAIqT,IAAJ,mBAAoB+f,GAAY57B,GA1Bf,QA4BvB6N,GAAW,GACXkF,EAAQuB,KAAR,YA7BuB,kDA+BvBzG,GAAW,GACXjO,aAAW,EAAD,IAhCa,0DAAH,sDAoCtB,OACC,kBAAC+kB,GAAA,EAAD,CAAQ5d,KAAM+lB,EAAWpf,QAASK,EAAaoB,SAAS,KAAKE,OAAO,SACnE,0BAAM2V,SAAUwI,GACf,kBAAC5I,GAAA,EAAD,CAAapX,GAAG,qBACdrN,KAAKG,EAAE,8BAET,kBAAC+kB,GAAA,EAAD,CAAeC,UAAQ,GACtB,kBAACmI,GAAA,EAAD,CACCxd,MAAO,CAAEI,MAAO,IAAKmc,aAAc,IACnCsB,eAAgB,SAAAC,GAAM,gBAAOA,EAAOttB,OACpC8hB,SAAU,SAACvG,EAAGoS,GACb6N,EAAgB7N,GACA,MAAZA,GAAoB7d,MAAMqsB,QAAQxO,EAAS/lB,QAC9Cma,EAAU4L,EAAS/lB,SAEnBma,EAAUsZ,GACVK,EAAiB,MAGnB5yB,QAASA,EACT0kB,cAAeA,GACfL,UAAQ,EACRD,eAAa,EACbkP,cAAe18B,KAAKG,EAAE,iCACtBsN,QAASA,EACT0gB,YAAa,SAAApQ,GAAM,OAClB,kBAACsH,GAAA,EAAD,iBACKtH,EADL,CAECkF,MAAOjjB,KAAKG,EAAE,kCACd8P,QAAQ,WACR2T,UAAQ,EACR0B,WAAS,EACTlD,SAAU,SAAAvG,GAAC,OAAIgR,EAAehR,EAAEvD,OAAO5F,QACvC+S,WAAU,6BACN1H,EAAO0H,YADD,IAETC,aACC,kBAAC,IAAM/J,SAAP,KACElO,EACA,kBAACwK,GAAA,EAAD,CAAkB9S,MAAM,UAAU+S,KAAM,KACrC,KACH6F,EAAO0H,WAAWC,sBAOzB,kBAACpD,GAAA,EAAD,CAAarS,QAAQ,WAAWlB,UAAWpB,EAAQqB,UAClD,kBAACuT,GAAA,EAAD,KAAaviB,KAAKG,EAAE,wCACpB,kBAACqiB,GAAA,EAAD,CACC9P,MAAOqpB,EACP3Z,SAAU,SAACvG,GAAD,OAAOmgB,EAAiBngB,EAAEvD,OAAO5F,QAC3CuQ,MAAOjjB,KAAKG,EAAE,8CAEd,kBAAC+iB,EAAA,EAAD,CAAUxQ,MAAO,IAAjB,QACCxK,EAAO6Z,KAAI,SAACzT,GAAD,OACX,kBAAC4U,EAAA,EAAD,CAAU1S,IAAKlC,EAAMjB,GAAIqF,MAAOpE,EAAMjB,IAAKiB,EAAMhO,WAIpD,kBAACoU,GAAD,CACCC,KAAMoP,EAAaje,QACnB8O,QAAQ,kCACRC,IAAK,kBAAQunB,GACZ,kBAAC9Z,GAAA,EAAD,CAAarS,QAAQ,WAAWlB,UAAWpB,EAAQqB,SAAUc,MAAO,CAAE8H,UAAW,KAChF,kBAAC2K,GAAA,EAAD,KAAaviB,KAAKG,EAAE,6CACpB,kBAACqiB,GAAA,EAAD,CACC9P,MAAOupB,EACP7Z,SAAU,SAACvG,GAAD,OAAOqgB,EAAoBrgB,EAAEvD,OAAO5F,QAC9CuQ,MAAOjjB,KAAKG,EAAE,mDAEb2Q,EAAUiR,KAAI,SAAC4a,GAAD,OACd,kBAACzZ,EAAA,EAAD,CAAU1S,IAAKmsB,EAAQtvB,GAAIqF,MAAOiqB,EAAQtvB,IAAKsvB,EAAQr8B,eAO7D,kBAACylB,GAAA,EAAD,KACC,kBAAC/N,GAAA,EAAD,CACCf,QAASrJ,EACTzI,MAAM,YACNmE,SAAUmE,EACVwC,QAAQ,YAEPjQ,KAAKG,EAAE,uCAET,kBAAC,GAAD,CACC8P,QAAQ,YACR5B,KAAK,SACLlJ,MAAM,UACNsI,QAASA,GAERzN,KAAKG,EAAE,uC,2yMCrNd,IAyFey8B,GAzFW,SAAC,GAAiD,IAA/CzjB,EAA8C,EAA9CA,OAAQ+O,EAAsC,EAAtCA,SAAUta,EAA4B,EAA5BA,YAAayR,EAAe,EAAfA,SAC3D,EAAgD7R,oBAAS,GAAzD,mBAAOqvB,EAAP,KAAyBC,EAAzB,KACA,EAA8DtvB,oBAAS,GAAvE,mBAAOuvB,EAAP,KAAgCC,EAAhC,KACM1hB,EAAYC,kBAAO,GACjB7S,EAAS+N,qBAAWpC,IAApB3L,KAERmF,qBAAU,WACT,OAAO,WACNyN,EAAUE,SAAU,KAEnB,IAEH,IAAMyhB,EAAkB,yCAAG,wGAEnB50B,KAAI8B,OAAJ,mBAAuBgP,EAAO9L,KAFX,sDAIzB5N,aAAW,EAAD,IAJe,wDAAH,qDAQlBy9B,EAA8B,SAAArhB,GACnCihB,GAAoB,GACpBlvB,KAcD,OACC,oCACC,kBAACsb,EAAA,EAAD,CACC7b,GAAG,cACHgS,SAAUA,EACVuD,mBAAoB,KACpBnB,aAAc,CACbC,SAAU,SACVC,WAAY,SAEbsY,aAAW,EACXrY,gBAAiB,CAChBF,SAAU,MACVC,WAAY,SAEb/a,KAAMshB,EACN3a,QAASK,GAET,kBAACsV,EAAA,EAAD,CAAUjM,QA7BmB,SAAA4E,GAC/BmhB,GAA2B,GAC3BpvB,MA4BI5N,KAAKG,EAAE,+BAET,kBAACuU,GAAD,CACCC,KAAMjM,EAAK5C,QACX8O,QAAQ,8BACRC,IAAK,kBACJ,kBAACqO,EAAA,EAAD,CAAUjM,QAASimB,GACjBl9B,KAAKG,EAAE,iCAKZ,kBAAC,GAAD,CACCe,MAAK,UAAKlB,KAAKG,EAAE,8CAAZ,OACJgZ,EAAO9L,GADH,YAEDrN,KAAKG,EAAE,iDAFN,YAGJgZ,EAAOmD,QAAQhc,KAHX,KAKLsG,KAAMi2B,EACNtvB,QAASuvB,EACTzB,UAAW4B,GAEVj9B,KAAKG,EAAE,gDAET,kBAAC,GAAD,CACCwsB,UAAWoQ,EACXxvB,QAnDoC,WAClC+N,EAAUE,SACbwhB,GAA2B,IAkD1BvB,SAAUtiB,EAAO9L,GACjBquB,iBAAkBviB,EAAO9G,e,2yMClF7B,IAAMvF,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCmwB,cAAe,CACdhjB,YAAa,EACbO,KAAM,OACNR,UAAW,SACXrC,WAAY,OACZ,QAAS,CACR0B,OAAQvM,EAAM2R,QAAQ,SA4GVye,GAvGa,SAAC,GAAgB,IAAdjkB,EAAa,EAAbA,OACxBxL,EAAUb,KACV8F,EAAUC,cAChB,EAAgCrF,mBAAS,MAAzC,mBAAO6R,EAAP,KAAiB4I,EAAjB,KACA,EAA8Bza,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACM2vB,EAAwB9X,QAAQlG,GAC9B3W,EAAS+N,qBAAWpC,IAApB3L,KAUF40B,EAAwB,yCAAG,WAAOzhB,EAAGtY,EAAQmC,GAAlB,yEAChCgI,GAAW,GADqB,kBAGzBrF,KAAIqT,IAAJ,mBAAoBvC,EAAO9L,IAAM,CACtC9J,OAAQA,EACRmC,OAAQA,GAAU,OALY,UAShB,WAAXnC,EAT2B,uBAU9BuK,QAAQC,IAAI,gBAAiBoL,GAVC,SAWxB9Q,KAAIqT,IAAJ,oBAAqBvC,EAAO6S,WAAa,CAC9C1rB,KAAM6Y,EAAOmD,QAAQhc,KACrBsE,OAAQuU,EAAOmD,QAAQ1X,OACvBU,WAAY,KAdiB,OAkB/BoI,GAAW,GACI,SAAXnK,EACHqP,EAAQuB,KAAR,mBAAyBgF,EAAO9L,KAEhCuF,EAAQuB,KAAK,YAtBiB,kDAyB/BzG,GAAW,GACXjO,aAAW,EAAD,IA1BqB,0DAAH,0DA8B9B,OACC,yBAAKsP,UAAWpB,EAAQwvB,eACJ,WAAlBhkB,EAAO5V,QACP,kBAAC,GAAD,CACCkK,QAASA,EACTkmB,UAAW,kBAAC4J,GAAA,EAAD,MACXrlB,KAAK,QACLjB,QAAS,SAAA4E,GAAC,OAAIyhB,EAAyBzhB,EAAG,OAAJ,OAAYnT,QAAZ,IAAYA,OAAZ,EAAYA,EAAM2E,MAEvDrN,KAAKG,EAAE,uCAGS,SAAlBgZ,EAAO5V,QACP,oCACC,kBAAC,GAAD,CACCkK,QAASA,EACTkmB,UAAW,kBAAC4J,GAAA,EAAD,MACXrlB,KAAK,QACLjB,QAAS,SAAA4E,GAAC,OAAIyhB,EAAyBzhB,EAAG,UAAW,QAEpD7b,KAAKG,EAAE,uCAET,kBAAC,GAAD,CACCsN,QAASA,EACTyK,KAAK,QACLjI,QAAQ,YACR9K,MAAM,UACN8R,QAAS,SAAA4E,GAAC,OAAIyhB,EAAyBzhB,EAAG,SAAJ,OAAcnT,QAAd,IAAcA,OAAd,EAAcA,EAAM2E,MAEzDrN,KAAKG,EAAE,wCAET,kBAACkhB,EAAA,EAAD,CAAYpK,QArEoB,SAAA4E,GACnCoM,EAAYpM,EAAEoN,iBAqEV,kBAAC,KAAD,OAED,kBAAC,GAAD,CACC9P,OAAQA,EACRkG,SAAUA,EACV6I,SAAUmV,EACVzvB,YAxEgC,SAAAiO,GACpCoM,EAAY,UA2EQ,YAAlB9O,EAAO5V,QACP,kBAAC,GAAD,CACCkK,QAASA,EACTyK,KAAK,QACLjI,QAAQ,YACR9K,MAAM,UACN8R,QAAS,SAAA4E,GAAC,OAAIyhB,EAAyBzhB,EAAG,OAAJ,OAAYnT,QAAZ,IAAYA,OAAZ,EAAYA,EAAM2E,MAEvDrN,KAAKG,EAAE,yC,u2MC7Gb,IA2Eeq9B,GA3EM,SAAC,GAA0B,IAAxBlhB,EAAuB,EAAvBA,QAASmhB,EAAc,EAAdA,QACvB7qB,EAAUC,cACRnK,EAAS+N,qBAAWpC,IAApB3L,KAER,EAAsC8E,mBAAS,CAC3ClN,KAAM,GACNsE,OAAQ,EACR2X,cAAe,KAHnB,mBAAOuQ,EAAP,KAAwBZ,EAAxB,KAMAre,qBAAU,WACN,IAAM+I,EAAkBC,YAAW,YACZ,yCAAG,yGAEV6mB,EAAa,CACbp9B,KAAMgc,EACN1X,OAAQ64B,EAAQ7kB,QAAQ,MAAO,IAC/BrX,MAAO,IALG,SAOS8G,KAAIsL,KAAK,WAAY+pB,GAP9B,gBAON79B,EAPM,EAONA,KACRqsB,EAAWrsB,GARG,gDAWdiO,QAAQC,IAAR,MACAtO,aAAW,EAAD,IAZI,yDAAH,qDAenB2tB,KACD,KACH,OAAO,kBAAMpW,aAAaJ,MAC3B,CAAC0F,EAASmhB,IAEb,IAAME,EAAa,yCAAG,gHAEiBt1B,KAAIsL,KAAK,WAAY,CAChDqY,UAAWc,EAAgBzf,GAC3B3H,OAAQgD,EAAK2E,GACb9J,OAAQ,SALE,gBAEA4V,EAFA,EAENtZ,KAKR+S,EAAQuB,KAAR,mBAAyBgF,EAAO9L,KAPlB,gDASd5N,aAAW,EAAD,IATI,yDAAH,qDAanB,OACF,oCACC,yBAAKqQ,MAAO,CACXwT,SAAU,UAEV,kBAACiI,GAAA,EAAD,CAAM5D,WAAS,EAAChJ,QAAS,GACxB,kBAAC4M,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACd,kBAACrP,GAAA,EAAD,CAAQC,IAAKyQ,EAAgBvQ,iBAE9B,kBAACgP,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACd,kBAAChP,EAAA,EAAD,CAAY3M,MAAO,CAAE8H,UAAW,OAAQC,WAAY,QAAU5H,QAAQ,YAAY9K,MAAM,UAAUikB,cAAY,GAC5G0D,EAAgBxsB,OAGnB,kBAACirB,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAACrU,EAAA,EAAD,MACA,kBAACY,GAAA,EAAD,CACC/I,WAAS,EACT9J,MAAM,UACN8R,QAAS0mB,EACTr0B,UAAWwjB,EAAgBloB,QAJ5B,kB,2yMClEN,IA4Ceg5B,GA5CS,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,YACpClwB,qBAAU,cAAU,CAACgwB,EAAOC,EAAMC,IAElC,IAAMC,EAAc,yCAAG,+EACnB,IACIv9B,OAAOmG,KAAKk3B,GACd,MAAOp+B,GACLD,aAAWC,GAJI,2CAAH,qDAQpB,OACF,oCACC,yBAAKoQ,MAAO,CACXwT,SAAU,UAEV,6BACC,yBAAKxT,MAAO,CAAEmuB,MAAO,SACpB,yBAAK5hB,IAAKwhB,EAAO5mB,QAAS+mB,EAAgBluB,MAAO,CAAEI,MAAO,YAEzD6tB,GACF,yBAAKjuB,MAAO,CAAE5C,QAAS,OAAQC,SAAU,SACxC,kBAACsP,EAAA,EAAD,CAAY3M,MAAO,CAAE8H,UAAW,OAAQC,WAAY,OAAQsC,YAAa,OAAQ8jB,MAAO,QAAUhuB,QAAQ,YAAY9K,MAAM,UAAUikB,cAAY,GACjJ,yBAAK8U,wBAAyB,CAAEC,OAAQJ,EAAYnlB,QAAQ,MAAO,eAIrE,yBAAK9I,MAAO,CAAE5C,QAAS,QAAS/J,QAAS,GAAIi7B,MAAO,UACpD,6BACC,kBAAChnB,EAAA,EAAD,MACA,kBAACY,GAAA,EAAD,CACC/I,WAAS,EACT9J,MAAM,UACN8R,QAAS+mB,EACT10B,UAAWw0B,GAJZ,mB,qzMChCN,IAAMhxB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCqxB,aAAc,CACbC,UAAW,QACXpuB,MAAO,IACPC,OAAQ,IACRouB,oBAAqB,EACrB/P,qBAAsB,EACtBgQ,uBAAwB,EACxB/P,wBAAyB,OAmCZgQ,GA/BQ,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnB/wB,EAAUb,KAChB,EAAgCU,oBAAS,GAAzC,mBAAOmxB,EAAP,KAAiBC,EAAjB,KACA,EAA8BpxB,mBAAS,IAAvC,mBAAOqxB,EAAP,KAAgBC,EAAhB,KAiBA,OAfAjxB,qBAAU,WACJ6wB,GACW,yCAAG,2GACcr2B,KAAIsJ,IAAI+sB,EAAU,CACjDK,aAAc,SAFG,gBACVl/B,EADU,EACVA,KAAMuT,EADI,EACJA,QAGR4rB,EAAMv+B,OAAOw+B,IAAIC,gBACtB,IAAIC,KAAK,CAACt/B,GAAO,CAAEwO,KAAM+E,EAAQ,mBAElC0rB,EAAWE,GACXJ,GAAY,GARM,2CAAH,oDAUhBQ,KACE,CAACV,IAGH,kBAAC,KAAD,CACC3vB,UAAWpB,EAAQ0wB,aACnBgB,YAAaV,EAAWD,EAAWG,EACnCS,OAAQX,EAAWD,EAAWG,EAC9BU,MAAOZ,EAAWD,EAAWG,EAC7BpL,IAAI,W,2yMCjCP,IA2De+L,GA3DY,SAAC,GAAkD,IAAhD1/B,EAA+C,EAA/CA,QAASooB,EAAsC,EAAtCA,SAAUta,EAA4B,EAA5BA,YAAayR,EAAe,EAAfA,SACpDoV,EAAuBhe,qBAAW6d,IAAlCG,mBACR,EAAgDjnB,oBAAS,GAAzD,mBAAOqvB,EAAP,KAAyBC,EAAzB,KAEM2C,EAAmB,yCAAG,wGAElBp3B,KAAI8B,OAAJ,oBAAwBrK,EAAQuN,KAFd,sDAIxB5N,aAAW,EAAD,IAJc,wDAAH,qDAkBzB,OACE,oCACE,kBAAC,GAAD,CACEyB,MAAOlB,KAAKG,EAAE,8CACdyG,KAAMi2B,EACNtvB,QAASuvB,EACTzB,UAAWoE,GAEVz/B,KAAKG,EAAE,iDAEV,kBAAC+oB,EAAA,EAAD,CACE7J,SAAUA,EACVuD,mBAAoB,KACpBnB,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,SAEd/a,KAAMshB,EACN3a,QAASK,GAER9N,EAAQo4B,QACP,kBAAChV,EAAA,EAAD,CAAUjM,QA9BkB,SAAC4E,GACnCihB,GAAoB,GACpBlvB,MA6BS5N,KAAKG,EAAE,8BAGZ,kBAAC+iB,EAAA,EAAD,CAAUjM,QAvCW,WACzBwd,EAAmB30B,GACnB8N,MAsCO5N,KAAKG,EAAE,gC,g0MC5BlB,IAAM2M,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC0yB,aAAc,CACZv6B,MAAO,UACP6V,QAAS,GAEX2kB,cAAe,CACb/nB,UAAW,EACXlI,WAAY,SACZkwB,cAAe,SACfnK,aAAc,SACdlb,gBAAiB,YACjBZ,SAAU,OACV2J,SAAU,IACVtU,SAAU,IACV7J,MAAO,UACPo5B,oBAAqB,EACrB/P,qBAAsB,EACtBgQ,uBAAwB,EACxB/P,wBAAyB,EACzBxT,YAAa,EACblL,aAAc,EACd6X,WAAY,EACZC,cAAe,EACf9I,UAAW,qBAEb8gB,oBAAqB,CACnBnY,SAAU,SACVnQ,SAAU,WACVrK,QAAS,OACTsM,cAAe,SACf2N,SAAU,GAGZ5d,aAAa,0BACXu2B,gBAAgB,OAAD,OAASC,KAAT,KACf7yB,QAAS,OACTsM,cAAe,SACf2N,SAAU,EACVnM,QAAS,sBACTuD,UAAW,UACVvR,EAAM4R,YAAYC,KAAK,MAAQ,CAC9BgJ,cAAe,SAEd7a,EAAMyR,iBAGX4W,cAAe,CACblwB,MAAOsS,KAAM,KACbF,SAAU,WACV+d,QAAS,MACT5d,IAAK,EACLC,KAAM,MACNC,UAAW,IAGbooB,YAAa,CACX7lB,YAAa,GACbvC,UAAW,EACX0L,SAAU,IACVtU,SAAU,IACVmB,OAAQ,OACRjD,QAAS,QACTqK,SAAU,WACV,gCAAiC,CAC/BrK,QAAS,OACTqK,SAAU,WACVG,IAAK,EACLkD,MAAO,GAGTyM,WAAY,WACZ9M,gBAAiB,UACjBpV,MAAO,UACP+U,UAAW,aACXqkB,oBAAqB,EACrB/P,qBAAsB,EACtBgQ,uBAAwB,EACxB/P,wBAAyB,EACzBxT,YAAa,EACblL,aAAc,EACd6X,WAAY,EACZC,cAAe,EACf9I,UAAW,qBAGbkhB,oBAAqB,CACnB1mB,OAAQ,sBACRmO,SAAU,SACVnN,gBAAiB,UACjBW,aAAc,QACdhO,QAAS,OACTqK,SAAU,YAGZ6gB,UAAW,CACTpd,QAAS,GACThM,SAAU,IACVmB,OAAQ,OACRjD,QAAS,QACTma,WAAY,WACZK,SAAU,UAGZwY,oBAAqB,CACnBxlB,KAAM,OACNxK,MAAO,MACPqK,gBAAiB,WAGnB4lB,aAAc,CACZtoB,WAAY,GACZD,UAAW,EACX0L,SAAU,IACVtU,SAAU,IACVmB,OAAQ,OACRjD,QAAS,QACTqK,SAAU,WACV,gCAAiC,CAC/BrK,QAAS,OACTqK,SAAU,WACVG,IAAK,EACLkD,MAAO,GAGTyM,WAAY,WACZ9M,gBAAiB,UACjBpV,MAAO,UACP+U,UAAW,WACXqkB,oBAAqB,EACrB/P,qBAAsB,EACtBgQ,uBAAwB,EACxB/P,wBAAyB,EACzBxT,YAAa,EACblL,aAAc,EACd6X,WAAY,EACZC,cAAe,EACf9I,UAAW,qBAGbqhB,qBAAsB,CACpB7mB,OAAQ,sBACRgF,UAAW,SACXhE,gBAAiB,UACjBW,aAAc,QACdhO,QAAS,OACTqK,SAAU,YAGZ8oB,eAAgB,CACdrlB,QAAS,GACThM,SAAU,IACVmB,OAAQ,OACRkX,WAAY,YAGdiZ,qBAAsB,CACpB5lB,KAAM,OACNxK,MAAO,MACPqK,gBAAiB,WAGnBgmB,qBAAsB,CACpBrzB,QAAS,OACTqK,SAAU,WACVpS,MAAO,OACP8gB,OAAQ,EACR1L,gBAAiB,UACjB+a,QAAS,MACT,8BAA+B,CAAE/a,gBAAiB,YAGpD0b,mBAAoB,CAClB/oB,QAAS,OACT/H,MAAO,UACP0U,WAAY,KAGd2mB,gBAAiB,CACfC,aAAc,aACdzlB,QAAS,oBAGX0lB,uBAAwB,CACtBC,UAAW,SACXx7B,MAAO,sBACPs7B,aAAc,aACdzlB,QAAS,oBAGXqjB,aAAc,CACZC,UAAW,QACXpuB,MAAO,IACPC,OAAQ,IACRouB,oBAAqB,EACrB/P,qBAAsB,EACtBgQ,uBAAwB,EACxB/P,wBAAyB,GAG3BmS,UAAW,CACTjnB,SAAU,GACVpC,SAAU,WACVsD,OAAQ,EACRD,MAAO,EACPzV,MAAO,QAGT07B,eAAgB,CACdnxB,WAAY,SACZgK,UAAW,SACXQ,UAAW,SACXhK,MAAO,QACPqK,gBAAiB,UACjBhB,OAAQ,OACR2B,aAAc,OACd6D,UAAW,qBAGb+hB,mBAAoB,CAClB37B,MAAO,UACP6V,QAAS,EACTd,UAAW,SACXrC,WAAY,OAGdkpB,SAAU,CACRpnB,SAAU,GACVimB,cAAe,SACf/nB,WAAY,GAGdmpB,YAAa,CACXrnB,SAAU,GACVimB,cAAe,SACfzlB,YAAa,GAGf8mB,eAAgB,CACd97B,MAAOsS,KAAM,KACbkC,SAAU,GACVimB,cAAe,SACf/nB,WAAY,GAGdqpB,cAAe,CACbh0B,QAAS,OACTwC,WAAY,SACZC,eAAgB,SAChB4K,gBAAiB,UACjBS,QAAS,QAIPrK,GAAU,SAACC,EAAOC,GACtB,GAAoB,kBAAhBA,EAAOxC,KAA0B,CACnC,IAAMvN,EAAW+P,EAAOE,QAClBowB,EAAc,GAWpB,OATArgC,EAASmN,SAAQ,SAACnO,GAChB,IAAMshC,EAAexwB,EAAMM,WAAU,SAACmwB,GAAD,OAAOA,EAAEh0B,KAAOvN,EAAQuN,OACvC,IAAlB+zB,EACFxwB,EAAMwwB,GAAgBthC,EAEtBqhC,EAAYhtB,KAAKrU,MAIf,GAAN,OAAWqhC,EAAX,aAA2BvwB,IAG7B,GAAoB,gBAAhBC,EAAOxC,KAAwB,CACjC,IAAMizB,EAAazwB,EAAOE,QACpBqwB,EAAexwB,EAAMM,WAAU,SAACmwB,GAAD,OAAOA,EAAEh0B,KAAOi0B,EAAWj0B,MAQhE,OANsB,IAAlB+zB,EACFxwB,EAAMwwB,GAAgBE,EAEtB1wB,EAAMuD,KAAKmtB,GAGN,aAAI1wB,GAGb,GAAoB,mBAAhBC,EAAOxC,KAA2B,CACpC,IAAMkzB,EAAkB1wB,EAAOE,QACzBqwB,EAAexwB,EAAMM,WAAU,SAACmwB,GAAD,OAAOA,EAAEh0B,KAAOk0B,EAAgBl0B,MAMrE,OAJsB,IAAlB+zB,IACFxwB,EAAMwwB,GAAgBG,GAGjB,aAAI3wB,GAGb,GAAoB,UAAhBC,EAAOxC,KACT,MAAO,IA0cImzB,GAtcM,SAAC,GAA2B,IAAzBpmB,EAAwB,EAAxBA,SAAUwF,EAAc,EAAdA,QAC1BjT,EAAUb,KAEhB,EAAiC2E,qBAAWd,GAAS,IAArD,mBAAOpH,EAAP,KAAqBmI,EAArB,KACA,EAAoClE,mBAAS,GAA7C,mBAAO6P,EAAP,KAAmB4R,EAAnB,KACA,EAA8BzhB,oBAAS,GAAvC,mBAAOiQ,EAAP,KAAgBC,EAAhB,KACA,EAA8BlQ,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACM+zB,EAAiBlmB,mBAEvB,EAA8C/N,mBAAS,IAAvD,mBAAOk0B,EAAP,KAAwBC,EAAxB,KACA,EAAgCn0B,mBAAS,MAAzC,mBAAO6R,EAAP,KAAiB4I,EAAjB,KACM2Z,EAAyBrc,QAAQlG,GACjCwiB,EAAkBtmB,iBAAOH,GAE/BvN,qBAAU,WACR6D,EAAS,CAAErD,KAAM,UACjB4gB,EAAc,GAEd4S,EAAgBrmB,QAAUJ,IACzB,CAACA,IAEJvN,qBAAU,WACRH,GAAW,GACX,IAAMkJ,EAAkBC,YAAW,YACd,yCAAG,gHAEKxO,KAAIsJ,IAAI,aAAeyJ,EAAU,CACtD2C,OAAQ,CAAEV,gBAHM,gBAEVxd,EAFU,EAEVA,KAIJgiC,EAAgBrmB,UAAYJ,IAC9B1J,EAAS,CAAErD,KAAM,gBAAiB0C,QAASlR,EAAKiB,WAChD4c,EAAW7d,EAAK4d,SAChB/P,GAAW,IAGM,IAAf2P,GAAoBxd,EAAKiB,SAAS2N,OAAS,GAC7CqzB,IAbgB,gDAgBlBp0B,GAAW,GACXjO,aAAW,EAAD,IAjBQ,yDAAH,qDAoBnBsiC,KACC,KACH,OAAO,WACL/qB,aAAaJ,MAEd,CAACyG,EAAYjC,IAEhBvN,qBAAU,WACR,IAAMgE,EAASnB,KACToB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAUC,aAAWJ,GAiB3B,OAdAD,EAAOM,GAAG,WAAW,kBAAMN,EAAOoO,KAAK,cAAe7E,MAEtDvJ,EAAOM,GAAP,qBAAwBF,EAAQG,YAAa,SAACvS,GAC5CiO,QAAQC,IAAIlO,GACQ,WAAhBA,EAAKgR,SACPa,EAAS,CAAErD,KAAM,cAAe0C,QAASlR,EAAKC,UAC9CgiC,KAGkB,WAAhBjiC,EAAKgR,QACPa,EAAS,CAAErD,KAAM,iBAAkB0C,QAASlR,EAAKC,aAI9C,WACL+R,EAAOjP,gBAER,CAACwY,IAEJ,IAIM0mB,EAAiB,WACjBL,EAAejmB,SACjBimB,EAAejmB,QAAQwmB,eAAe,KAqBpCC,EAA+B,SAACpmB,EAAG/b,GACvCmoB,EAAYpM,EAAEoN,eACd0Y,EAAmB7hC,IAOfoiC,EAAoB,SAACpiC,GACzB,GAA0B,aAAtBA,EAAQqiC,WAA4BriC,EAAQghB,KAAKtS,MAAM,KAAKC,QAAU,EAAG,CAC3E,IAAI2zB,EAAgBtiC,EAAQghB,KAAKtS,MAAM,KACnC6zB,EAAgBD,EAAc,GAC9BE,EAAeF,EAAc,GAE7BG,EAAsB,KAK1B,OAHIH,EAAc3zB,OAAS,IACzB8zB,EAAsBziC,EAAQghB,KAAKtS,MAAM,KAAK,IAEzC,kBAAC,GAAD,CAAiBqvB,MAAOwE,EAAevE,KAAMwE,EAAcvE,YAAawE,IAE5E,GAA0B,UAAtBziC,EAAQqiC,UAAuB,CAMtC,IAHA,IAAIK,EAAQ1iC,EAAQghB,KAAKtS,MAAM,MAC3BK,EAAM,GACNyN,EAAU,GACL1N,EAAQ,EAAGA,EAAQ4zB,EAAM/zB,OAAQG,IAGxC,IAFA,IACI2V,EADMie,EAAM5zB,GACDJ,MAAM,KACZi0B,EAAM,EAAGA,EAAMle,EAAO9V,OAAQg0B,KACH,IAA9Ble,EAAOke,GAAKtT,QAAQ,MACtBtgB,EAAIsF,KAAK,CAAEvP,OAAQ2f,EAAOke,MAEO,IAA/Ble,EAAOke,GAAKtT,QAAQ,QACtB7S,EAAUiI,EAAOke,EAAM,IAI7B,OAAO,kBAAC,GAAD,CAAcnmB,QAASA,EAASmhB,QAAS5uB,EAAI,GAAGjK,SAmBpD,MAA0B,UAAtB9E,EAAQqiC,UACR,kBAAC,GAAD,CAAgBzD,SAAU5+B,EAAQq4B,WACV,UAAtBr4B,EAAQqiC,UAEf,2BAAOO,UAAQ,GACb,4BAAQrmB,IAAKvc,EAAQq4B,SAAU9pB,KAAK,eAGT,UAAtBvO,EAAQqiC,UAEf,2BACEpzB,UAAWpB,EAAQ0wB,aACnBhiB,IAAKvc,EAAQq4B,SACbuK,UAAQ,IAKV,oCACE,yBAAK3zB,UAAWpB,EAAQuzB,eACtB,kBAAClpB,GAAA,EAAD,CACE2b,UAAW,kBAACgP,GAAA,EAAD,MACXx9B,MAAM,UACN8K,QAAQ,WACRqI,OAAO,SACPob,KAAM5zB,EAAQq4B,UALhB,aAUF,kBAAC/gB,EAAA,EAAD,QAqBFwrB,EAAwB,SAAC9iC,EAAS8O,GACtC,GAAc,IAAVA,EACF,OACE,0BACEG,UAAWpB,EAAQkzB,eACnBrwB,IAAG,oBAAe1Q,EAAQuN,KAE1B,yBAAK0B,UAAWpB,EAAQmzB,oBACrB/jB,aAAOF,aAAStT,EAAaqF,GAAOkb,WAAY,gBAKzD,GAAIlb,EAAQrF,EAAakF,OAAS,EAAG,CACnC,IAAIo0B,EAAahmB,aAAStT,EAAaqF,GAAOkb,WAC1CgZ,EAAqBjmB,aAAStT,EAAaqF,EAAQ,GAAGkb,WAE1D,IAAKlN,aAAUimB,EAAYC,GACzB,OACE,0BACE/zB,UAAWpB,EAAQkzB,eACnBrwB,IAAG,oBAAe1Q,EAAQuN,KAE1B,yBAAK0B,UAAWpB,EAAQmzB,oBACrB/jB,aAAOF,aAAStT,EAAaqF,GAAOkb,WAAY,gBAM3D,OAAIlb,IAAUrF,EAAakF,OAAS,EAEhC,yBACE+B,IAAG,cAAS1Q,EAAQgqB,WACpB9T,IAAKyrB,EACL3xB,MAAO,CAAEmuB,MAAO,OAAQG,MAAO,eALrC,GAWI2E,EAAqB,SAACjjC,EAAS8O,GACnC,GAAIA,EAAQrF,EAAakF,QAAUG,EAAQ,EAAG,CAC5C,IAAIo0B,EAAgBljC,EAAQsb,SAG5B,GAAI4nB,IAFwBz5B,EAAaqF,EAAQ,GAAGwM,SAGlD,OACE,yBAAK5K,IAAG,iBAAY1Q,EAAQuN,IAAM0B,UAAWpB,EAAQ+xB,cAArD,YACYsD,EACV,gCAQJC,EAAuB,SAACnjC,EAAS8O,GACrC,GAAIA,EAAQrF,EAAakF,QAAUG,EAAQ,GACvBrF,EAAaqF,GAAOspB,SACZ3uB,EAAaqF,EAAQ,GAAGspB,OAGhD,OACE,0BAAMpoB,MAAO,CAAE8H,UAAW,IAAMpH,IAAG,kBAAa1Q,EAAQuN,OAM1D61B,EAAsB,SAACpjC,GAAa,IAAD,UACvC,OACE,yBACEiP,UAAWgN,YAAKpO,EAAQsyB,oBAAT,eACZtyB,EAAQyyB,qBAAuBtgC,EAAQo4B,UAG1C,0BACEnpB,UAAWgN,YAAKpO,EAAQuyB,oBAAT,eACZvyB,EAAQ2yB,qBADI,UACmBxgC,EAAQs4B,iBAD3B,aACmB,EAAmBF,WAGvD,yBAAKnpB,UAAWpB,EAAQyqB,aACrB,UAACt4B,EAAQs4B,iBAAT,aAAC,EAAmBF,SACnB,0BAAMnpB,UAAWpB,EAAQsoB,oBAAzB,UACGn2B,EAAQs4B,iBADX,iBACG,EAAmB9b,eADtB,aACG,EAA4Bhc,MAHnC,UAMGR,EAAQs4B,iBANX,aAMG,EAAmBtX,QAgI5B,OACE,yBAAK/R,UAAWpB,EAAQkyB,qBACtB,kBAAC,GAAD,CACE//B,QAAS4hC,EACTriB,SAAUA,EACV6I,SAAU0Z,EACVh0B,YAxUgC,SAACiO,GACrCoM,EAAY,SAyUV,yBACE5a,GAAG,eACH0B,UAAWpB,EAAQpE,aACnBgmB,SAnWe,SAAC1T,GACpB,GAAK4B,EAAL,CACA,IAAQ+R,EAAc3T,EAAEoN,cAAhBuG,UAEU,IAAdA,IACF9O,SAAS8S,eAAe,gBAAgBhE,UAAY,GAGlD/hB,GAIA+hB,EAAY,IArBhBP,GAAc,SAACkU,GAAD,OAAoBA,EAAiB,QA8W9C55B,EAAakF,OAAS,EAtIvBlF,EAAakF,OAAS,EACClF,EAAawY,KAAI,SAACjiB,EAAS8O,GAGX,IAAD,EAgCjB,EAhCrB,MAA0B,aAAtB9O,EAAQqiC,UAER,kBAAC,IAAMxmB,SAAP,CAAgBnL,IAAK1Q,EAAQuN,IAC1Bu1B,EAAsB9iC,EAAS8O,GAC/Bm0B,EAAmBjjC,EAAS8O,GAC5Bq0B,EAAqBnjC,EAAS8O,GAC/B,yBAAKG,UAAWpB,EAAQgyB,eACtB,kBAACte,EAAA,EAAD,CACEpR,QAAQ,YACRiI,KAAK,QACL7K,GAAG,uBACH/D,SAAUxJ,EAAQsjC,UAClBr0B,UAAWpB,EAAQ4yB,qBACnBtpB,QAAS,SAAC4E,GAAD,OAAOomB,EAA6BpmB,EAAG/b,KAEhD,kBAACujC,GAAA,EAAD,OAEDziB,GACC,0BAAM7R,UAAWpB,EAAQsoB,oBAAzB,UACGn2B,EAAQwc,eADX,aACG,EAAiBhc,MAGtB,6BACE,yBAAKgjC,MAAM,6BAA6BC,QAAQ,YAAYrzB,MAAM,KAAKC,OAAO,MAC5E,0BAAM2a,KAAK,UAAU0Y,EAAE,0RAF3B,IAGS,uEAAuCzmB,aAAOF,aAAS/c,EAAQgqB,WAAY,aAOvFhqB,EAAQo4B,OAqCT,kBAAC,IAAMvc,SAAP,CAAgBnL,IAAK1Q,EAAQuN,IAC1Bu1B,EAAsB9iC,EAAS8O,GAC/Bm0B,EAAmBjjC,EAAS8O,GAC5Bq0B,EAAqBnjC,EAAS8O,GAC/B,yBAAKG,UAAWpB,EAAQwyB,cACtB,kBAAC9e,EAAA,EAAD,CACEpR,QAAQ,YACRiI,KAAK,QACL7K,GAAG,uBACH/D,SAAUxJ,EAAQsjC,UAClBr0B,UAAWpB,EAAQ4yB,qBACnBtpB,QAAS,SAAC4E,GAAD,OAAOomB,EAA6BpmB,EAAG/b,KAEhD,kBAACujC,GAAA,EAAD,QAEAvjC,EAAQq4B,UAAkC,aAAtBr4B,EAAQqiC,WAAkD,UAAtBriC,EAAQqiC,YAE7DD,EAAkBpiC,GACvB,yBACEiP,UAAWgN,YAAKpO,EAAQ6yB,gBAAT,eACZ7yB,EAAQ+yB,uBAAyB5gC,EAAQsjC,aAG3CtjC,EAAQsjC,WACP,kBAACK,GAAA,EAAD,CACEt+B,MAAM,WACNwU,SAAS,QACT5K,UAAWpB,EAAQqzB,cAGtBlhC,EAAQs4B,WAAa8K,EAAoBpjC,GAC1C,kBAAC,GAAD,KAAkBA,EAAQghB,MAC1B,0BAAM/R,UAAWpB,EAAQizB,WACtB7jB,aAAOF,aAAS/c,EAAQgqB,WAAY,SAzN9B,SAAChqB,GACxB,OAAoB,IAAhBA,EAAQ4jC,IACH,kBAACC,GAAA,EAAD,CAAYhqB,SAAS,QAAQ5K,UAAWpB,EAAQozB,WAErC,IAAhBjhC,EAAQ4jC,IACH,kBAACE,GAAA,EAAD,CAAMjqB,SAAS,QAAQ5K,UAAWpB,EAAQozB,WAE/B,IAAhBjhC,EAAQ4jC,IACH,kBAACG,GAAA,EAAD,CAASlqB,SAAS,QAAQ5K,UAAWpB,EAAQozB,WAElC,IAAhBjhC,EAAQ4jC,KAA6B,IAAhB5jC,EAAQ4jC,IACxB,kBAACG,GAAA,EAAD,CAASlqB,SAAS,QAAQ5K,UAAWpB,EAAQszB,sBADtD,EAgNiB6C,CAAiBhkC,OArE1B,kBAAC,IAAM6b,SAAP,CAAgBnL,IAAK1Q,EAAQuN,IAC1Bu1B,EAAsB9iC,EAAS8O,GAC/Bm0B,EAAmBjjC,EAAS8O,GAC5Bq0B,EAAqBnjC,EAAS8O,GAC/B,yBAAKG,UAAWpB,EAAQqyB,aACtB,kBAAC3e,EAAA,EAAD,CACEpR,QAAQ,YACRiI,KAAK,QACL7K,GAAG,uBACH/D,SAAUxJ,EAAQsjC,UAClBr0B,UAAWpB,EAAQ4yB,qBACnBtpB,QAAS,SAAC4E,GAAD,OAAOomB,EAA6BpmB,EAAG/b,KAEhD,kBAACujC,GAAA,EAAD,OAEDziB,GACC,0BAAM7R,UAAWpB,EAAQsoB,oBAAzB,UACGn2B,EAAQwc,eADX,aACG,EAAiBhc,OAGpBR,EAAQq4B,UAAkC,aAAtBr4B,EAAQqiC,WAAkD,UAAtBriC,EAAQqiC,YAE7DD,EAAkBpiC,GACvB,yBAAKiP,UAAWpB,EAAQ6yB,iBACrB1gC,EAAQs4B,WAAa8K,EAAoBpjC,GAC1C,kBAAC,GAAD,KAAkBA,EAAQghB,MAC1B,0BAAM/R,UAAWpB,EAAQizB,WACtB7jB,aAAOF,aAAS/c,EAAQgqB,WAAY,gBAoD5C,+DAiByC,IAE/Crc,GACC,6BACE,kBAACwK,GAAA,EAAD,CAAkBlJ,UAAWpB,EAAQ0nB,mB,2yMCzvB/C,IAEMvoB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,QAAS,OACTiD,OAAQ,OACRoH,SAAU,WACVmQ,SAAU,UAGZqc,WAAW,aACT/0B,SAAU,MACVg1B,UAAW,OACVh3B,EAAM4R,YAAYC,KAAK,MAAQ,CAC9B7P,SAAU,MACVg1B,UAAW,QAGfC,oBAAoB,aAClBj1B,SAAU,MACVg1B,UAAW,MACX92B,QAAS,QACRF,EAAM4R,YAAYC,KAAK,MAAQ,CAC9B7P,SAAU,OACVg1B,UAAW,OACX3X,aAAc,QAIlBwI,YAAa,CACXna,KAAM,EACNvK,OAAQ,OACRjD,QAAS,OACTsM,cAAe,SACfkO,SAAU,SACV6W,oBAAqB,EACrBC,uBAAwB,EACxB0F,WAAY,IACZ/pB,aAtCgB,IAuChBqM,WAAYxZ,EAAMyZ,YAAYC,OAAO,SAAU,CAC7CC,OAAQ3Z,EAAMyZ,YAAYE,OAAOC,MACjCC,SAAU7Z,EAAMyZ,YAAYI,SAASC,iBAIzCqd,iBAAkB,CAChB3V,qBAAsB,EACtBC,wBAAyB,EACzBjI,WAAYxZ,EAAMyZ,YAAYC,OAAO,SAAU,CAC7CC,OAAQ3Z,EAAMyZ,YAAYE,OAAOyd,QACjCvd,SAAU7Z,EAAMyZ,YAAYI,SAASG,iBAEvC7M,YAAa,OAmHFkqB,GA/GA,WACb,IAAQjpB,EAAaC,cAAbD,SACFxI,EAAUC,cACVlF,EAAUb,KAEhB,EAAoCU,oBAAS,GAA7C,mBAAO4a,EAAP,KAAmBC,EAAnB,KACA,EAA8B7a,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAO8O,EAAP,KAAgB4P,EAAhB,KACA,EAA4B1e,mBAAS,IAArC,mBAAO2L,EAAP,KAAemrB,EAAf,KAEAz2B,qBAAU,WACRH,GAAW,GACX,IAAMkJ,EAAkBC,YAAW,YAChB,yCAAG,gHAEOxO,KAAIsJ,IAAI,YAAcyJ,GAF7B,gBAERvb,EAFQ,EAERA,KAERqsB,EAAWrsB,EAAKyc,SAChBgoB,EAAUzkC,GACV6N,GAAW,GANK,kDAQhBA,GAAW,GACXjO,aAAW,EAAD,IATM,0DAAH,qDAYjB8kC,KACC,KACH,OAAO,kBAAMvtB,aAAaJ,MACzB,CAACwE,EAAUxI,IAEd/E,qBAAU,WACR,IAAMgE,EAASnB,KACToB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAUC,aAAWJ,GA0B3B,OAzBAD,EAAOM,GAAG,WAAW,kBAAMN,EAAOoO,KAAK,cAAe7E,MAGtDvJ,EAAOM,GAAP,iBAAoBF,EAAQG,YAAa,SAACvS,GACpB,WAAhBA,EAAKgR,QACPyzB,EAAUzkC,EAAKsZ,QAGG,WAAhBtZ,EAAKgR,SACP3Q,IAAMkB,QAAQ,+BACdwR,EAAQuB,KAAK,gBAIjBtC,EAAOM,GAAG,WAAW,SAACtS,GACA,WAAhBA,EAAKgR,QACPqb,GAAW,SAAChM,GAAe,IAAD,EACxB,OAAIA,EAAU7S,MAAV,UAAiBxN,EAAKyc,eAAtB,aAAiB,EAAcjP,IAC1B,6BAAK6S,GAAcrgB,EAAKyc,SAE1B4D,QAKN,WACLrO,EAAOjP,gBAER,CAACwY,EAAUxI,IAUd,OACE,yBAAK7D,UAAWpB,EAAQV,KAAMI,GAAG,oBAC/B,kBAACqe,GAAA,EAAD,CACEzb,QAAQ,WACRqf,UAAW,EACXvgB,UAAWgN,YAAKpO,EAAQknB,YAAT,eACZlnB,EAAQw2B,iBAAmB/b,KAG9B,kBAAC,GAAD,CAAc3a,QAASA,GACrB,yBAAKsB,UAAWpB,EAAQo2B,YACtB,kBAAC,GAAD,CACEznB,QAASA,EACTnD,OAAQA,EACRlC,QAtBa,WACvBoR,GAAc,OAwBR,yBAAKtZ,UAAWpB,EAAQs2B,qBACtB,kBAAC,GAAD,CAAqB9qB,OAAQA,MAGjC,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEiC,SAAUA,EACVwF,QAASzH,EAAOyH,UAElB,kBAAC,GAAD,CAAc0V,aAAcnd,EAAO5V,WAGvC,kBAAC,GAAD,CACEqD,KAAMwhB,EACN8K,kBAnCoB,WACxB7K,GAAc,IAmCV/L,QAASA,EACT7O,QAASA,MCzKXX,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCw3B,cAAe,CACb9pB,KAAM,EAGNvK,OAAO,oBACPoO,UAAW,UAGbkmB,WAAY,CAEVv3B,QAAS,OACTiD,OAAQ,QAGVu0B,gBAAiB,CACfx3B,QAAS,OACTiD,OAAQ,OACRqJ,cAAe,SACf+E,UAAW,UAEbomB,qBAAqB,aACnBz3B,QAAS,OACTiD,OAAQ,OACRqJ,cAAe,SACf+E,UAAW,UACVvR,EAAM4R,YAAYC,KAAK,MAAQ,CAC9B3R,QAAS,SAGb03B,iBAAkB,CAChB13B,QAAS,OACTiD,OAAQ,OACRqJ,cAAe,UAEjBqrB,WAAY,CACVtqB,gBAAiB,OACjBrN,QAAS,OACTyC,eAAgB,eAChBD,WAAY,SACZS,OAAQ,OACRuJ,UAAW,SACXwB,aAAc,GAEhB7U,eAAgB,GAChBy+B,qBAAqB,eAClB93B,EAAM4R,YAAYC,KAAK,MAAQ,CAC9B3R,QAAS,aA6CA63B,GAxCF,WACX,IAAMp3B,EAAUb,KACRsO,EAAaC,cAAbD,SAER,OACE,yBAAKrM,UAAWpB,EAAQ62B,eACtB,yBAAKz1B,UAAWpB,EAAQ82B,YACtB,kBAAClZ,GAAA,EAAD,CAAM5D,WAAS,EAAChJ,QAAS,GAEvB,kBAAC4M,GAAA,EAAD,CACEC,MAAI,EACJC,GAAI,GACJuZ,GAAI,EACJj2B,UACEqM,EAAWzN,EAAQg3B,qBAAuBh3B,EAAQ+2B,iBAGpD,kBAAC,GAAD,OAEF,kBAACnZ,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIuZ,GAAI,EAAGj2B,UAAWpB,EAAQi3B,kBAE1CxpB,EACC,oCACE,kBAAC,GAAD,OAGF,kBAACke,GAAA,EAAD,CAAQC,KAAM,CAAC,KAAM,OACnB,kBAAC7N,GAAA,EAAD,CAAO3c,UAAWpB,EAAQk3B,YAExB,8BAAO7kC,KAAKG,EAAE,gC,y0MCjDhC,IAAM2M,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC6U,MAAO,CACNjK,UAAW5K,EAAM2R,QAAQ,GACzBzR,QAAS,OACTsM,cAAe,SACf9J,WAAY,UAEbG,OAAQ,CACP0J,OAAQvM,EAAM2R,QAAQ,GACtBpE,gBAAiBvN,EAAMud,QAAQvN,UAAUgO,MAE1C1pB,KAAM,CACL4O,MAAO,OACP0H,UAAW5K,EAAM2R,QAAQ,IAE1Bjd,OAAQ,CACP6X,OAAQvM,EAAM2R,QAAQ,EAAG,EAAG,QAIxB4E,GAAaC,OAAaC,MAAM,CACrCnjB,KAAMkjB,OACJE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,YACXpiB,SAAUgiB,OAAaE,IAAI,EAAG,cAAcC,IAAI,GAAI,aACpDpiB,MAAOiiB,OAAajiB,MAAM,iBAAiBqiB,SAAS,cAmItCqhB,GAhIA,WACd,IAAMt3B,EAAUb,KACV8F,EAAUC,cAGhB,EAAwCrF,oBAAS,GAAjD,mBAAOyW,EAAP,KAAqBC,EAArB,KACA,EAAe1W,mBAFM,CAAElN,KAAM,GAAIiB,MAAO,GAAIC,SAAU,KAE/CkH,EAAP,oBAEMw8B,EAAY,yCAAG,WAAM3gB,GAAN,2FAEblc,KAAIsL,KAAK,eAAgB4Q,GAFZ,OAGnBrkB,IAAMkB,QAAQpB,KAAKG,EAAE,0BACrByS,EAAQuB,KAAK,UAJM,gDAMnB1U,aAAW,EAAD,IANS,yDAAH,sDAUlB,OACC,kBAAC6rB,GAAA,EAAD,CAAWnV,UAAU,OAAOnH,SAAS,MACpC,kBAACm2B,EAAA,EAAD,MACA,yBAAKp2B,UAAWpB,EAAQkU,OACvB,kBAACzF,GAAA,EAAD,CAAQrN,UAAWpB,EAAQkC,QAC1B,kBAACu1B,GAAA,EAAD,OAED,kBAAC3oB,EAAA,EAAD,CAAYtG,UAAU,KAAKlG,QAAQ,MACjCjQ,KAAKG,EAAE,iBAGT,kBAAC,KAAD,CACCukB,cAAehc,EACfic,oBAAoB,EACpBC,iBAAkBrB,GAClBsB,SAAU,SAACN,EAAQ7gB,GAClBmT,YAAW,WACVquB,EAAa3gB,GACb7gB,EAAQohB,eAAc,KACpB,QAGH,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,OAAZ,EAAoBC,aAApB,OACA,kBAAC,KAAD,CAAMlW,UAAWpB,EAAQrM,MACxB,kBAACiqB,GAAA,EAAD,CAAM5D,WAAS,EAAChJ,QAAS,GACxB,kBAAC4M,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAAC,KAAD,CACCrG,GAAIC,KACJggB,aAAa,OACb/kC,KAAK,OACLP,MAAOglB,EAAQzkB,MAAQilB,QAAQP,EAAO1kB,MACtCklB,WAAYT,EAAQzkB,MAAQ0kB,EAAO1kB,KACnC2P,QAAQ,WACRhB,WAAS,EACT5B,GAAG,OACH4V,MAAOjjB,KAAKG,EAAE,oBACdmlB,WAAS,KAIX,kBAACiG,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAAC,KAAD,CACCrG,GAAIC,KACJpV,QAAQ,WACRhB,WAAS,EACT5B,GAAG,QACH4V,MAAOjjB,KAAKG,EAAE,qBACdG,KAAK,QACLP,MAAOglB,EAAQxjB,OAASgkB,QAAQP,EAAOzjB,OACvCikB,WAAYT,EAAQxjB,OAASyjB,EAAOzjB,MACpC8jC,aAAa,WAGf,kBAAC9Z,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAAC,KAAD,CACCrG,GAAIC,KACJpV,QAAQ,WACRhB,WAAS,EACT3O,KAAK,WACL+M,GAAG,WACHg4B,aAAa,mBACbtlC,MAAOglB,EAAQvjB,UAAY+jB,QAAQP,EAAOxjB,UAC1CgkB,WAAYT,EAAQvjB,UAAYwjB,EAAOxjB,SACvCyhB,MAAOjjB,KAAKG,EAAE,wBACdkO,KAAM4V,EAAe,OAAS,WAC9BwB,WAAY,CACXC,aACC,kBAACC,GAAA,EAAD,CAAgBpO,SAAS,OACxB,kBAAC8J,EAAA,EAAD,CACCC,aAAW,6BACXrK,QAAS,kBAAMiN,GAAgB,SAACrI,GAAD,OAAQA,OAEtCoI,EAAe,kBAAC2B,GAAA,EAAD,MAAoB,kBAACC,GAAA,EAAD,aAQ3C,kBAAC7N,GAAA,EAAD,CACC3J,KAAK,SACLY,WAAS,EACTgB,QAAQ,YACR9K,MAAM,UACN4J,UAAWpB,EAAQjM,QAElB1B,KAAKG,EAAE,0BAET,kBAACorB,GAAA,EAAD,CAAM5D,WAAS,EAAChY,eAAe,YAC9B,kBAAC4b,GAAA,EAAD,CAAMC,MAAI,GACT,kBAAC8Z,GAAA,EAAD,CACC5R,KAAK,IACLzjB,QAAQ,QACRkG,UAAWovB,IACX7vB,GAAG,UAEF1V,KAAKG,EAAE,gCAQf,kBAACqlC,GAAA,EAAD,CAAKC,GAAI,M,wECrGGC,GA1ED,WACV,MAAwBl4B,mBAAS,CAAEjM,MAAO,GAAIC,SAAU,KAAxD,mBAAOkH,EAAP,KAAasK,EAAb,KACA,EAAwCxF,oBAAS,GAAjD,mBAAOyW,EAAP,KAAqBC,EAArB,KAEQjQ,EAAgBwC,qBAAWpC,IAA3BJ,YAEF0xB,EAAoB,SAAC9pB,GACvB7I,EAAQ,6BAAKtK,GAAN,kBAAamT,EAAEvD,OAAOhY,KAAOub,EAAEvD,OAAO5F,UASjD,OACI,oCACI,yBAAK3D,UAAU,OAAOsN,IAAKupB,OAC3B,yBAAK72B,UAAU,aACX,yBAAKA,UAAU,OACX,yBAAKsN,IAAKwpB,QAEd,yBAAK92B,UAAU,iBACX,0BAAM+2B,YAAU,EAACjhB,SAdb,SAAChJ,GACjB/N,QAAQC,IAAIrF,GACZmT,EAAEoF,iBACFhN,EAAYvL,KAYI,yBAAK2T,IAAKxM,OACV,kBAACwV,GAAA,EAAD,CACIpV,QAAQ,WACRsJ,OAAO,SAC5BpU,MAAM,UACeye,UAAQ,EACR3U,WAAS,EACT5B,GAAG,QACH4V,MAAOjjB,KAAKG,EAAE,oBACdG,KAAK,QACLoS,MAAOhK,EAAKnH,MACZ6gB,SAAUujB,EACVN,aAAa,QACb/f,WAAS,IAEb,kBAACD,GAAA,EAAD,CACIpV,QAAQ,WACRsJ,OAAO,SAC5BpU,MAAM,UACeye,UAAQ,EACR3U,WAAS,EACT3O,KAAK,WACL2iB,MAAOjjB,KAAKG,EAAE,uBACdkN,GAAG,WACHqF,MAAOhK,EAAKlH,SACZ4gB,SAAUujB,EACVN,aAAa,mBACbh3B,KAAM4V,EAAe,OAAS,WAC9BwB,WAAY,CACRC,aACI,kBAACC,GAAA,EAAD,CAAgBpO,SAAS,OACrB,kBAAC8J,EAAA,EAAD,CACIC,aAAW,6BACXrK,QAAS,kBAAMiN,GAAgB,SAACrI,GAAD,OAAQA,OAEtCoI,EAAe,kBAAC2B,GAAA,EAAD,MAAoB,kBAACC,GAAA,EAAD,WAMxD,2BAAOxX,KAAK,SAASU,UAAU,MAAM2D,MAAM,iB,wHClF7D5F,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC+4B,cAAe,CACbrrB,KAAM,EAGNM,QAAS,EACT7K,OAAQ,QAGV61B,eAAgB,CACd71B,OAAQ,OACRoO,UAAW,SACXrR,QAAS,OACTsM,cAAe,cAcJysB,GAVO,SAAC,GAAkB,IAAhBj4B,EAAe,EAAfA,SACjBL,EAAUb,KAEhB,OACE,kBAACwe,GAAA,EAAD,CAAWvc,UAAWpB,EAAQo4B,cAAe/2B,UAAU,GACrD,yBAAKD,UAAWpB,EAAQq4B,gBAAiBh4B,KCvBzClB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCk5B,eAAgB,CACfh5B,QAAS,OACTwC,WAAY,SACZsL,QAAS,uBAUImrB,GANI,SAAC,GAAkB,IAAhBn4B,EAAe,EAAfA,SACfL,EAAUb,KAEhB,OAAO,yBAAKiC,UAAWpB,EAAQu4B,gBAAiBl4B,ICX3ClB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCo5B,yBAA0B,CACzB1rB,KAAM,OACN7C,WAAY,OACZ,QAAS,CACR0B,OAAQvM,EAAM2R,QAAQ,SAWVynB,GANkB,SAAC,GAAkB,IAAhBp4B,EAAe,EAAfA,SAC7BL,EAAUb,KAEhB,OAAO,yBAAKiC,UAAWpB,EAAQy4B,0BAA2Bp4B,ICd5C,SAASmb,GAAM5T,GAC7B,OACC,kBAACkH,EAAA,EAAD,CAAYxM,QAAQ,KAAK9K,MAAM,UAAUikB,cAAY,GACnD7T,EAAMvH,U,wzMCmBV,IAAMlB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCC,KAAM,CACLC,QAAS,OACTC,SAAU,QAGXgW,cAAe,CACdjW,QAAS,OACT,yBAA0B,CACzBiN,YAAanN,EAAM2R,QAAQ,KAI7ByE,WAAY,CACX7L,SAAU,YAGXC,eAAgB,CACfrS,MAAOsS,KAAM,KACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,QAITwuB,GAAgB7iB,OAAaC,MAAM,CACxCnjB,KAAMkjB,OACJE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,cAsLGhO,OAAM0wB,MAnLC,SAAC,GAAmC,IAAjC1/B,EAAgC,EAAhCA,KAAM2G,EAA0B,EAA1BA,QAAS+D,EAAiB,EAAjBA,WACjC3D,EAAUb,KACVgX,EAAe,CACpBxjB,KAAM,GACN8E,gBAAiB,GACjBtB,gBAAiB,GACjByiC,WAAW,GAEZ,EAAgC/4B,mBAASsW,GAAzC,mBAAO9S,EAAP,KAAiBw1B,EAAjB,KACA,EAAgDh5B,mBAAS,IAAzD,mBAAO2U,EAAP,KAAyB6B,EAAzB,KAEAnW,qBAAU,YACS,yCAAG,8FACfyD,EADe,0EAIIjJ,KAAIsJ,IAAJ,mBAAoBL,IAJxB,gBAIXzR,EAJW,EAIXA,KACR2mC,EAAY3mC,GAEN4mC,EAPa,UAOG5mC,EAAKqI,cAPR,aAOG,EAAa6Z,KAAI,SAAAzT,GAAK,OAAIA,EAAMjB,MACtD2W,EAAoByiB,GARD,kDAUnBhnC,aAAW,EAAD,IAVS,0DAAH,qDAalBmS,KACE,CAACN,IAEJ,IAAMo1B,EAAkB,yCAAG,WAAMniB,GAAN,2EACpBoiB,EADoB,6BACApiB,GADA,IACQhH,SAAU4E,IADlB,UAIrB7Q,EAJqB,gCAKlBjJ,KAAIqT,IAAJ,oBAAqBpK,GAAcq1B,GALjB,6CAOlBt+B,KAAIsL,KAAK,YAAagzB,GAPJ,OASzBzmC,IAAMkB,QAAQpB,KAAKG,EAAE,0BACrByN,IAVyB,kDAYzBnO,aAAW,EAAD,IAZe,0DAAH,sDAgBlBmO,EAAc,WACnBL,IACAi5B,EAAY1iB,IAGb,OACC,yBAAK/U,UAAWpB,EAAQV,MACvB,kBAACuX,GAAA,EAAD,CACC5d,KAAMA,EACN2G,QAASK,EACToB,SAAS,KACTC,WAAS,EACTC,OAAO,SAEP,kBAACuV,GAAA,EAAD,KACEnT,EACEtR,KAAKG,EAAE,4BACPH,KAAKG,EAAE,4BAEX,kBAAC,KAAD,CACCukB,cAAe1T,EACf2T,oBAAoB,EACpBC,iBAAkByhB,GAClBxhB,SAAU,SAACN,EAAQ7gB,GAClBmT,YAAW,WACV6vB,EAAmBniB,GACnB7gB,EAAQohB,eAAc,KACpB,QAGH,gBAAGP,EAAH,EAAGA,OAAQQ,EAAX,EAAWA,QAASC,EAApB,EAAoBA,OAAQC,EAA5B,EAA4BA,aAA5B,OACA,kBAAC,KAAD,KACC,kBAACC,GAAA,EAAD,CAAeC,UAAQ,GACtB,yBAAKpW,UAAWpB,EAAQwV,eACvB,kBAAC,KAAD,CACCiC,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,2BACdmlB,WAAS,EACThlB,KAAK,OACLP,MAAOglB,EAAQzkB,MAAQilB,QAAQP,EAAO1kB,MACtCklB,WAAYT,EAAQzkB,MAAQ0kB,EAAO1kB,KACnC2P,QAAQ,WACRsJ,OAAO,QACPxK,UAAWpB,EAAQie,YAEpB,kBAACyG,GAAA,EAAD,CACCE,QACC,kBAAC,KAAD,CACCnN,GAAIoN,KACJrtB,MAAM,UACN7E,KAAK,YACL4vB,QAAS3L,EAAOgiB,YAGlBtjB,MAAOjjB,KAAKG,EAAE,iCAGhB,6BACC,kBAAC,KAAD,CACCilB,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,mCACdkO,KAAK,kBACL8rB,WAAS,EACTyM,KAAM,EACN33B,WAAS,EACT3O,KAAK,kBACLP,MACCglB,EAAQ3f,iBAAmBmgB,QAAQP,EAAO5f,iBAE3CogB,WACCT,EAAQ3f,iBAAmB4f,EAAO5f,gBAEnC6K,QAAQ,WACRsJ,OAAO,WAGT,6BACC,kBAAC,KAAD,CACC6L,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,sCACdkO,KAAK,kBACL8rB,WAAS,EACTyM,KAAM,EACN33B,WAAS,EACT3O,KAAK,kBACLP,MACCglB,EAAQjhB,iBAAmByhB,QAAQP,EAAOlhB,iBAE3C0hB,WACCT,EAAQjhB,iBAAmBkhB,EAAOlhB,gBAEnCmM,QAAQ,WACRsJ,OAAO,WAGT,kBAAC,GAAD,CACC4I,iBAAkBA,EAClBC,SAAU,SAAAykB,GAAW,OAAI7iB,EAAoB6iB,OAG/C,kBAAC9gB,GAAA,EAAD,KACC,kBAAC/N,GAAA,EAAD,CACCf,QAASrJ,EACTzI,MAAM,YACNmE,SAAU2b,EACVhV,QAAQ,YAEPjQ,KAAKG,EAAE,iCAET,kBAAC6X,GAAA,EAAD,CACC3J,KAAK,SACLlJ,MAAM,UACNmE,SAAU2b,EACVhV,QAAQ,YACRlB,UAAWpB,EAAQyV,YAElB9R,EACEtR,KAAKG,EAAE,gCACPH,KAAKG,EAAE,+BACT8kB,GACA,kBAAChN,GAAA,EAAD,CACCC,KAAM,GACNnJ,UAAWpB,EAAQ6J,4B,g0MCxN9B,IAsDe5B,OAAM0wB,MAtDD,SAAC,GAAmC,IAAjC1/B,EAAgC,EAAhCA,KAAM2G,EAA0B,EAA1BA,QAAS+D,EAAiB,EAAjBA,WACrC,EAA4B9D,mBAAS,IAArC,mBAAOtJ,EAAP,KAAe4iC,EAAf,KAmCA,OAjCAj5B,qBAAU,YACS,yCAAG,0FACfyD,EADe,0EAIIjJ,KAAIsJ,IAAJ,oBAAqBL,IAJzB,gBAIXzR,EAJW,EAIXA,KACRinC,EAAUjnC,EAAKiD,QALI,kDAOnBrD,aAAW,EAAD,IAPS,0DAAH,qDAUlBmS,KACE,CAACN,IAEJzD,qBAAU,WACT,GAAKyD,EAAL,CACA,IAAMO,EAASnB,KAYf,OAVAmB,EAAOM,GAAG,mBAAmB,SAAAtS,GACR,WAAhBA,EAAKgR,QAAuBhR,EAAK8D,QAAQ0J,KAAOiE,GACnDw1B,EAAUjnC,EAAK8D,QAAQb,QAGJ,WAAhBjD,EAAKgR,QAA+C,KAAxBhR,EAAK8D,QAAQb,QAC5CyK,OAIK,WACNsE,EAAOjP,iBAEN,CAAC0O,EAAY/D,IAGf,kBAACiX,GAAA,EAAD,CAAQ5d,KAAMA,EAAM2G,QAASA,EAASyB,SAAS,KAAKE,OAAO,SAC1D,kBAACgW,GAAA,EAAD,KACC,kBAACwG,GAAA,EAAD,CAAO4D,UAAW,GACjB,kBAAC7S,EAAA,EAAD,CAAYtX,MAAM,UAAUikB,cAAY,GACtCppB,KAAKG,EAAE,mBAER+D,EACA,kBAAC,KAAD,CAAQwO,MAAOxO,EAAQgU,KAAM,MAE7B,2D,2yMCZN,IAAMpL,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC+5B,UAAU,cACTrsB,KAAM,EACNM,QAAShO,EAAM2R,QAAQ,GACvBJ,UAAW,UACRvR,EAAMyR,iBAEVhP,gBAAiB,CAChBvC,QAAS,OACTwC,WAAY,SACZC,eAAgB,UAEjBq3B,QAAS,CACRzsB,gBAAiB,UACjBpV,MAAO,sBACPwU,SAAU3M,EAAMi6B,WAAWC,QAAQ,IACnCnsB,OAAQ,oBACR/L,SAAU,KAEXm4B,cAAe,CACdztB,UAAW,UAEZlC,eAAgB,CACfrS,MAAOsS,KAAM,UAIT2vB,GAAgB,SAAC,GAAkC,IAAhClmC,EAA+B,EAA/BA,MAAOiC,EAAwB,EAAxBA,QAAS6K,EAAe,EAAfA,SAClCL,EAAUb,KAEhB,OACC,kBAACkP,GAAA,EAAD,CACCC,OAAK,EACLtO,QAAS,CACRq5B,QAASr5B,EAAQq5B,QACjBK,OAAQ15B,EAAQw5B,eAEjBjmC,MACC,kBAAC,IAAMya,SAAP,KACC,kBAACc,EAAA,EAAD,CAAY2M,cAAY,EAACjkB,MAAM,WAC7BjE,GAEDiC,GAAW,kBAACsZ,EAAA,EAAD,KAAatZ,KAI1B6K,IAuTWs5B,GAlTK,WACnB,IAAM35B,EAAUb,KAEhB,EAA+B2J,qBAAWnE,IAAlCxB,EAAR,EAAQA,UAAWrD,EAAnB,EAAmBA,QACnB,EAAkDD,oBAAS,GAA3D,mBAAO+5B,EAAP,KAA0BC,EAA1B,KACA,EAAsCh6B,oBAAS,GAA/C,mBAAOi6B,EAAP,KAAoBC,EAApB,KACA,EAAgDl6B,mBAAS,MAAzD,mBAAOm6B,EAAP,KAAyBC,EAAzB,KACA,EAAgDp6B,oBAAS,GAAzD,mBAAOq6B,EAAP,KAAyBC,EAAzB,KACMC,EAAgC,CACrCl3B,OAAQ,GACR3P,MAAO,GACPpB,QAAS,GACTwR,WAAY,GACZ1K,MAAM,GAEP,EAAgD4G,mBAC/Cu6B,GADD,mBAAOC,EAAP,KAAyBC,EAAzB,KAIMC,EAA0B,yCAAG,WAAM52B,GAAN,2FAE3BjJ,KAAIsL,KAAJ,2BAA6BrC,IAFF,sDAIjC7R,aAAW,EAAD,IAJuB,wDAAH,sDAQ1B0oC,EAAsB,yCAAG,WAAM72B,GAAN,2FAEvBjJ,KAAIqT,IAAJ,2BAA4BpK,IAFL,sDAI7B7R,aAAW,EAAD,IAJmB,wDAAH,sDAatB2oC,EAA2BC,uBAAY,WAC5Cb,GAAqB,GACrBI,EAAoB,QAClB,CAACA,EAAqBJ,IAOnBc,EAAqBD,uBAAY,WACtCT,EAAoB,MACpBF,GAAe,KACb,CAACA,EAAgBE,IAOd1K,EAA8B,SAACrsB,EAAQS,GAC7B,eAAXT,GACHo3B,EAAoB,CACnBp3B,OAAQA,EACR3P,MAAOlB,KAAKG,EAAE,iDACdL,QAASE,KAAKG,EAAE,mDAChBmR,WAAYA,IAIC,WAAXT,GACHo3B,EAAoB,CACnBp3B,OAAQA,EACR3P,MAAOlB,KAAKG,EAAE,6CACdL,QAASE,KAAKG,EAAE,+CAChBmR,WAAYA,IAGdw2B,GAAoB,IAGfS,EAA6B,yCAAG,kFACL,eAA5BP,EAAiBn3B,OADgB,yCAG7BxI,KAAI8B,OAAJ,2BAA+B69B,EAAiB12B,aAHnB,sDAKnC7R,aAAW,EAAD,IALyB,UASL,WAA5BuoC,EAAiBn3B,OATgB,4CAW7BxI,KAAI8B,OAAJ,oBAAwB69B,EAAiB12B,aAXZ,QAYnCpR,IAAMkB,QAAQpB,KAAKG,EAAE,+BAZc,mDAcnCV,aAAW,EAAD,IAdyB,QAkBrCwoC,EAAoBF,GAlBiB,iEAAH,qDAqB7BS,EAAsB,SAAAx3B,GAC3B,OACC,oCACsB,WAApBA,EAASzN,QACT,kBAACyU,GAAA,EAAD,CACCE,KAAK,QACLjI,QAAQ,YACR9K,MAAM,UACN8R,QAAS,kBAjEY,SAAAjG,GACzB42B,EAAoB52B,GACpB02B,GAAe,GA+DIe,CAAkBz3B,KAEhChR,KAAKG,EAAE,+BAGW,iBAApB6Q,EAASzN,QACT,oCACC,kBAACyU,GAAA,EAAD,CACCE,KAAK,QACLjI,QAAQ,WACR9K,MAAM,UACN8R,QAAS,kBAAMixB,EAA2Bl3B,EAAS3D,MAElDrN,KAAKG,EAAE,iCACC,IACV,kBAAC6X,GAAA,EAAD,CACCE,KAAK,QACLjI,QAAQ,WACR9K,MAAM,YACN8R,QAAS,kBAAMkxB,EAAuBn3B,EAAS3D,MAE9CrN,KAAKG,EAAE,gCAIW,cAApB6Q,EAASzN,QACU,YAApByN,EAASzN,QACW,YAApByN,EAASzN,SACT,kBAACyU,GAAA,EAAD,CACCE,KAAK,QACLjI,QAAQ,WACR9K,MAAM,YACN8R,QAAS,WACRimB,EAA4B,aAAclsB,EAAS3D,MAGnDrN,KAAKG,EAAE,mCAGW,YAApB6Q,EAASzN,QACT,kBAACyU,GAAA,EAAD,CAAQE,KAAK,QAAQjI,QAAQ,WAAW3G,UAAQ,EAACnE,MAAM,WACrDnF,KAAKG,EAAE,qCA8Cb,OACC,kBAAC,GAAD,KACC,kBAAC,GAAD,CACCe,MAAO8mC,EAAiB9mC,MACxB0F,KAAMihC,EACNt6B,QAASu6B,EACTzM,UAAWkN,GAEVP,EAAiBloC,SAEnB,kBAAC,GAAD,CACC8G,KAAM6gC,EACNl6B,QAAS+6B,EACTh3B,YAAai2B,IAAD,OAAsBI,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAkBt6B,MAErD,kBAAC,GAAD,CACCzG,KAAM2gC,EACNh6B,QAAS66B,EACT92B,YAAam2B,IAAD,OAAgBE,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAkBt6B,MAE/C,kBAAC,GAAD,KACC,kBAAC,GAAD,KAAQrN,KAAKG,EAAE,sBACf,kBAAC,GAAD,KACC,kBAAC6X,GAAA,EAAD,CACC/H,QAAQ,YACR9K,MAAM,UACN8R,QA5L2B,WAC/B2wB,EAAoB,MACpBJ,GAAqB,KA4LhBxnC,KAAKG,EAAE,8BAIX,kBAACurB,GAAA,EAAD,CAAO3c,UAAWpB,EAAQo5B,UAAW92B,QAAQ,YAC5C,kBAACy4B,GAAA,EAAD,CAAOxwB,KAAK,SACX,kBAACywB,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CAAWt4B,MAAM,UACfvQ,KAAKG,EAAE,2BAET,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACfvQ,KAAKG,EAAE,6BAET,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACfvQ,KAAKG,EAAE,8BAET,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACfvQ,KAAKG,EAAE,iCAET,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACfvQ,KAAKG,EAAE,8BAET,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACfvQ,KAAKG,EAAE,gCAIX,kBAAC2oC,GAAA,EAAD,KACEr7B,EACA,kBAACmC,GAAA,EAAD,MAEA,qCACW,OAATkB,QAAS,IAATA,OAAA,EAAAA,EAAWrC,QAAS,GACpBqC,EAAUiR,KAAI,SAAA/Q,GAAQ,OACrB,kBAAC43B,GAAA,EAAD,CAAUp4B,IAAKQ,EAAS3D,IACvB,kBAACw7B,GAAA,EAAD,CAAWt4B,MAAM,UAAUS,EAAS1Q,MACpC,kBAACuoC,GAAA,EAAD,CAAWt4B,MAAM,UAxGE,SAAAS,GAC5B,OACC,yBAAKjC,UAAWpB,EAAQ8B,iBACF,iBAApBuB,EAASzN,QACT,kBAAC,GAAD,CACCrC,MAAOlB,KAAKG,EAAE,2CACdgD,QAASnD,KAAKG,EAAE,8CAEhB,kBAAC4oC,GAAA,EAAD,CAAuC5jC,MAAM,eAG1B,YAApB6L,EAASzN,QACT,kBAAC0U,GAAA,EAAD,CAAkBC,KAAM,GAAInJ,UAAWpB,EAAQ6J,iBAE3B,WAApBxG,EAASzN,QACT,kBAAC,GAAD,CACCrC,MAAOlB,KAAKG,EAAE,qCACdgD,QAASnD,KAAKG,EAAE,wCAEhB,kBAAC6oC,GAAA,EAAD,OAGmB,cAApBh4B,EAASzN,QACT,kBAAC,GAAD,CAAerC,MAAOlB,KAAKG,EAAE,yCAC5B,kBAAC8oC,GAAA,EAAD,CAAoBn5B,MAAO,CAAE3K,MAAOsS,KAAM,UAGtB,YAApBzG,EAASzN,QAA4C,YAApByN,EAASzN,SAC3C,kBAAC,GAAD,CACCrC,MAAOlB,KAAKG,EAAE,sCACdgD,QAASnD,KAAKG,EAAE,yCAEhB,kBAAC+oC,GAAA,EAAD,CAAuC/jC,MAAM,gBAyEtCgkC,CAAqBn4B,IAEvB,kBAAC63B,GAAA,EAAD,CAAWt4B,MAAM,UACfi4B,EAAoBx3B,IAEtB,kBAAC63B,GAAA,EAAD,CAAWt4B,MAAM,UACfwM,aAAOF,aAAS7L,EAASI,WAAY,mBAEvC,kBAACy3B,GAAA,EAAD,CAAWt4B,MAAM,UACfS,EAASu1B,WACT,yBAAKx3B,UAAWpB,EAAQ8B,iBACvB,kBAAC25B,GAAA,EAAD,CAAat5B,MAAO,CAAE3K,MAAOsS,KAAM,UAItC,kBAACoxB,GAAA,EAAD,CAAWt4B,MAAM,UAChB,kBAAC8Q,EAAA,EAAD,CACCnJ,KAAK,QACLjB,QAAS,kBAlOM,SAAAjG,GAC1B42B,EAAoB52B,GACpBw2B,GAAqB,GAgOK6B,CAAmBr4B,KAElC,kBAACs4B,GAAA,EAAD,OAGD,kBAACjoB,EAAA,EAAD,CACCnJ,KAAK,QACLjB,QAAS,SAAA4E,GACRqhB,EAA4B,SAAUlsB,EAAS3D,MAGhD,kBAAC,KAAD,kB,2yMClXb,IAAMP,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCC,KAAM,CACLC,QAAS,OACTwC,WAAY,SACZsL,QAAShO,EAAM2R,QAAQ,EAAG,EAAG,IAG9BkD,MAAO,CACN7G,QAAShO,EAAM2R,QAAQ,GACvBzR,QAAS,OACTwC,WAAY,SACZ2c,aAAc,IAIfkd,cAAe,CACd1xB,WAAY,QAEb0B,OAAQ,CACPA,OAAQvM,EAAM2R,QAAQ,QA0HT6qB,GArHE,WAChB,IAAM77B,EAAUb,KAEhB,EAAgCU,mBAAS,IAAzC,mBAAOjF,EAAP,KAAiBkhC,EAAjB,KACA,EAA8Bj8B,mBAAS,GAAvC,mBAAOk8B,EAAP,KAAgBC,EAAhB,KAEA97B,qBAAU,YACS,yCAAG,kGACdiE,EAAQC,aAAaC,QAAQ,SAC7BC,EAAUC,aAAWJ,GAC3BhE,QAAQC,IAAR,YAAyBkE,GACzB03B,EAAW13B,EAAQG,WAJC,kBAOI/J,KAAIsJ,IAAI,aAPZ,gBAOX9R,EAPW,EAOXA,KACRiO,QAAQC,IAAIlO,GACZ4pC,EAAY5pC,GATO,kDAWnBJ,aAAW,EAAD,IAXS,0DAAH,qDAclBmS,KACE,IAEH/D,qBAAU,WACT,IAAMgE,EAASnB,KAaf,OAXAmB,EAAOM,GAAG,YAAY,SAAAtS,GACD,WAAhBA,EAAKgR,QACR44B,GAAY,SAAAvpB,GACX,IAAM0J,EAAG,aAAO1J,GACV0pB,EAAehgB,EAAI1Y,WAAU,SAAAC,GAAC,OAAIA,EAAEX,MAAQ3Q,EAAKgqC,QAAQr5B,OAE/D,OADAoZ,EAAIggB,GAAcl3B,MAAQ7S,EAAKgqC,QAAQn3B,MAChCkX,QAKH,WACN/X,EAAOjP,gBAEN,IAEH,IAAMknC,EAAmB,yCAAG,WAAMjuB,GAAN,iFACrBkuB,EAAgBluB,EAAEvD,OAAO5F,MACzBs3B,EAAanuB,EAAEvD,OAAOhY,KAFD,kBAKpB+H,KAAIqT,IAAJ,oBAAqBsuB,GAAc,CACxCt3B,MAAOq3B,IANkB,OAQ1B7pC,IAAMkB,QAAQpB,KAAKG,EAAE,qBARK,gDAU1BV,aAAW,EAAD,IAVgB,yDAAH,sDAcnBwqC,EAAkB,SAAAz5B,GACvB1C,QAAQC,IAAIyC,GACZ,IAEC,OADkBjI,EAASua,MAAK,SAAA3R,GAAC,OAAIA,EAAEX,MAAQA,KAAvCkC,MAEP,MAAO3S,GACR,MAAO,KAKT,OACC,yBAAKgP,UAAWpB,EAAQV,MACvB,kBAACqe,GAAA,EAAD,CAAWvc,UAAWpB,EAAQga,UAAW3Y,SAAS,MACjD,kBAACyN,EAAA,EAAD,CAAYxM,QAAQ,QAAQmZ,cAAY,GACtCppB,KAAKG,EAAE,mBAET,kBAACurB,GAAA,EAAD,CAAO3c,UAAWpB,EAAQkU,OACzB,kBAACpF,EAAA,EAAD,CAAYxM,QAAQ,SAClBjQ,KAAKG,EAAE,wCAET,kBAACqiB,GAAA,EAAD,CACCjJ,OAAO,QACPtJ,QAAQ,WACR8pB,QAAM,EACN1sB,GAAG,uBACH/M,KAAK,eACLoS,MACCnK,GAAYA,EAASkG,OAAS,GAAKw7B,EAAgB,gBAEpDl7B,UAAWpB,EAAQ47B,cACnBnnB,SAAU0nB,GAEV,4BAAQp3B,MAAM,WACZ1S,KAAKG,EAAE,mDAET,4BAAQuS,MAAM,YACZ1S,KAAKG,EAAE,sDAMX,kBAACurB,GAAA,EAAD,CAAO3c,UAAWpB,EAAQkU,OACzB,kBAACwD,GAAA,EAAD,CACChY,GAAG,oBACH68B,UAAQ,EACRjnB,MAAM,YACN1J,OAAO,QACPtJ,QAAQ,WACRhB,WAAS,EACTyD,MAAOnK,GAAYA,EAASkG,OAAS,GAAKw7B,EAAgB,gBAAD,OAAiBP,U,g0MClHhF,IAAM/4B,GAAU,SAACC,EAAOC,GACtB,GAAoB,eAAhBA,EAAOxC,KAAuB,CAChC,IAAM/F,EAAQuI,EAAOE,QACfo5B,EAAW,GAWjB,OATA7hC,EAAM2F,SAAQ,SAACvF,GACb,IAAM0hC,EAAYx5B,EAAMM,WAAU,SAACm5B,GAAD,OAAOA,EAAEh9B,KAAO3E,EAAK2E,OACpC,IAAf+8B,EACFx5B,EAAMw5B,GAAa1hC,EAEnByhC,EAASh2B,KAAKzL,MAIZ,GAAN,oBAAWkI,GAAUu5B,GAGvB,GAAoB,iBAAhBt5B,EAAOxC,KAAyB,CAClC,IAAM3F,EAAOmI,EAAOE,QACdq5B,EAAYx5B,EAAMM,WAAU,SAACm5B,GAAD,OAAOA,EAAEh9B,KAAO3E,EAAK2E,MAEvD,OAAmB,IAAf+8B,GACFx5B,EAAMw5B,GAAa1hC,EACZ,aAAIkI,IAEL,CAAElI,GAAR,oBAAiBkI,IAIrB,GAAoB,gBAAhBC,EAAOxC,KAAwB,CACjC,IAAM3I,EAASmL,EAAOE,QAEhBq5B,EAAYx5B,EAAMM,WAAU,SAACm5B,GAAD,OAAOA,EAAEh9B,KAAO3H,KAIlD,OAHmB,IAAf0kC,GACFx5B,EAAMW,OAAO64B,EAAW,GAEnB,aAAIx5B,GAGb,GAAoB,UAAhBC,EAAOxC,KACT,MAAO,IAILvB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC+5B,UAAU,cACRrsB,KAAM,EACNM,QAAShO,EAAM2R,QAAQ,GACvBJ,UAAW,UACRvR,EAAMyR,qBAmNE6rB,GA/MD,WACZ,IAAM38B,EAAUb,KAEhB,EAA8BU,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAoCF,mBAAS,GAA7C,mBAAO6P,EAAP,KAAmB4R,EAAnB,KACA,EAA8BzhB,oBAAS,GAAvC,mBAAOiQ,EAAP,KAAgBC,EAAhB,KACA,EAAwClQ,mBAAS,MAAjD,mBAAOquB,EAAP,KAAqBC,EAArB,KACA,EAAwCtuB,mBAAS,MAAjD,mBAAO+8B,EAAP,KAAqBC,EAArB,KACA,EAA0Ch9B,oBAAS,GAAnD,mBAAOua,EAAP,KAAsBC,EAAtB,KACA,EAAgDxa,oBAAS,GAAzD,mBAAOq6B,EAAP,KAAyBC,EAAzB,KACA,EAAsCt6B,mBAAS,IAA/C,mBAAO4P,EAAP,KAAoByP,EAApB,KACA,EAA0Bpb,qBAAWd,GAAS,IAA9C,mBAAOrI,EAAP,KAAcoJ,EAAd,KAEA7D,qBAAU,WACR6D,EAAS,CAAErD,KAAM,UACjB4gB,EAAc,KACb,CAAC7R,IAEJvP,qBAAU,WACRH,GAAW,GACX,IAAMkJ,EAAkBC,YAAW,YACjB,yCAAG,gHAEQxO,KAAIsJ,IAAI,UAAW,CACxCoM,OAAQ,CAAEX,cAAaC,gBAHV,gBAEPxd,EAFO,EAEPA,KAGR6R,EAAS,CAAErD,KAAM,aAAc0C,QAASlR,EAAKyI,QAC7CoV,EAAW7d,EAAK4d,SAChB/P,GAAW,GAPI,kDASfjO,aAAW,EAAD,IATK,0DAAH,qDAYhB88B,KACC,KACH,OAAO,kBAAMvlB,aAAaJ,MACzB,CAACwG,EAAaC,IAEjBxP,qBAAU,WACR,IAAMgE,EAASnB,KAEToB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAUC,aAAWJ,GAY3B,OAVAD,EAAOM,GAAP,eAAkBF,EAAQG,YAAa,SAACvS,GAClB,WAAhBA,EAAKgR,QAAuC,WAAhBhR,EAAKgR,QACnCa,EAAS,CAAErD,KAAM,eAAgB0C,QAASlR,EAAK6I,OAG7B,WAAhB7I,EAAKgR,QACPa,EAAS,CAAErD,KAAM,cAAe0C,SAAUlR,EAAK6F,YAI5C,WACLmM,EAAOjP,gBAER,IAEH,IAmBM6nC,EAAgB,yCAAG,WAAO/kC,GAAP,2FAEf2C,KAAI8B,OAAJ,iBAAqBzE,IAFN,OAGrBxF,IAAMkB,QAAQpB,KAAKG,EAAE,yBAHA,+CAKrBV,aAAW,EAAD,IALW,OAOvB+qC,EAAgB,MAChB3d,EAAe,IACfoC,EAAc,GATS,yDAAH,sDAwBtB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE/tB,MACEqpC,GAAY,UACTvqC,KAAKG,EAAE,uCADE,YACwCoqC,EAAajqC,KADrD,KAIdsG,KAAMihC,EACNt6B,QAASu6B,EACTzM,UAAW,kBAAMoP,EAAiBF,EAAal9B,MAE9CrN,KAAKG,EAAE,0CAEV,kBAAC,GAAD,CACEyG,KAAMmhB,EACNxa,QAtDuB,WAC3BuuB,EAAgB,MAChB9T,GAAiB,IAqDb6H,kBAAgB,oBAChBnqB,OAAQm2B,GAAgBA,EAAaxuB,KAEvC,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAQrN,KAAKG,EAAE,gBACf,kBAAC,GAAD,KACE,kBAACklB,GAAA,EAAD,CACE7e,YAAaxG,KAAKG,EAAE,8BACpBkO,KAAK,SACLqE,MAAO0K,EACPgF,SA5DW,SAAC4G,GACpB6D,EAAe7D,EAAM1Q,OAAO5F,MAAM0f,gBA4D1B3M,WAAY,CACVilB,eACE,kBAAC/kB,GAAA,EAAD,CAAgBpO,SAAS,SACvB,kBAAC,KAAD,CAAYzH,MAAO,CAAE3K,MAAO,cAKpC,kBAAC6S,GAAA,EAAD,CACE/H,QAAQ,YACR9K,MAAM,UACN8R,QAlFkB,WAC1B6kB,EAAgB,MAChB9T,GAAiB,KAkFRhoB,KAAKG,EAAE,wBAId,kBAACurB,GAAA,EAAD,CACE3c,UAAWpB,EAAQo5B,UACnB92B,QAAQ,WACRsf,SAxDe,SAAC1T,GACpB,GAAK4B,IAAWhQ,EAAhB,CACA,MAAkDoO,EAAEoN,cAA5CuG,EAAR,EAAQA,UAAR,EAAmBC,cACCD,EAAY,KADhC,EAAiCE,cALjCT,GAAc,SAAC/O,GAAD,OAAeA,EAAY,QA6DrC,kBAACwoB,GAAA,EAAD,CAAOxwB,KAAK,SACV,kBAACywB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWt4B,MAAM,UAAUvQ,KAAKG,EAAE,qBAClC,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,sBAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,wBAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,yBAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,0BAId,kBAAC2oC,GAAA,EAAD,KACE,oCACGxgC,EAAMyZ,KAAI,SAACrZ,GAAD,aACT,kBAACkgC,GAAA,EAAD,CAAUp4B,IAAK9H,EAAK2E,IAClB,kBAACw7B,GAAA,EAAD,CAAWt4B,MAAM,UAAU7H,EAAKpI,MAChC,kBAACuoC,GAAA,EAAD,CAAWt4B,MAAM,UAAU7H,EAAKnH,OAChC,kBAACsnC,GAAA,EAAD,CAAWt4B,MAAM,UAAU7H,EAAK5C,SAChC,kBAAC+iC,GAAA,EAAD,CAAWt4B,MAAM,UAAjB,UAA2B7H,EAAKlE,gBAAhC,aAA2B,EAAelE,MAC1C,kBAACuoC,GAAA,EAAD,CAAWt4B,MAAM,UACf,kBAAC8Q,EAAA,EAAD,CACEnJ,KAAK,QACLjB,QAAS,kBA5GN,SAACvO,GACtBozB,EAAgBpzB,GAChBsf,GAAiB,GA0GgB2iB,CAAejiC,KAE9B,kBAAC,KAAD,OAGF,kBAAC2Y,EAAA,EAAD,CACEnJ,KAAK,QACLjB,QAAS,SAAC4E,GACRisB,GAAoB,GACpB0C,EAAgB9hC,KAGlB,kBAAC,KAAD,YAKP+E,GAAW,kBAACmC,GAAA,EAAD,CAAkBL,QAAS,U,2yMCzPrD,IAAMzC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCC,KAAM,CACLC,QAAS,OACTC,SAAU,QAEXgW,cAAe,CACdjW,QAAS,OACT,yBAA0B,CACzBiN,YAAanN,EAAM2R,QAAQ,KAI7ByE,WAAY,CACX7L,SAAU,YAGXC,eAAgB,CACfrS,MAAOsS,KAAM,KACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,IAEdwL,YAAa,CACZ9J,OAAQvM,EAAM2R,QAAQ,GACtB2E,SAAU,SAINsnB,GAAgBpnB,OAAaC,MAAM,CACxCnjB,KAAMkjB,OACJE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,4BACX5d,gBAAiBwd,OAAaE,IAAI,EAAG,uBAAoBC,IAAI,GAAI,6BAA0BC,SAAS,6BACpGriB,MAAOiiB,OAAajiB,MAAM,0BAAoBqiB,SAAS,8BACvD3d,iBAAkBud,OAClBtd,iBAAkBsd,SAkMJqnB,GA/LM,SAAC,GAAkC,IAAhCjkC,EAA+B,EAA/BA,KAAM2G,EAAyB,EAAzBA,QAAS6E,EAAgB,EAAhBA,UAChCzE,EAAUb,KAEVgX,EAAe,CACpBxjB,KAAM,GACNiB,MAAO,GACPyE,gBAAiB,GACjBC,iBAAkB,EAClBC,iBAAkB,GAGnB,EAA8BsH,mBAASsW,GAAvC,mBAAO4lB,EAAP,KAAgBC,EAAhB,KACA,EAAwCn8B,oBAAS,GAAjD,mBAAOyW,EAAP,KAAqBC,EAArB,KAEArW,qBAAU,YACS,yCAAG,0FACfuE,EADe,0EAGI/J,KAAIsJ,IAAJ,mBAAoBS,IAHxB,gBAGXvS,EAHW,EAGXA,KACR8pC,GAAW,SAAAzpB,GACV,OAAO,6BAAKA,GAAcrgB,MALR,kDAQnBJ,aAAW,EAAD,IARS,0DAAH,qDAYlBqrC,KACE,CAAC14B,EAAWxL,IAEf,IAAMgH,EAAc,WACnBL,IACAo8B,EAAW7lB,IAGNinB,EAAiB,yCAAG,WAAMxmB,GAAN,2EACnBymB,EADmB,gBACAzmB,GADA,UAGpBnS,EAHoB,gCAIjB/J,KAAIqT,IAAJ,mBAAoBtJ,GAAa44B,GAJhB,qCAMvBl9B,QAAQC,IAAI,QAASi9B,GANE,UAOjB3iC,KAAIsL,KAAK,WAAYq3B,GAPJ,QASxB9qC,IAAMkB,QAAQpB,KAAKG,EAAE,yBATG,kDAWxBV,aAAW,EAAD,IAXc,QAazBmO,IAbyB,0DAAH,sDAgBvB,OACC,yBAAKmB,UAAWpB,EAAQV,MACvB,kBAACuX,GAAA,EAAD,CACC5d,KAAMA,EACN2G,QAASK,EACToB,SAAS,KACTC,WAAS,EACTC,OAAO,SAEP,kBAACuV,GAAA,EAAD,CAAapX,GAAG,qBACL,UAAT+E,EACKpS,KAAKG,EAAE,2BACPH,KAAKG,EAAE,4BAEd,kBAAC,KAAD,CACCukB,cAAeglB,EACf/kB,oBAAoB,EACpBC,iBAAkBgmB,GAClB/lB,SAAU,SAACN,EAAQ7gB,GAClBmT,YAAW,WACVk0B,EAAkBxmB,GAClB7gB,EAAQohB,eAAc,KACpB,QAGH,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,OAAQC,EAApB,EAAoBA,aAApB,OACA,kBAAC,KAAD,KACC,kBAACC,GAAA,EAAD,CAAeC,UAAQ,GACtB,yBAAKpW,UAAWpB,EAAQwV,eACvB,kBAAC,KAAD,CACCiC,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,0BACdmlB,WAAS,EACThlB,KAAK,OACLP,MAAOglB,EAAQzkB,MAAQilB,QAAQP,EAAO1kB,MACtCklB,WAAYT,EAAQzkB,MAAQ0kB,EAAO1kB,KACnC2P,QAAQ,WACRsJ,OAAO,QACPtK,WAAS,KAGX,yBAAKF,UAAWpB,EAAQwV,eACvB,kBAAC,KAAD,CACCiC,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,2BACdG,KAAK,QACLP,MAAOglB,EAAQxjB,OAASgkB,QAAQP,EAAOzjB,OACvCikB,WAAYT,EAAQxjB,OAASyjB,EAAOzjB,MACpC0O,QAAQ,WACRsJ,OAAO,QACPtK,WAAS,KAGX,yBAAKF,UAAWpB,EAAQwV,eACvB,kBAAC,KAAD,CACCiC,GAAIC,KACJ/kB,KAAK,kBACL2P,QAAQ,WACRsJ,OAAO,QACP0J,MAAOjjB,KAAKG,EAAE,qCACdJ,MAAOglB,EAAQ/e,iBAAmBuf,QAAQP,EAAOhf,iBACjDwf,WAAYT,EAAQ/e,iBAAmBgf,EAAOhf,gBAC9CqI,KAAM4V,EAAe,OAAS,WAC9BwB,WAAY,CACXC,aACC,kBAACC,GAAA,EAAD,CAAgBpO,SAAS,OACxB,kBAAC8J,EAAA,EAAD,CACCC,aAAW,6BACXrK,QAAS,kBAAMiN,GAAgB,SAACrI,GAAD,OAAQA,OAEtCoI,EAAe,kBAAC2B,GAAA,EAAD,MAAoB,kBAACC,GAAA,EAAD,SAKxC5W,WAAS,KAGX,yBAAKF,UAAWpB,EAAQwV,eACvB,kBAAC,KAAD,CACCiC,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,sCACdG,KAAK,mBACLP,MAAOglB,EAAQ9e,kBAAoBsf,QAAQP,EAAO/e,kBAClDuf,WAAYT,EAAQ9e,kBAAoB+e,EAAO/e,iBAC/CgK,QAAQ,WACRsJ,OAAO,QACPlL,KAAK,SACLY,WAAS,KAGX,yBAAKF,UAAWpB,EAAQwV,eACvB,kBAAC,KAAD,CACCiC,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,sCACdG,KAAK,mBACLP,MAAOglB,EAAQ7e,kBAAoBqf,QAAQP,EAAO9e,kBAClDsf,WAAYT,EAAQ7e,kBAAoB8e,EAAO9e,iBAC/C+J,QAAQ,WACRsJ,OAAO,QACPlL,KAAK,SACLY,WAAS,MAIZ,kBAAC8W,GAAA,EAAD,KACC,kBAAC/N,GAAA,EAAD,CACCf,QAASrJ,EACTzI,MAAM,YACNmE,SAAU2b,EACVhV,QAAQ,YAEPjQ,KAAKG,EAAE,gCAET,kBAAC6X,GAAA,EAAD,CACC3J,KAAK,SACLlJ,MAAM,UACNmE,SAAU2b,EACVhV,QAAQ,YACRlB,UAAWpB,EAAQyV,YAET,UAAThR,EACKpS,KAAKG,EAAE,+BACPH,KAAKG,EAAE,+BACZ8kB,GACA,kBAAChN,GAAA,EAAD,CACCC,KAAM,GACNnJ,UAAWpB,EAAQ6J,0B,2yMC/N9B,IAAM7G,GAAU,SAACC,EAAOC,GACtB,GAAoB,mBAAhBA,EAAOxC,KAA2B,CACpC,IAAM7F,EAAYqI,EAAOE,QACnBk6B,EAAe,GAWrB,OATAziC,EAAUyF,SAAQ,SAACy7B,GACjB,IAAMwB,EAAet6B,EAAMM,WAAU,SAACm5B,GAAD,OAAOA,EAAEh9B,KAAOq8B,EAAQr8B,OACvC,IAAlB69B,EACFt6B,EAAMs6B,GAAgBxB,EAEtBuB,EAAa92B,KAAKu1B,MAIhB,GAAN,oBAAW94B,GAAUq6B,GAGvB,GAAoB,qBAAhBp6B,EAAOxC,KAA6B,CACtC,IAAMq7B,EAAU74B,EAAOE,QACjBm6B,EAAet6B,EAAMM,WAAU,SAACm5B,GAAD,OAAOA,EAAEh9B,KAAOq8B,EAAQr8B,MAE7D,OAAsB,IAAlB69B,GACFt6B,EAAMs6B,GAAgBxB,EACf,aAAI94B,IAEL,CAAE84B,GAAR,oBAAoB94B,IAIxB,GAAoB,qBAAhBC,EAAOxC,KAA6B,CACtC,IAAM+D,EAAYvB,EAAOE,QAEnBm6B,EAAet6B,EAAMM,WAAU,SAACm5B,GAAD,OAAOA,EAAEh9B,KAAO+E,KAIrD,OAHsB,IAAlB84B,GACFt6B,EAAMW,OAAO25B,EAAc,GAEtB,aAAIt6B,GAGb,GAAoB,UAAhBC,EAAOxC,KACT,MAAO,IAILvB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC+5B,UAAU,cACRrsB,KAAM,EACNM,QAAShO,EAAM2R,QAAQ,GACvBJ,UAAW,UACRvR,EAAMyR,qBAsME0sB,GAlMG,WAChB,IAAMx9B,EAAUb,KAEhB,EAA8BU,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAoCF,mBAAS,GAA7C,mBAAO6P,EAAP,KAAmB4R,EAAnB,KACA,EAA8BzhB,oBAAS,GAAvC,mBAAOiQ,EAAP,KAAgBC,EAAhB,KACA,EAA8ClQ,mBAAS,MAAvD,mBAAO49B,EAAP,KAAwBC,EAAxB,KACA,EAA8C79B,mBAAS,MAAvD,mBAAO89B,EAAP,KAAwBC,EAAxB,KACA,EAAgD/9B,oBAAS,GAAzD,mBAAOg+B,EAAP,KAAyBC,EAAzB,KACA,EAAgDj+B,oBAAS,GAAzD,mBAAOq6B,EAAP,KAAyBC,EAAzB,KACA,EAAsCt6B,mBAAS,IAA/C,mBAAO4P,EAAP,KAAoByP,EAApB,KACA,EAA8Bpb,qBAAWd,GAAS,IAAlD,mBAAOnI,EAAP,KAAkBkJ,EAAlB,KAEA7D,qBAAU,WACR6D,EAAS,CAAErD,KAAM,UACjB4gB,EAAc,KACb,CAAC7R,IAEJvP,qBAAU,WACRH,GAAW,GACX,IAAMkJ,EAAkBC,YAAW,YACb,yCAAG,gHAEIxO,KAAIsJ,IAAI,YAAa,CAC1CoM,OAAQ,CAAEX,cAAaC,gBAHN,gBAEXxd,EAFW,EAEXA,KAGR6R,EAAS,CAAErD,KAAM,iBAAkB0C,QAASlR,EAAK6pC,UACjDhsB,EAAW7d,EAAK4d,SAChB/P,GAAW,GAPQ,kDASnBjO,aAAW,EAAD,IATS,0DAAH,qDAYpBisC,KACC,KACH,OAAO,kBAAM10B,aAAaJ,MACzB,CAACwG,EAAaC,IAEjBxP,qBAAU,WACR,IAAMgE,EAASnB,KAEf,OAAO,WACLmB,EAAOjP,gBAER,IAEH,IAmBM+oC,EAAmB,yCAAG,WAAOv5B,GAAP,2FAElB/J,KAAI8B,OAAJ,mBAAuBiI,IAFL,OAGxBlS,IAAMkB,QAAQpB,KAAKG,EAAE,4BAHG,+CAKxBV,aAAW,EAAD,IALc,OAO1B8rC,EAAmB,MACnB1e,EAAe,IACfoC,EAAc,GATY,yDAAH,sDAwBzB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE/tB,MACEoqC,GAAe,UACZtrC,KAAKG,EAAE,0CADK,YACwCmrC,EAAgBhrC,KADxD,KAIjBsG,KAAMihC,EACNt6B,QAASu6B,EACTzM,UAAW,kBAAMsQ,EAAoBL,EAAgBj+B,MAEpDrN,KAAKG,EAAE,6CAEV,kBAAC,GAAD,CACEyG,KAAM4kC,EACNj+B,QAtD0B,WAC9B89B,EAAmB,MACnBI,GAAoB,IAqDhB5b,kBAAgB,oBAChBzd,UAAWg5B,GAAmBA,EAAgB/9B,KAEhD,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAQrN,KAAKG,EAAE,mBACf,kBAAC,GAAD,KACE,kBAACklB,GAAA,EAAD,CACE7e,YAAaxG,KAAKG,EAAE,8BACpBkO,KAAK,SACLqE,MAAO0K,EACPgF,SA5DW,SAAC4G,GACpB6D,EAAe7D,EAAM1Q,OAAO5F,MAAM0f,gBA4D1B3M,WAAY,CACVilB,eACE,kBAAC/kB,GAAA,EAAD,CAAgBpO,SAAS,SACvB,kBAAC,KAAD,CAAYzH,MAAO,CAAE3K,MAAO,cAKpC,kBAAC6S,GAAA,EAAD,CACE/H,QAAQ,YACR9K,MAAM,UACN8R,QAlFqB,WAC7Bo0B,EAAmB,MACnBI,GAAoB,KAkFXzrC,KAAKG,EAAE,2BAId,kBAACurB,GAAA,EAAD,CACE3c,UAAWpB,EAAQo5B,UACnB92B,QAAQ,WACRsf,SAxDe,SAAC1T,GACpB,GAAK4B,IAAWhQ,EAAhB,CACA,MAAkDoO,EAAEoN,cAA5CuG,EAAR,EAAQA,UAAR,EAAmBC,cACCD,EAAY,KADhC,EAAiCE,cALjCT,GAAc,SAAC/O,GAAD,OAAeA,EAAY,QA6DrC,kBAACwoB,GAAA,EAAD,CAAOxwB,KAAK,SACV,kBAACywB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWt4B,MAAM,UAAUvQ,KAAKG,EAAE,wBAClC,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,yBAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,oCAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,oCAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,6BAId,kBAAC2oC,GAAA,EAAD,KACE,oCACGtgC,EAAUuZ,KAAI,SAAC2nB,GAAD,OACb,kBAACd,GAAA,EAAD,CAAUp4B,IAAKk5B,EAAQr8B,IACrB,kBAACw7B,GAAA,EAAD,CAAWt4B,MAAM,UAAUm5B,EAAQppC,MACnC,kBAACuoC,GAAA,EAAD,CAAWt4B,MAAM,UAAUm5B,EAAQnoC,OACnC,kBAACsnC,GAAA,EAAD,CAAWt4B,MAAM,UAAUm5B,EAAQzjC,kBACnC,kBAAC4iC,GAAA,EAAD,CAAWt4B,MAAM,UAAUm5B,EAAQxjC,kBACnC,kBAAC2iC,GAAA,EAAD,CAAWt4B,MAAM,UACf,kBAAC8Q,EAAA,EAAD,CACEnJ,KAAK,QACLjB,QAAS,kBA5GH,SAACyyB,GACzB2B,EAAmB3B,GACnB+B,GAAoB,GA0GaG,CAAkBlC,KAEjC,kBAAC,KAAD,OAGF,kBAACroB,EAAA,EAAD,CACEnJ,KAAK,QACLjB,QAAS,SAAC4E,GACRisB,GAAoB,GACpByD,EAAmB7B,KAGrB,kBAAC,KAAD,YAKPj8B,GAAW,kBAACmC,GAAA,EAAD,CAAkBL,QAAS,U,2yMCxOrD,IAAMoB,GAAU,SAACC,EAAOC,GACtB,GAAoB,kBAAhBA,EAAOxC,KAA0B,CACnC,IAAMlK,EAAW0M,EAAOE,QAClB86B,EAAc,GAWpB,OATA1nC,EAAS8J,SAAQ,SAACqO,GAChB,IAAMwvB,EAAel7B,EAAMM,WAAU,SAAC66B,GAAD,OAAOA,EAAE1+B,KAAOiP,EAAQjP,OACvC,IAAlBy+B,EACFl7B,EAAMk7B,GAAgBxvB,EAEtBuvB,EAAY13B,KAAKmI,MAIf,GAAN,oBAAW1L,GAAUi7B,GAGvB,GAAoB,oBAAhBh7B,EAAOxC,KAA4B,CACrC,IAAMiO,EAAUzL,EAAOE,QACjB+6B,EAAel7B,EAAMM,WAAU,SAAC66B,GAAD,OAAOA,EAAE1+B,KAAOiP,EAAQjP,MAE7D,OAAsB,IAAlBy+B,GACFl7B,EAAMk7B,GAAgBxvB,EACf,aAAI1L,IAEL,CAAE0L,GAAR,oBAAoB1L,IAIxB,GAAoB,mBAAhBC,EAAOxC,KAA2B,CACpC,IAAM2d,EAAYnb,EAAOE,QAEnB+6B,EAAel7B,EAAMM,WAAU,SAAC66B,GAAD,OAAOA,EAAE1+B,KAAO2e,KAIrD,OAHsB,IAAlB8f,GACFl7B,EAAMW,OAAOu6B,EAAc,GAEtB,aAAIl7B,GAGb,GAAoB,UAAhBC,EAAOxC,KACT,MAAO,IAILvB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC+5B,UAAU,cACRrsB,KAAM,EACNM,QAAShO,EAAM2R,QAAQ,GACvBJ,UAAW,UACRvR,EAAMyR,qBAwQEutB,GApQE,WACf,IAAMr+B,EAAUb,KACV8F,EAAUC,cAERnK,EAAS+N,qBAAWpC,IAApB3L,KAER,EAA8B8E,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAoCF,mBAAS,GAA7C,mBAAO6P,EAAP,KAAmB4R,EAAnB,KACA,EAAsCzhB,mBAAS,IAA/C,mBAAO4P,EAAP,KAAoByP,EAApB,KACA,EAA6Bpb,qBAAWd,GAAS,IAAjD,mBAAOxM,EAAP,KAAiBuN,EAAjB,KACA,EAAkDlE,mBAAS,MAA3D,mBAAOy+B,EAAP,KAA0BC,EAA1B,KACA,EAAgD1+B,oBAAS,GAAzD,mBAAO0f,EAAP,KAAyBC,EAAzB,KACA,EAA8C3f,mBAAS,MAAvD,mBAAO2+B,EAAP,KAAwBC,EAAxB,KACA,EAAsC5+B,oBAAS,GAA/C,mBAAO6+B,EAAP,KAAoBC,EAApB,KACA,EAA8B9+B,oBAAS,GAAvC,mBAAOiQ,EAAP,KAAgBC,EAAhB,KAEA7P,qBAAU,WACR6D,EAAS,CAAErD,KAAM,UACjB4gB,EAAc,KACb,CAAC7R,IAEJvP,qBAAU,WACRH,GAAW,GACX,IAAMkJ,EAAkBC,YAAW,YACd,yCAAG,gHAEKxO,KAAIsJ,IAAI,aAAc,CAC3CoM,OAAQ,CAAEX,cAAaC,gBAHP,gBAEVxd,EAFU,EAEVA,KAGR6R,EAAS,CAAErD,KAAM,gBAAiB0C,QAASlR,EAAKsE,WAChDuZ,EAAW7d,EAAK4d,SAChB/P,GAAW,GAPO,kDASlBjO,aAAW,EAAD,IATQ,0DAAH,qDAYnB2tB,KACC,KACH,OAAO,kBAAMpW,aAAaJ,MACzB,CAACwG,EAAaC,IAEjBxP,qBAAU,WACR,IAAMgE,EAASnB,KAEToB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAUC,aAAWJ,GAY3B,OAVAD,EAAOM,GAAP,kBAAqBF,EAAQG,YAAa,SAACvS,GACrB,WAAhBA,EAAKgR,QAAuC,WAAhBhR,EAAKgR,QACnCa,EAAS,CAAErD,KAAM,kBAAmB0C,QAASlR,EAAKyc,UAGhC,WAAhBzc,EAAKgR,QACPa,EAAS,CAAErD,KAAM,iBAAkB0C,SAAUlR,EAAKmsB,eAI/C,WACLna,EAAOjP,gBAER,IAEH,IAcMyqB,EAAgB,yCAAG,WAAOrB,GAAP,6EAClBA,EADkB,wDAEvBte,GAAW,GAFY,kBAIUrF,KAAIsL,KAAK,WAAY,CAClDqY,UAAWA,EACXtmB,OAAM,OAAEgD,QAAF,IAAEA,OAAF,EAAEA,EAAM2E,GACd9J,OAAQ,SAPW,gBAIP4V,EAJO,EAIbtZ,KAKR+S,EAAQuB,KAAR,mBAAyBgF,EAAO9L,KATX,kDAWrB5N,aAAW,EAAD,IAXW,QAavBiO,GAAW,GAbY,0DAAH,sDAqBhB6+B,EAAmB,yCAAG,WAAOvgB,GAAP,2FAElB3jB,KAAI8B,OAAJ,oBAAwB6hB,IAFN,OAGxB9rB,IAAMkB,QAAQpB,KAAKG,EAAE,4BAHG,+CAKxBV,aAAW,EAAD,IALc,OAO1B2sC,EAAmB,MACnBvf,EAAe,IACfoC,EAAc,GATY,yDAAH,sDAYnBud,EAAmB,yCAAG,wGAElBnkC,KAAIsL,KAAK,oBAFS,OAGxBf,EAAQ65B,GAAG,GAHa,+CAKxBhtC,aAAW,EAAD,IALc,wDAAH,qDAqBzB,OACE,kBAAC,GAAD,CAAesP,UAAWpB,EAAQo4B,eAChC,kBAAC,GAAD,CACEn/B,KAAMsmB,EACN3f,QA/D0B,WAC9B2+B,EAAqB,MACrB/e,GAAoB,IA8DhB0C,kBAAgB,oBAChB7D,UAAWigB,IAEb,kBAAC,GAAD,CACE/qC,MACEirC,EAAe,UACRnsC,KAAKG,EAAE,0CADC,YAC4CgsC,EAAgB7rC,KAD5D,eAGRN,KAAKG,EAAE,4CAEhByG,KAAMylC,EACN9+B,QAAS++B,EACTjR,UAAW,SAACxf,GAAD,OACTswB,EACII,EAAoBJ,EAAgB9+B,IACpCm/B,MAGU,UAAfL,EACMnsC,KAAKG,EAAE,4CACPH,KAAKG,EAAE,8CAEhB,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAQH,KAAKG,EAAE,mBACf,kBAAC,GAAD,KACE,kBAACklB,GAAA,EAAD,CACE7e,YAAaxG,KAAKG,EAAE,8BACpBkO,KAAK,SACLqE,MAAO0K,EACPgF,SAtGW,SAAC4G,GACpB6D,EAAe7D,EAAM1Q,OAAO5F,MAAM0f,gBAsG1B3M,WAAY,CACVilB,eACE,kBAAC/kB,GAAA,EAAD,CAAgBpO,SAAS,SACvB,kBAAC,KAAD,CAAYzH,MAAO,CAAE3K,MAAO,cAKpC,kBAAC6S,GAAA,EAAD,CACE/H,QAAQ,YACR9K,MAAM,UACN8R,QAAS,SAAC4E,GAAD,OAAOywB,GAAe,KAE9BtsC,KAAKG,EAAE,4BAEV,kBAAC6X,GAAA,EAAD,CACE/H,QAAQ,YACR9K,MAAM,UACN8R,QArHqB,WAC7Bi1B,EAAqB,MACrB/e,GAAoB,KAqHXntB,KAAKG,EAAE,2BAId,kBAACurB,GAAA,EAAD,CACE3c,UAAWpB,EAAQo5B,UACnB92B,QAAQ,WACRsf,SAtEe,SAAC1T,GACpB,GAAK4B,IAAWhQ,EAAhB,CACA,MAAkDoO,EAAEoN,cAA5CuG,EAAR,EAAQA,UAAR,EAAmBC,cACCD,EAAY,KADhC,EAAiCE,cALjCT,GAAc,SAAC/O,GAAD,OAAeA,EAAY,QA2ErC,kBAACwoB,GAAA,EAAD,CAAOxwB,KAAK,SACV,kBAACywB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAW7tB,QAAQ,aACnB,kBAAC6tB,GAAA,EAAD,KAAY7oC,KAAKG,EAAE,wBACnB,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,4BAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,yBAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,6BAId,kBAAC2oC,GAAA,EAAD,KACE,oCACG3kC,EAAS4d,KAAI,SAACzF,GAAD,OACZ,kBAACssB,GAAA,EAAD,CAAUp4B,IAAK8L,EAAQjP,IACrB,kBAACw7B,GAAA,EAAD,CAAW/4B,MAAO,CAAEC,aAAc,IAC/B,kBAACqM,GAAA,EAAD,CAAQC,IAAKC,EAAQC,iBAExB,kBAACssB,GAAA,EAAD,KAAYvsB,EAAQhc,MACpB,kBAACuoC,GAAA,EAAD,CAAWt4B,MAAM,UAAU+L,EAAQ1X,QACnC,kBAACikC,GAAA,EAAD,CAAWt4B,MAAM,UAAU+L,EAAQ/a,OACnC,kBAACsnC,GAAA,EAAD,CAAWt4B,MAAM,UACf,kBAAC8Q,EAAA,EAAD,CACEnJ,KAAK,QACLjB,QAAS,kBAAMoW,EAAiB/Q,EAAQjP,MAExC,kBAAC,IAAD,OAEF,kBAACgU,EAAA,EAAD,CACEnJ,KAAK,QACLjB,QAAS,kBAzIH+U,EAyI0B1P,EAAQjP,GAxI1D6+B,EAAqBlgB,QACrBmB,GAAoB,GAFG,IAACnB,IA2IN,kBAAC,KAAD,OAEF,kBAACtX,GAAD,CACEC,KAAMjM,EAAK5C,QACX8O,QAAQ,8BACRC,IAAK,kBACH,kBAACwM,EAAA,EAAD,CACEnJ,KAAK,QACLjB,QAAS,SAAC4E,GACRywB,GAAe,GACfF,EAAmB9vB,KAGrB,kBAAC,KAAD,eAOX7O,GAAW,kBAACmC,GAAA,EAAD,CAAkBC,QAAM,EAACN,QAAS,U,2yMChU5D,IAAMzC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJE,SAAU,QAEZye,UAAW,CACTzR,YAAanN,EAAM2R,QAAQ,GAC3BzO,MAAO,QAGTkT,WAAY,CACV7L,SAAU,YAGZC,eAAgB,CACdrS,MAAOsS,KAAM,KACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,IAEf60B,yBAA0B,CACxBx8B,MAAO,YAILy8B,GAAoBnpB,OAAaC,MAAM,CAC3Cxe,SAAUue,OACPE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,YACZ9jB,QAAS0jB,OACNE,IAAI,EAAG,cACPC,IAAI,IAAO,aACXC,SAAS,cAqKCgpB,GAlKW,SAAC,GAMpB,IALLhmC,EAKI,EALJA,KACA2G,EAII,EAJJA,QACAs/B,EAGI,EAHJA,cACAnoB,EAEI,EAFJA,cACAuH,EACI,EADJA,OAEMte,EAAUb,KACVwO,EAAYC,kBAAO,GAEnBuI,EAAe,CACnB7e,SAAU,GACVnF,QAAS,IAGX,EAAsC0N,mBAASsW,GAA/C,mBAAOgpB,EAAP,KAAoB/V,EAApB,KAEAlpB,qBAAU,WACR,OAAO,WACLyN,EAAUE,SAAU,KAErB,IAEH3N,qBAAU,YACc,yCAAG,0FACnB6W,GACFqS,GAAe,SAAC7W,GACd,OAAO,6BAAKA,GAAcwE,MAIzBmoB,EAPkB,0EAUExkC,KAAIsJ,IAAJ,wBAAyBk7B,IAV3B,gBAUbhtC,EAVa,EAUbA,KACJyb,EAAUE,SACZub,EAAel3B,GAZI,kDAerBJ,aAAW,EAAD,IAfW,0DAAH,qDAmBtBstC,KACC,CAACF,EAAejmC,EAAM8d,IAEzB,IAAM9W,EAAc,WAClBL,IACAwpB,EAAejT,IAGXkpB,EAAqB,yCAAG,WAAOzoB,GAAP,uFAEtBsoB,EAFsB,gCAGlBxkC,KAAIqT,IAAJ,wBAAyBmxB,GAAiBtoB,GAHxB,OAIxB3W,IAJwB,uCAMDvF,KAAIsL,KAAK,gBAAiB4Q,GANzB,gBAMhB1kB,EANgB,EAMhBA,KACJosB,GACFA,EAAOpsB,GAET+N,IAVwB,QAY1B1N,IAAMkB,QAAQpB,KAAKG,EAAE,8BAZK,kDAc1BV,aAAW,EAAD,IAdgB,0DAAH,sDAkB3B,OACE,yBAAKsP,UAAWpB,EAAQV,MACtB,kBAACuX,GAAA,EAAD,CACE5d,KAAMA,EACN2G,QAASK,EACToB,SAAS,KACTC,WAAS,EACTC,OAAO,SAEP,kBAACuV,GAAA,EAAD,CAAapX,GAAG,qBACA,UAAbw/B,EACM7sC,KAAKG,EAAE,gCACPH,KAAKG,EAAE,iCAEhB,kBAAC,KAAD,CACEukB,cAAeooB,EACfnoB,oBAAoB,EACpBC,iBAAkB+nB,GAClB9nB,SAAU,SAACN,EAAQ7gB,GACjBmT,YAAW,WACTm2B,EAAsBzoB,GACtB7gB,EAAQohB,eAAc,KACrB,QAGJ,cAAGP,OAAH,IAAWS,EAAX,EAAWA,OAAQD,EAAnB,EAAmBA,QAASE,EAA5B,EAA4BA,aAA5B,OACC,kBAAC,KAAD,KACE,kBAACC,GAAA,EAAD,CAAeC,UAAQ,GACrB,yBAAKpW,UAAWpB,EAAQ++B,0BACtB,kBAAC,KAAD,CACEtnB,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,mCACdG,KAAK,WACLglB,WAAS,EACTvlB,MAAOglB,EAAQ9f,UAAYsgB,QAAQP,EAAO/f,UAC1CugB,WAAYT,EAAQ9f,UAAY+f,EAAO/f,SACvCgL,QAAQ,WACRsJ,OAAO,QACPxK,UAAWpB,EAAQie,UACnB3c,WAAS,KAGb,yBAAKF,UAAWpB,EAAQ++B,0BACtB,kBAAC,KAAD,CACEtnB,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,kCACdG,KAAK,UACLP,MAAOglB,EAAQjlB,SAAWylB,QAAQP,EAAOllB,SACzC0lB,WAAYT,EAAQjlB,SAAWklB,EAAOllB,QACtCmQ,QAAQ,WACRsJ,OAAO,QACPxK,UAAWpB,EAAQie,UACnBuO,WAAS,EACTyM,KAAM,EACN33B,WAAS,MAIf,kBAAC8W,GAAA,EAAD,KACE,kBAAC/N,GAAA,EAAD,CACEf,QAASrJ,EACTzI,MAAM,YACNmE,SAAU2b,EACVhV,QAAQ,YAEPjQ,KAAKG,EAAE,qCAEV,kBAAC6X,GAAA,EAAD,CACE3J,KAAK,SACLlJ,MAAM,UACNmE,SAAU2b,EACVhV,QAAQ,YACRlB,UAAWpB,EAAQyV,YAEL,UAAbypB,EACM7sC,KAAKG,EAAE,oCACPH,KAAKG,EAAE,oCACb8kB,GACC,kBAAChN,GAAA,EAAD,CACEC,KAAM,GACNnJ,UAAWpB,EAAQ6J,0B,2yMChLzC,IAAM7G,GAAU,SAACC,EAAOC,GACtB,GAAoB,uBAAhBA,EAAOxC,KAA+B,CACxC,IAAMpG,EAAe4I,EAAOE,QACtBk8B,EAAkB,GAWxB,OATAhlC,EAAagG,SAAQ,SAAC6+B,GACpB,IAAMI,EAAmBt8B,EAAMM,WAAU,SAAC6R,GAAD,OAAOA,EAAE1V,KAAOy/B,EAAYz/B,OAC3C,IAAtB6/B,EACFt8B,EAAMs8B,GAAoBJ,EAE1BG,EAAgB94B,KAAK24B,MAInB,GAAN,oBAAWl8B,GAAUq8B,GAGvB,GAAoB,yBAAhBp8B,EAAOxC,KAAiC,CAC1C,IAAMy+B,EAAcj8B,EAAOE,QACrBm8B,EAAmBt8B,EAAMM,WAAU,SAAC6R,GAAD,OAAOA,EAAE1V,KAAOy/B,EAAYz/B,MAErE,OAA0B,IAAtB6/B,GACFt8B,EAAMs8B,GAAoBJ,EACnB,aAAIl8B,IAEL,CAAEk8B,GAAR,oBAAwBl8B,IAI5B,GAAoB,yBAAhBC,EAAOxC,KAAiC,CAC1C,IAAMw+B,EAAgBh8B,EAAOE,QAEvBm8B,EAAmBt8B,EAAMM,WAAU,SAAC6R,GAAD,OAAOA,EAAE1V,KAAOw/B,KAIzD,OAH0B,IAAtBK,GACFt8B,EAAMW,OAAO27B,EAAkB,GAE1B,aAAIt8B,GAGb,GAAoB,UAAhBC,EAAOxC,KACT,MAAO,IAILvB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC+5B,UAAU,cACRrsB,KAAM,EACNM,QAAShO,EAAM2R,QAAQ,GACvBJ,UAAW,UACRvR,EAAMyR,qBAgNE0uB,GA5MM,WACnB,IAAMx/B,EAAUb,KAEhB,EAA8BU,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAoCF,mBAAS,GAA7C,mBAAO6P,EAAP,KAAmB4R,EAAnB,KACA,EAAsCzhB,mBAAS,IAA/C,mBAAO4P,EAAP,KAAoByP,EAApB,KACA,EAAiCpb,qBAAWd,GAAS,IAArD,mBAAO1I,EAAP,KAAqByJ,EAArB,KACA,EAAwDlE,mBAAS,MAAjE,mBAAO4/B,EAAP,KAA6BC,EAA7B,KACA,EAA0D7/B,oBAAS,GAAnE,mBAAO8/B,EAAP,KAA8BC,EAA9B,KACA,EAAwD//B,mBAAS,MAAjE,mBAAOggC,EAAP,KAA6BC,EAA7B,KACA,EAAgDjgC,oBAAS,GAAzD,mBAAOq6B,EAAP,KAAyBC,EAAzB,KACA,EAA8Bt6B,oBAAS,GAAvC,mBAAOiQ,EAAP,KAAgBC,EAAhB,KAEA7P,qBAAU,WACR6D,EAAS,CAAErD,KAAM,UACjB4gB,EAAc,KACb,CAAC7R,IAEJvP,qBAAU,WACRH,GAAW,GACX,IAAMkJ,EAAkBC,YAAW,YACV,yCAAG,gHAECxO,KAAIsJ,IAAI,iBAAkB,CAC/CoM,OAAQ,CAAEX,cAAaC,gBAHH,gBAEdxd,EAFc,EAEdA,KAGR6R,EAAS,CAAErD,KAAM,qBAAsB0C,QAASlR,EAAKoI,eACrDyV,EAAW7d,EAAK4d,SAChB/P,GAAW,GAPW,kDAStBjO,aAAW,EAAD,IATY,0DAAH,qDAYvBiuC,KACC,KACH,OAAO,kBAAM12B,aAAaJ,MACzB,CAACwG,EAAaC,IAEjBxP,qBAAU,WACR,IAAMgE,EAASnB,KAEToB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAUC,aAAWJ,GAe3B,OAbAD,EAAOM,GAAP,sBAAyBF,EAAQG,YAAa,SAACvS,GACzB,WAAhBA,EAAKgR,QAAuC,WAAhBhR,EAAKgR,QACnCa,EAAS,CAAErD,KAAM,uBAAwB0C,QAASlR,EAAKitC,cAGrC,WAAhBjtC,EAAKgR,QACPa,EAAS,CACPrD,KAAM,uBACN0C,SAAUlR,EAAKgtC,mBAKd,WACLh7B,EAAOjP,gBAER,IAEH,IAmBM+qC,EAAwB,yCAAG,WAAOd,GAAP,2FAEvBxkC,KAAI8B,OAAJ,wBAA4B0iC,IAFL,OAG7B3sC,IAAMkB,QAAQpB,KAAKG,EAAE,gCAHQ,+CAK7BV,aAAW,EAAD,IALmB,OAO/BguC,EAAwB,MACxB5gB,EAAe,IACfoC,EAAc,GATiB,yDAAH,sDAwB9B,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE/tB,MACEssC,GAAoB,UACjBxtC,KAAKG,EAAE,8CADU,YACuCqtC,EAAqBvoC,SAD5D,KAItB2B,KAAMihC,EACNt6B,QAASu6B,EACTzM,UAAW,kBAAMsS,EAAyBH,EAAqBngC,MAE9DrN,KAAKG,EAAE,iDAEV,kBAAC,GAAD,CACEyG,KAAM0mC,EACN//B,QAlD+B,WACnC8/B,EAAwB,MACxBE,GAAyB,IAiDrB1d,kBAAgB,oBAChBgd,cAAeO,GAAwBA,EAAqB//B,KAE9D,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAQrN,KAAKG,EAAE,uBACf,kBAAC,GAAD,KACE,kBAACklB,GAAA,EAAD,CACE7e,YAAaxG,KAAKG,EAAE,kCACpBkO,KAAK,SACLqE,MAAO0K,EACPgF,SAtEW,SAAC4G,GACpB6D,EAAe7D,EAAM1Q,OAAO5F,MAAM0f,gBAsE1B3M,WAAY,CACVilB,eACE,kBAAC/kB,GAAA,EAAD,CAAgBpO,SAAS,SACvB,kBAAC,KAAD,CAAYzH,MAAO,CAAE3K,MAAO,cAKpC,kBAAC6S,GAAA,EAAD,CACE/H,QAAQ,YACR9K,MAAM,UACN8R,QA9E0B,WAClCo2B,EAAwB,MACxBE,GAAyB,KA8EhBvtC,KAAKG,EAAE,+BAId,kBAACurB,GAAA,EAAD,CACE3c,UAAWpB,EAAQo5B,UACnB92B,QAAQ,WACRsf,SAxDe,SAAC1T,GACpB,GAAK4B,IAAWhQ,EAAhB,CACA,MAAkDoO,EAAEoN,cAA5CuG,EAAR,EAAQA,UAAR,EAAmBC,cACCD,EAAY,KADhC,EAAiCE,cALjCT,GAAc,SAAC/O,GAAD,OAAeA,EAAY,QA6DrC,kBAACwoB,GAAA,EAAD,CAAOxwB,KAAK,SACV,kBAACywB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,gCAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,+BAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,iCAId,kBAAC2oC,GAAA,EAAD,KACE,oCACG7gC,EAAa8Z,KAAI,SAAC+qB,GAAD,OAChB,kBAAClE,GAAA,EAAD,CAAUp4B,IAAKs8B,EAAYz/B,IACzB,kBAACw7B,GAAA,EAAD,CAAWt4B,MAAM,UAAUu8B,EAAY7nC,UACvC,kBAAC4jC,GAAA,EAAD,CAAWt4B,MAAM,UAAUu8B,EAAYhtC,SACvC,kBAAC+oC,GAAA,EAAD,CAAWt4B,MAAM,UACf,kBAAC8Q,EAAA,EAAD,CACEnJ,KAAK,QACLjB,QAAS,kBAtGE,SAAC61B,GAC9BO,EAAwBP,GACxBS,GAAyB,GAoGQK,CAAuBd,KAEtC,kBAACxD,GAAA,EAAD,OAGF,kBAACjoB,EAAA,EAAD,CACEnJ,KAAK,QACLjB,QAAS,SAAC4E,GACRisB,GAAoB,GACpB2F,EAAwBX,KAG1B,kBAAC,KAAD,YAKPr/B,GAAW,kBAACmC,GAAA,EAAD,CAAkBL,QAAS,U,UClMtCs+B,GAjFK,SAAC,GAAmD,IAAjDzrB,EAAgD,EAAhDA,SAAU0rB,EAAsC,EAAtCA,aAAclgC,EAAwB,EAAxBA,YAAahH,EAAW,EAAXA,KAC1D,EAA0C4G,mBAASsgC,GAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KA4DA,OACE,kBAACxpB,GAAA,EAAD,CACEjX,QAASK,EACTiiB,kBAAgB,sBAChBjpB,KAAMA,EACNoI,SAAS,KACTi/B,gBAAc,GAEd,kBAAC,KAAD,CACE/9B,MAAO,OACPg+B,SAAS,OACT/oC,MAAO4oC,EACPI,OAvES,CACb,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAqBI/rB,SAlBe,SAACjd,GACpB6oC,EAAiB7oC,EAAMipC,KACvBxgC,KAiBIygC,iBAAkB,SAAClpC,GAAD,OAAWid,EAASjd,EAAMipC,U,qzMCxDpD,IAAMthC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCC,KAAM,CACLC,QAAS,OACTC,SAAU,QAEXye,UAAW,CACVzR,YAAanN,EAAM2R,QAAQ,GAC3BjE,KAAM,GAGP0I,WAAY,CACX7L,SAAU,YAGXC,eAAgB,CACfrS,MAAOsS,KAAM,KACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,IAEdwL,YAAa,CACZ9J,OAAQvM,EAAM2R,QAAQ,GACtB2E,SAAU,KAEXgrB,cAAe,CACdp+B,MAAO,GACPC,OAAQ,QAIJo+B,GAAc/qB,OAAaC,MAAM,CACtCnjB,KAAMkjB,OACJE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,YACXze,MAAOqe,OAAaE,IAAI,EAAG,cAAcC,IAAI,EAAG,aAAaC,WAC7Dxe,gBAAiBoe,SA0KHgrB,GAvKI,SAAC,GAAgC,IAA9B5nC,EAA6B,EAA7BA,KAAM2G,EAAuB,EAAvBA,QAAS5H,EAAc,EAAdA,QAC9BgI,EAAUb,KAEVgX,EAAe,CACpBxjB,KAAM,GACN6E,MAAO,GACPC,gBAAiB,IAGlB,EAAwDoI,oBAAS,GAAjE,mBAAOihC,EAAP,KAA6BC,EAA7B,KACA,EAA0BlhC,mBAASsW,GAAnC,mBAAOxV,EAAP,KAAcqgC,EAAd,KACMC,EAAcrzB,mBAEpB1N,qBAAU,WAaT,OAZA,wBAAC,0FACKlI,EADL,0EAGwB0C,KAAIsJ,IAAJ,iBAAkBhM,IAH1C,gBAGS9F,EAHT,EAGSA,KACR8uC,GAAS,SAAAzuB,GACR,OAAO,6BAAKA,GAAcrgB,MAL5B,kDAQCJ,aAAW,EAAD,IARX,yDAAD,GAYO,WACNkvC,EAAS,CACRruC,KAAM,GACN6E,MAAO,GACPC,gBAAiB,QAGjB,CAACO,EAASiB,IAEb,IAAMgH,EAAc,WACnBL,IACAohC,EAAS7qB,IAGJ+qB,EAAe,yCAAG,WAAMtqB,GAAN,+EAElB5e,EAFkB,gCAGf0C,KAAIqT,IAAJ,iBAAkB/V,GAAW4e,GAHd,6CAKflc,KAAIsL,KAAK,SAAU4Q,GALJ,OAOtBrkB,IAAMkB,QAAQ,4BACdwM,IARsB,kDAUtBnO,aAAW,EAAD,IAVY,0DAAH,sDAcrB,OACC,yBAAKsP,UAAWpB,EAAQV,MACvB,kBAACuX,GAAA,EAAD,CAAQ5d,KAAMA,EAAM2G,QAASK,EAAasB,OAAO,SAChD,kBAACuV,GAAA,EAAD,KACS,UAAP9e,EACK3F,KAAKG,EAAE,yBACPH,KAAKG,EAAE,0BAEd,kBAAC,KAAD,CACCukB,cAAepW,EACfqW,oBAAoB,EACpBC,iBAAkB2pB,GAClB1pB,SAAU,SAACN,EAAQ7gB,GAClBmT,YAAW,WACVg4B,EAAgBtqB,GAChB7gB,EAAQohB,eAAc,KACpB,QAGH,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,OAAQC,EAApB,EAAoBA,aAAcV,EAAlC,EAAkCA,OAAlC,OACA,kBAAC,KAAD,KACC,kBAACW,GAAA,EAAD,CAAeC,UAAQ,GACtB,kBAAC,KAAD,CACCC,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,wBACdmlB,WAAS,EACThlB,KAAK,OACLP,MAAOglB,EAAQzkB,MAAQilB,QAAQP,EAAO1kB,MACtCklB,WAAYT,EAAQzkB,MAAQ0kB,EAAO1kB,KACnC2P,QAAQ,WACRsJ,OAAO,QACPxK,UAAWpB,EAAQie,UACnBsG,SAAU0c,IAEX,kBAAC,KAAD,CACCxpB,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,yBACdG,KAAK,QACL+M,GAAG,QACHyhC,QAAS,WACRJ,GAAwB,GACxBE,EAAYpzB,QAAQ0F,SAErBnhB,MAAOglB,EAAQ5f,OAASogB,QAAQP,EAAO7f,OACvCqgB,WAAYT,EAAQ5f,OAAS6f,EAAO7f,MACpCsgB,WAAY,CACXilB,eACC,kBAAC/kB,GAAA,EAAD,CAAgBpO,SAAS,SACxB,yBACCzH,MAAO,CAAEyK,gBAAiBgK,EAAOpf,OACjC4J,UAAWpB,EAAQ2gC,iBAItB5oB,aACC,kBAACrE,EAAA,EAAD,CACCnJ,KAAK,QACL/S,MAAM,UACN8R,QAAS,kBAAMy3B,GAAwB,KAEvC,kBAACK,GAAA,EAAD,QAIH9+B,QAAQ,WACRsJ,OAAO,UAER,kBAAC,GAAD,CACC3S,KAAM6nC,EACN7gC,YAAa,kBAAM8gC,GAAwB,IAC3CtsB,SAAU,SAAAjd,GACTof,EAAOpf,MAAQA,EACfwpC,GAAS,WACR,OAAO,6BAAKpqB,GAAZ,IAAoBpf,iBAKxB,kBAAC4gB,GAAA,EAAD,KACC,kBAAC/N,GAAA,EAAD,CACCf,QAASrJ,EACTzI,MAAM,YACNmE,SAAU2b,EACVhV,QAAQ,YAEPjQ,KAAKG,EAAE,8BAET,kBAAC6X,GAAA,EAAD,CACC3J,KAAK,SACLlJ,MAAM,UACNmE,SAAU2b,EACVhV,QAAQ,YACRlB,UAAWpB,EAAQyV,YAEX,UAAPzd,EACK3F,KAAKG,EAAE,6BACPH,KAAKG,EAAE,6BACZ8kB,GACA,kBAAChN,GAAA,EAAD,CACCC,KAAM,GACNnJ,UAAWpB,EAAQ6J,0B,2yMC5L9B,IAAM1K,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC+5B,UAAU,cACRrsB,KAAM,EACNM,QAAShO,EAAM2R,QAAQ,GACvBJ,UAAW,UACRvR,EAAMyR,iBAEXhP,gBAAiB,CACfvC,QAAS,OACTwC,WAAY,SACZC,eAAgB,cAIdgB,GAAU,SAACC,EAAOC,GACtB,GAAoB,gBAAhBA,EAAOxC,KAAwB,CACjC,IAAMnG,EAAS2I,EAAOE,QAChBi+B,EAAY,GAWlB,OATA9mC,EAAO+F,SAAQ,SAACK,GACd,IAAM2gC,EAAar+B,EAAMM,WAAU,SAAC6R,GAAD,OAAOA,EAAE1V,KAAOiB,EAAMjB,OACrC,IAAhB4hC,EACFr+B,EAAMq+B,GAAc3gC,EAEpB0gC,EAAU76B,KAAK7F,MAIb,GAAN,oBAAWsC,GAAUo+B,GAGvB,GAAoB,kBAAhBn+B,EAAOxC,KAA0B,CACnC,IAAMC,EAAQuC,EAAOE,QACfk+B,EAAar+B,EAAMM,WAAU,SAACm5B,GAAD,OAAOA,EAAEh9B,KAAOiB,EAAMjB,MAEzD,OAAoB,IAAhB4hC,GACFr+B,EAAMq+B,GAAc3gC,EACb,aAAIsC,IAEL,CAAEtC,GAAR,oBAAkBsC,IAItB,GAAoB,iBAAhBC,EAAOxC,KAAyB,CAClC,IAAM1I,EAAUkL,EAAOE,QACjBk+B,EAAar+B,EAAMM,WAAU,SAAC6R,GAAD,OAAOA,EAAE1V,KAAO1H,KAInD,OAHoB,IAAhBspC,GACFr+B,EAAMW,OAAO09B,EAAY,GAEpB,aAAIr+B,GAGb,GAAoB,UAAhBC,EAAOxC,KACT,MAAO,IA4KI6gC,GAxKA,WACb,IAAMvhC,EAAUb,KAEhB,EAA2B2E,qBAAWd,GAAS,IAA/C,mBAAOzI,EAAP,KAAewJ,EAAf,KACA,EAA8BlE,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KAEA,EAA4CF,oBAAS,GAArD,mBAAO2hC,EAAP,KAAuBC,EAAvB,KACA,EAA0C5hC,mBAAS,MAAnD,mBAAOuuB,EAAP,KAAsBC,EAAtB,KACA,EAAgDxuB,oBAAS,GAAzD,mBAAOq6B,EAAP,KAAyBC,EAAzB,KAEAj6B,qBAAU,WACR,wBAAC,8FACCH,GAAW,GADZ,kBAG0BrF,KAAIsJ,IAAI,UAHlC,gBAGW9R,EAHX,EAGWA,KACR6R,EAAS,CAAErD,KAAM,cAAe0C,QAASlR,IAEzC6N,GAAW,GANd,kDAQGjO,aAAW,EAAD,IACViO,GAAW,GATd,yDAAD,KAYC,IAEHG,qBAAU,WACR,IAAMgE,EAASnB,KAEToB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAUC,aAAWJ,GAY3B,OAVAD,EAAOM,GAAP,gBAAmBF,EAAQG,YAAa,SAACvS,GACnB,WAAhBA,EAAKgR,QAAuC,WAAhBhR,EAAKgR,QACnCa,EAAS,CAAErD,KAAM,gBAAiB0C,QAASlR,EAAKyO,QAG9B,WAAhBzO,EAAKgR,QACPa,EAAS,CAAErD,KAAM,eAAgB0C,QAASlR,EAAK8F,aAI5C,WACLkM,EAAOjP,gBAER,IAEH,IAoBMysC,EAAiB,yCAAG,WAAO1pC,GAAP,2FAEhB0C,KAAI8B,OAAJ,iBAAqBxE,IAFL,OAGtBzF,IAAMkB,QAAQpB,KAAKG,EAAE,gCAHC,+CAKtBV,aAAW,EAAD,IALY,OAOxBu8B,EAAiB,MAPO,yDAAH,sDAUvB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE96B,MACE66B,GAAa,UACV/7B,KAAKG,EAAE,wCADG,YACwC47B,EAAcz7B,KADtD,KAIfsG,KAAMihC,EACNt6B,QAxB+B,WACnCu6B,GAAoB,GACpB9L,EAAiB,OAuBbX,UAAW,kBAAMgU,EAAkBtT,EAAc1uB,MAEhDrN,KAAKG,EAAE,2CAEV,kBAAC,GAAD,CACEyG,KAAMuoC,EACN5hC,QAzCwB,WAC5B6hC,GAAkB,GAClBpT,EAAiB,OAwCbr2B,QAAO,OAAEo2B,QAAF,IAAEA,OAAF,EAAEA,EAAe1uB,KAE1B,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAQrN,KAAKG,EAAE,iBACf,kBAAC,GAAD,KACE,kBAAC6X,GAAA,EAAD,CACE/H,QAAQ,YACR9K,MAAM,UACN8R,QAvDmB,WAC3Bm4B,GAAkB,GAClBpT,EAAiB,QAuDRh8B,KAAKG,EAAE,yBAId,kBAACurB,GAAA,EAAD,CAAO3c,UAAWpB,EAAQo5B,UAAW92B,QAAQ,YAC3C,kBAACy4B,GAAA,EAAD,CAAOxwB,KAAK,SACV,kBAACywB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,sBAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,uBAEV,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACdvQ,KAAKG,EAAE,2BAId,kBAAC2oC,GAAA,EAAD,KACE,oCACG5gC,EAAO6Z,KAAI,SAACzT,GAAD,OACV,kBAACs6B,GAAA,EAAD,CAAUp4B,IAAKlC,EAAMjB,IACnB,kBAACw7B,GAAA,EAAD,CAAWt4B,MAAM,UAAUjC,EAAMhO,MACjC,kBAACuoC,GAAA,EAAD,CAAWt4B,MAAM,UACf,yBAAKxB,UAAWpB,EAAQ8B,iBACtB,0BACEK,MAAO,CACLyK,gBAAiBjM,EAAMnJ,MACvB+K,MAAO,GACPC,OAAQ,GACR+J,UAAW,cAKnB,kBAAC2uB,GAAA,EAAD,CAAWt4B,MAAM,UACf,kBAAC8Q,EAAA,EAAD,CACEnJ,KAAK,QACLjB,QAAS,kBAtFL,SAAC3I,GACvB0tB,EAAiB1tB,GACjB8gC,GAAkB,GAoFeE,CAAgBhhC,KAE/B,kBAACg7B,GAAA,EAAD,OAGF,kBAACjoB,EAAA,EAAD,CACEnJ,KAAK,QACLjB,QAAS,WACP+kB,EAAiB1tB,GACjBw5B,GAAoB,KAGtB,kBAAC,KAAD,YAKPr6B,GAAW,kBAACmC,GAAA,EAAD,CAAkBL,QAAS,U,2yMC5OrD,IAAMzC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCqW,YAAa,CACZ9J,OAAQvM,EAAM2R,QAAQ,GACtB2E,SAAU,SAoDGisB,GAhDW,WACtB,IAAM5hC,EAAUb,KAChB,EAA4BU,mBAAS,IAArC,mBAAOtF,EAAP,KAAema,EAAf,KAeA,OAbAxU,qBAAU,WACN,wBAAC,gHAE8BxF,KAAIsJ,IAAI,UAFtC,gBAEe9R,EAFf,EAEeA,KAGRwiB,EAAUxiB,GALjB,gDAOOJ,aAAW,EAAD,IAPjB,wDAAD,KAUD,IAGC,yBAAKqQ,MAAO,CAAE8H,UAAW,IACrB,kBAAC0K,GAAA,EAAD,CACIrS,QAAQ,WACRlB,UAAWpB,EAAQ2U,YACnB/I,OAAO,QACPtK,WAAS,GAET,kBAACsT,GAAA,EAAD,CAAYlV,GAAG,+BACVrN,KAAKG,EAAE,2BAGZ,kBAAC,KAAD,CACIilB,GAAI5C,KACJS,MAAOjjB,KAAKG,EAAE,0BACdG,KAAK,UACLwlB,QAAQ,wBACRzY,GAAG,mBAEFnF,EAAO6Z,KAAI,SAAAzT,GAAK,OACb,kBAAC4U,EAAA,EAAD,CAAU1S,IAAKlC,EAAMjB,GAAIqF,MAAOpE,EAAMjB,IACjCiB,EAAMhO,a,2yMC7CnC,IAAMwM,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCqW,YAAa,CACZ9J,OAAQvM,EAAM2R,QAAQ,GACtB2E,SAAU,SAkDGksB,GA9CI,WACf,IAAM7hC,EAAUb,KAChB,EAA0BU,mBAAS,IAAnC,mBAAOlF,EAAP,KAAcmnC,EAAd,KAaA,OAXA5hC,qBAAU,WACN,wBAAC,gHAE8BxF,KAAIsJ,IAAI,UAFtC,gBAEe9R,EAFf,EAEeA,KACR4vC,EAAS5vC,EAAKyI,OAHrB,gDAKO7I,aAAW,EAAD,IALjB,wDAAD,KAQD,IAGC,yBAAKqQ,MAAO,CAAE8H,UAAW,IACrB,kBAAC0K,GAAA,EAAD,CACIrS,QAAQ,WACRlB,UAAWpB,EAAQ2U,YACnB/I,OAAO,QACPtK,WAAS,GAET,kBAACsT,GAAA,EAAD,CAAYlV,GAAG,8BACVrN,KAAKG,EAAE,yBAGZ,kBAAC,KAAD,CACIilB,GAAI5C,KACJS,MAAOjjB,KAAKG,EAAE,wBACdG,KAAK,SACLwlB,QAAQ,uBACRzY,GAAG,kBAEF/E,EAAMyZ,KAAI,SAAArZ,GAAI,OACX,kBAACwa,EAAA,EAAD,CAAU1S,IAAK9H,EAAK2E,GAAIqF,MAAOhK,EAAK2E,IAC/B3E,EAAKpI,aC7C5BwM,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCqW,YAAa,CACT9J,OAAQvM,EAAM2R,QAAQ,GACtB2E,SAAU,SAgDHosB,GA5CW,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,kBAAmBvtB,EAAe,EAAfA,SACtCzU,EAAUb,KAahB,OACI,yBAAKgD,MAAO,CAAE8H,UAAW,IACrB,kBAAC0K,GAAA,EAAD,CACIrS,QAAQ,WACRlB,UAAWpB,EAAQ0V,YACnB9J,OAAO,SAEP,kBAACgJ,GAAA,EAAD,CAAYlV,GAAG,iCACVrN,KAAKG,EAAE,8BAGZ,kBAAC,KAAD,CACIilB,GAAI5C,KACJS,MAAOjjB,KAAKG,EAAE,6BACdG,KAAK,cACLwlB,QAAQ,0BACRzY,GAAG,oBACHuW,UAAQ,EACRlR,MAAOi9B,EACPvtB,SA7BK,SAAAvG,GAEjBuG,EACsB,KAAlBvG,EAAEvD,OAAO5F,MAAe,CAAExK,QAAQ,EAAOI,OAAO,EAAOxI,SAAS,EAAMyF,gBAAgB,EAAMC,YAAaqW,EAAEvD,OAAO5F,OAC5F,KAAlBmJ,EAAEvD,OAAO5F,MAAe,CAAExK,QAAQ,EAAOI,OAAO,EAAOxI,SAAS,EAAOyF,gBAAgB,EAAMC,YAAaqW,EAAEvD,OAAO5F,OAC7F,KAAlBmJ,EAAEvD,OAAO5F,MAAe,CAAExK,QAAQ,EAAMI,OAAO,EAAOxI,SAAS,EAAMyF,gBAAgB,EAAOC,YAAaqW,EAAEvD,OAAO5F,OAC5F,KAAlBmJ,EAAEvD,OAAO5F,MAAe,CAAExK,QAAQ,EAAOI,OAAO,EAAMxI,SAAS,EAAMyF,gBAAgB,EAAOC,YAAaqW,EAAEvD,OAAO5F,OAC9G,CAAExK,QAAQ,EAAOI,OAAO,EAAOxI,SAAS,EAAOyF,gBAAgB,EAAOC,YAAa,OAwB3F,kBAAC0d,EAAA,EAAD,CAAU1S,IAAI,IAAIkC,MAAM,KAAxB,eACA,kBAACwQ,EAAA,EAAD,CAAU1S,IAAI,IAAIkC,MAAM,KAAxB,QACA,kBAACwQ,EAAA,EAAD,CAAU1S,IAAI,IAAIkC,MAAM,KAAxB,SACA,kBAACwQ,EAAA,EAAD,CAAU1S,IAAI,IAAIkC,MAAM,KAAxB,iB,2yMC9BpB,IAAM5F,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCC,KAAM,CACLC,QAAS,OACTC,SAAU,QAEXgW,cAAe,CACdjW,QAAS,OACT,yBAA0B,CACzBiN,YAAanN,EAAM2R,QAAQ,KAI7ByE,WAAY,CACX7L,SAAU,YAGXC,eAAgB,CACfrS,MAAOsS,KAAM,KACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,IAEdwL,YAAa,CACZ9J,OAAQvM,EAAM2R,QAAQ,GACtB2E,SAAU,SAINssB,GAAgBpsB,OAAaC,MAAM,CACxCne,WAAYke,OACVE,IAAI,EAAG,gBACPC,IAAI,GAAI,gBACRC,SAAS,kBACXpe,YAAage,SAsLCqsB,GAnLM,SAAC,GAAkC,IAAhCjpC,EAA+B,EAA/BA,KAAM2G,EAAyB,EAAzBA,QAASuiC,EAAgB,EAAhBA,UAChCniC,EAAUb,KAEVgX,EAAe,CACpBxe,WAAY,GACZE,YAAa,GACbD,eAAgB,GAChBE,YAAa,GACbC,OAAQ,KACRC,QAAS,MAGV,EAA0D6H,mBAAS,IAAnE,mBACA,GADA,UACoCA,mBAAS,CAAEtF,QAAQ,EAAOI,OAAO,EAAOxI,SAAS,EAAOyF,gBAAgB,EAAOC,YAAa,MAAhI,mBAAOuqC,EAAP,KAAmBC,EAAnB,KACA,EAA8BxiC,mBAASsW,GAAvC,mBAAOmsB,EAAP,KAAgBC,EAAhB,KACMtB,EAAcrzB,mBAGpB1N,qBAAU,YACS,yCAAG,0FACpBmiC,EAAc,CAAE9nC,QAAQ,EAAOI,OAAO,EAAOxI,SAAS,EAAOyF,gBAAgB,EAAOC,YAAa,KAE5FsqC,EAHe,0EAKIznC,KAAIsJ,IAAJ,eAAgBm+B,IALpB,gBAKXjwC,EALW,EAKXA,KACRqwC,GAAW,SAAAhwB,GACV,OAAO,6BAAKA,GAAcrgB,MAPR,KAUXA,EAAK2F,YAVM,OAWb,IAXa,QAcb,IAda,QAiBb,IAjBa,QAoBb,IApBa,gCAYjBwqC,EAAc,CAAE9nC,QAAQ,EAAOI,OAAO,EAAOxI,SAAS,EAAMyF,gBAAgB,EAAMC,YAAa3F,EAAK2F,cAZnF,oCAejBwqC,EAAc,CAAE9nC,QAAQ,EAAOI,OAAO,EAAOxI,SAAS,EAAOyF,gBAAgB,EAAMC,YAAa3F,EAAK2F,cAfpF,oCAkBjBwqC,EAAc,CAAE9nC,QAAQ,EAAMI,OAAO,EAAOxI,SAAS,EAAMyF,gBAAgB,EAAOC,YAAa3F,EAAK2F,cAlBnF,oCAqBjBwqC,EAAc,CAAE9nC,QAAQ,EAAOI,OAAO,EAAMxI,SAAS,EAAMyF,gBAAgB,EAAOC,YAAa3F,EAAK2F,cArBnF,+EAyBnB/F,aAAW,EAAD,IAzBS,0DAAH,qDA6BlB0wC,KACE,CAACL,EAAWlpC,IAEf,IAAMgH,EAAc,WACnBL,IACA2iC,EAAWpsB,IAGNssB,EAAiB,yCAAG,WAAM7rB,GAAN,2EACnB8rB,EADmB,gBACA9rB,GADA,SAGxB8rB,EAAY7qC,YAAcuqC,EAAWvqC,YACrCsI,QAAQC,IAAI,YAAasiC,IACrBP,EALoB,gCAMjBznC,KAAIqT,IAAJ,eAAgBo0B,GAAaO,GANZ,+CAQjBhoC,KAAIsL,KAAK,OAAQ08B,GARA,QAUxBnwC,IAAMkB,QAAQpB,KAAKG,EAAE,qBAVG,kDAYxBV,aAAW,EAAD,IAZc,QAczBmO,IAdyB,0DAAH,sDAiBvB,OACC,yBAAKmB,UAAWpB,EAAQV,MACvB,kBAACuX,GAAA,EAAD,CACC5d,KAAMA,EACN2G,QAASK,EACToB,SAAS,KACTC,WAAS,EACTC,OAAO,SAEP,kBAACuV,GAAA,EAAD,CAAapX,GAAG,qBACL,UAATyiC,EACK9vC,KAAKG,EAAE,uBACPH,KAAKG,EAAE,wBAEd,kBAAC,KAAD,CACCukB,cAAeurB,EACftrB,oBAAoB,EACpBC,iBAAkBgrB,GAClB/qB,SAAU,SAACN,EAAQ7gB,GAClBmT,YAAW,WACVu5B,EAAkB7rB,GAClB7gB,EAAQohB,eAAc,KACpB,QAGH,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,OAAQC,EAApB,EAAoBA,aAApB,OACA,kBAAC,KAAD,KACC,kBAACC,GAAA,EAAD,CAAeC,UAAQ,GACtB,yBAAKpW,UAAWpB,EAAQwV,eACvB,kBAAC,KAAD,CACCiC,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,4BACdmlB,WAAS,EACThlB,KAAK,aACLP,MAAOglB,EAAQzf,YAAcigB,QAAQP,EAAO1f,YAC5CkgB,WAAYT,EAAQzf,YAAc0f,EAAO1f,WACzC2K,QAAQ,WACRsJ,OAAO,QACPtK,WAAS,IAEV,kBAAC,GAAD,CACC0gC,kBAAmBI,EAAWvqC,YAC9B4c,SAAU,SAAAmC,GAAM,OAAIyrB,EAAczrB,OAGnCwrB,EAAWxqC,gBAAkB,kBAAC,KAAD,CAC7B6f,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,gCACdG,KAAK,iBACLP,MAAOglB,EAAQxf,gBAAkBggB,QAAQP,EAAOzf,gBAChDigB,WAAYT,EAAQxf,gBAAkByf,EAAOzf,eAC7C0K,QAAQ,WACRsJ,OAAO,QACPtK,WAAS,IAET8gC,EAAWznC,OAAS,kBAAC,GAAD,MACpBynC,EAAW7nC,QAAU,kBAAC,GAAD,MACrB6nC,EAAWjwC,SAAW,kBAAC,KAAD,CACtBslB,GAAIC,KACJpC,MAAOjjB,KAAKG,EAAE,6BACdG,KAAK,cACL65B,WAAS,EACTjI,SAAU0c,EACVhI,KAAM,EACN33B,WAAS,EACTlP,MAAOglB,EAAQtf,aAAe8f,QAAQP,EAAOvf,aAC7C+f,WAAYT,EAAQtf,aAAeuf,EAAOvf,YAC1CwK,QAAQ,WACRsJ,OAAO,WAGT,kBAACwM,GAAA,EAAD,KACC,kBAAC/N,GAAA,EAAD,CACCf,QAASrJ,EACTzI,MAAM,YACNmE,SAAU2b,EACVhV,QAAQ,YAEPjQ,KAAKG,EAAE,4BAET,kBAAC6X,GAAA,EAAD,CACC3J,KAAK,SACLlJ,MAAM,UACNmE,SAAU2b,EACVhV,QAAQ,YACRlB,UAAWpB,EAAQyV,YAET,UAAT0sB,EACK9vC,KAAKG,EAAE,2BACPH,KAAKG,EAAE,2BACZ8kB,GACA,kBAAChN,GAAA,EAAD,CACCC,KAAM,GACNnJ,UAAWpB,EAAQ6J,0B,qzMCtM9B,IAAM1K,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC+5B,UAAU,cACNrsB,KAAM,EACNM,QAAShO,EAAM2R,QAAQ,GACvBJ,UAAW,UACRvR,EAAMyR,iBAEbhP,gBAAiB,CACbvC,QAAS,OACTwC,WAAY,SACZC,eAAgB,cAIlBgB,GAAU,SAACC,EAAOC,GACpB,GAAoB,cAAhBA,EAAOxC,KAAsB,CAC7B,IAAMlG,EAAO0I,EAAOE,QACdu/B,EAAU,GAWhB,OATAnoC,EAAK8F,SAAQ,SAACsiC,GACV,IAAMC,EAAW5/B,EAAMM,WAAU,SAAC6R,GAAD,OAAOA,EAAE1V,KAAOkjC,EAAIljC,OACnC,IAAdmjC,EACA5/B,EAAM4/B,GAAYD,EAElBD,EAAQn8B,KAAKo8B,MAIf,GAAN,oBAAW3/B,GAAU0/B,GAGzB,GAAoB,gBAAhBz/B,EAAOxC,KAAwB,CAC/B,IAAMkiC,EAAM1/B,EAAOE,QACby/B,EAAW5/B,EAAMM,WAAU,SAACm5B,GAAD,OAAOA,EAAEh9B,KAAOkjC,EAAIljC,MAErD,OAAkB,IAAdmjC,GACA5/B,EAAM4/B,GAAYD,EACX,aAAI3/B,IAEL,GAAN,oBAAWA,GAAX,CAAiB2/B,IAIzB,GAAoB,eAAhB1/B,EAAOxC,KAAuB,CAC9B,IAAMoiC,EAAQ5/B,EAAOE,QACrBjD,QAAQC,IAAI,YAAa0iC,GACzB,IAAMD,EAAW5/B,EAAMM,WAAU,SAAC6R,GAAD,OAAOA,EAAE1V,KAAOojC,KAIjD,OAHkB,IAAdD,GACA5/B,EAAMW,OAAOi/B,EAAU,GAEpB,aAAI5/B,GAGf,GAAoB,UAAhBC,EAAOxC,KACP,MAAO,IAyLAqiC,GArLF,WACT,IAAM/iC,EAAUb,KAEhB,EAAyB2E,qBAAWd,GAAS,IAA7C,mBAAOxI,EAAP,KAAauJ,EAAb,KACA,EAA8BlE,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KAEA,EAAwCF,oBAAS,GAAjD,mBAAOmjC,EAAP,KAAqBC,EAArB,KACA,EAA0CpjC,oBAAS,GAAnD,mBAAOqjC,EAAP,KAAsBC,EAAtB,KACA,EAAsCtjC,mBAAS,MAA/C,mBAAOujC,EAAP,KAAoBC,EAApB,KACA,EAAgDxjC,oBAAS,GAAzD,mBAAOq6B,EAAP,KAAyBC,EAAzB,KAEAj6B,qBAAU,WACN,wBAAC,8FACGH,GAAW,GADd,kBAG8BrF,KAAIsJ,IAAI,QAHtC,gBAGe9R,EAHf,EAGeA,KACR6R,EAAS,CAAErD,KAAM,YAAa0C,QAASlR,IACvC6N,GAAW,GALlB,kDAOOjO,aAAW,EAAD,IACViO,GAAW,GARlB,yDAAD,KAWD,IAEHG,qBAAU,WACN,IAAMgE,EAASnB,KAAW/P,sCAa1B,OAXAkR,EAAOM,GAAG,OAAO,SAACtS,GACM,WAAhBA,EAAKgR,QAAuC,WAAhBhR,EAAKgR,QACjCa,EAAS,CAAErD,KAAM,cAAe0C,QAASlR,EAAK0wC,MAG9B,WAAhB1wC,EAAKgR,SACL/C,QAAQC,IAAI,mBAAoBlO,GAChC6R,EAAS,CAAErD,KAAM,aAAc0C,QAASlR,EAAK4wC,YAI9C,WACH5+B,EAAOjP,gBAEZ,IAEH,IA4BMquC,EAAe,yCAAG,WAAOR,GAAP,2FAEVpoC,KAAI8B,OAAJ,eAAmBsmC,IAFT,OAGhBvwC,IAAMkB,QAAN,UAAiBpB,KAAKG,EAAE,2BAHR,+CAKhBV,aAAW,EAAD,IALM,OAOpBuxC,EAAe,MAPK,yDAAH,sDAUrB,OACI,kBAAC,GAAD,KACI,kBAAC,GAAD,CACI9vC,MACI6vC,GAAW,UACR/wC,KAAKG,EAAE,sCADC,YACwC4wC,EAAYzrC,WADpD,KAIfsB,KAAMihC,EACNt6B,QAxByB,WACjCu6B,GAAoB,GACpBkJ,EAAe,OAuBP3V,UAAW,kBAAM4V,EAAgBF,EAAY1jC,MAE5CrN,KAAKG,EAAE,yCAEZ,kBAAC,GAAD,CACIyG,KAAM+pC,EACNpjC,QAzCgB,WACxBqjC,GAAgB,GAChBI,EAAe,OAwCPlB,UAAS,OAAEiB,QAAF,IAAEA,OAAF,EAAEA,EAAa1jC,KAE5B,kBAACC,GAAA,EAAD,CACI1G,KAAMiqC,EACNtjC,QAvDiB,WACzBujC,GAAiB,IAuDTjxC,KAAMsI,IAEV,kBAAC,GAAD,KACI,kBAAC,GAAD,KAAQnI,KAAKG,EAAE,eACf,kBAAC,GAAD,KACI,kBAAC6X,GAAA,EAAD,CACI/H,QAAQ,YACR9K,MAAM,YACN8R,QApEQ,WACxB65B,GAAiB,KAqEA9wC,KAAKG,EAAE,2BAEZ,kBAAC6X,GAAA,EAAD,CACI/H,QAAQ,YACR9K,MAAM,UACN8R,QAnEO,WACvB25B,GAAgB,GAChBI,EAAe,QAmEEhxC,KAAKG,EAAE,uBAIpB,kBAACurB,GAAA,EAAD,CAAO3c,UAAWpB,EAAQo5B,UAAW92B,QAAQ,YACzC,kBAACy4B,GAAA,EAAD,CAAOxwB,KAAK,SACR,kBAACywB,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAWt4B,MAAM,QACZvQ,KAAKG,EAAE,0BAEZ,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACZvQ,KAAKG,EAAE,2BAEZ,kBAAC0oC,GAAA,EAAD,CAAWt4B,MAAM,UACZvQ,KAAKG,EAAE,yBAIpB,kBAAC2oC,GAAA,EAAD,KACI,oCACK3gC,EAAK4Z,KAAI,SAACwuB,GAAD,OACN,kBAAC3H,GAAA,EAAD,CAAUp4B,IAAK+/B,EAAIljC,IACf,kBAACw7B,GAAA,EAAD,CAAWt4B,MAAM,QAAQggC,EAAIjrC,YAC7B,kBAACujC,GAAA,EAAD,CAAWt4B,MAAM,UACO,KAAnBggC,EAAI/qC,YAAqB,cACH,KAAnB+qC,EAAI/qC,YAAqB,OACF,KAAnB+qC,EAAI/qC,YAAqB,QACF,KAAnB+qC,EAAI/qC,YAAqB,YACrB,QAEpB,kBAACqjC,GAAA,EAAD,CAAWt4B,MAAM,UACb,kBAAC8Q,EAAA,EAAD,CACInJ,KAAK,QACLjB,QAAS,kBA7F3B,SAACs5B,GACnBS,EAAeT,GACfK,GAAgB,GA2FmCM,CAAcX,KAE7B,kBAACjH,GAAA,EAAD,OAGJ,kBAACjoB,EAAA,EAAD,CACInJ,KAAK,QACLjB,QAAS,WACL+5B,EAAeT,GACfzI,GAAoB,KAGxB,kBAAC,KAAD,YAKfr6B,GAAW,kBAACmC,GAAA,EAAD,CAAkBL,QAAS,UChQ7DzC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCC,KAAM,CACFC,QAAS,OACTwC,WAAY,SACZsL,QAAShO,EAAM2R,QAAQ,IAG3BkD,MAAO,CACH7G,QAAShO,EAAM2R,QAAQ,GACvBzR,QAAS,OACTwC,WAAY,SACZ2c,aAAc,IAGlBkd,cAAe,CACX1xB,WAAY,QAGhB0B,OAAQ,CACJA,OAAQvM,EAAM2R,QAAQ,IAG1BxZ,MAAO,CACHA,MAAO,WAGXqlB,KAAM,CACF3S,WAAY,QAGhBs5B,MAAO,CACHt5B,WAAY,YAkDLu5B,GA7CH,WACR,IAAMzjC,EAAUb,KAEhB,OACI,yBAAKiC,UAAWpB,EAAQV,MACpB,kBAACqe,GAAA,EAAD,KACI,0EAEA,wBAAIvc,UAAWpB,EAAQxI,OAAvB,uBAEA,uBAAG4J,UAAWpB,EAAQ6c,MAAtB,yBACA,uBAAGzb,UAAWpB,EAAQ6c,MAAtB,4BAEA,wBAAIzb,UAAWpB,EAAQxI,OAAvB,oBACA,2BAAG,6DACH,4BACI,qKACA,+HACA,6BACA,4BACI,4BACI,mEACA,mCACA,4CAIZ,wBAAI4J,UAAWpB,EAAQxI,OAAvB,yBACA,mHACA,uBAAG4J,UAAWpB,EAAQwjC,OAAO,oCAAaxwC,qCAA1C,sBACA,uBAAGoO,UAAWpB,EAAQwjC,OAAO,0CAA7B,QACA,uBAAGpiC,UAAWpB,EAAQwjC,OAAO,wCAA7B,iEACA,uBAAGpiC,UAAWpB,EAAQwjC,OAAO,qCAA7B,wDAEA,wBAAIpiC,UAAWpB,EAAQxI,OAAvB,4BACA,sGACA,uBAAG4J,UAAWpB,EAAQwjC,OAAO,oCAAaxwC,qCAA1C,sBACA,uBAAGoO,UAAWpB,EAAQwjC,OAAO,0CAA7B,QACA,uBAAGpiC,UAAWpB,EAAQwjC,OAAO,wCAA7B,oEACA,uBAAGpiC,UAAWpB,EAAQwjC,OAAO,qCAA7B,2F,6BC5CDE,GA7BD,SAAC,GAA0D,IAA7CC,EAA4C,EAAvDn7B,UAAuD,IAAjCo7B,iBAAiC,SAAXx5B,EAAW,mBACtE,EAA4BtB,qBAAWpC,IAA/BvB,EAAR,EAAQA,OAAQrF,EAAhB,EAAgBA,QAEhB,OAAKqF,GAAUy+B,EAEX,oCACG9jC,GAAW,kBAAC,GAAD,MACZ,kBAAC,IAAD,CAAUiI,GAAI,CAAEyJ,SAAU,SAAUvO,MAAO,CAAEP,KAAM0H,EAAKmH,cAK1DpM,IAAWy+B,EAEX,oCACG9jC,GAAW,kBAAC,GAAD,MACZ,kBAAC,IAAD,CAAUiI,GAAI,CAAEyJ,SAAU,IAAKvO,MAAO,CAAEP,KAAM0H,EAAKmH,aAFrD,KAQF,oCACGzR,GAAW,kBAAC,GAAD,MACZ,kBAAC,IAAD,iBAAiBsK,EAAjB,CAAuB5B,UAAWm7B,OCoCzBE,GA5CA,WACb,OACE,kBAAC,IAAD,KACE,kBAAC,GAAD,KACE,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAOC,OAAK,EAAC9iC,KAAK,SAASwH,UAAWuvB,KACtC,kBAAC,GAAD,CAAO+L,OAAK,EAAC9iC,KAAK,UAAUwH,UAAWu7B,KACvC,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAOD,OAAK,EAAC9iC,KAAK,IAAIwH,UAAWiV,GAAWmmB,WAAS,IACrD,kBAAC,GAAD,CACEE,OAAK,EACL9iC,KAAK,sBACLwH,UAAWw7B,GACXJ,WAAS,IAEX,kBAAC,GAAD,CACEE,OAAK,EACL9iC,KAAK,eACLwH,UAAWmxB,GACXiK,WAAS,IAEX,kBAAC,GAAD,CAAOE,OAAK,EAAC9iC,KAAK,YAAYwH,UAAW61B,GAAUuF,WAAS,IAC5D,kBAAC,GAAD,CAAOE,OAAK,EAAC9iC,KAAK,SAASwH,UAAWm0B,GAAOiH,WAAS,IACtD,kBAAC,GAAD,CAAOE,OAAK,EAAC9iC,KAAK,aAAawH,UAAWg1B,GAAWoG,WAAS,IAC9D,kBAAC,GAAD,CACEE,OAAK,EACL9iC,KAAK,gBACLwH,UAAWg3B,GACXoE,WAAS,IAEX,kBAAC,GAAD,CAAOE,OAAK,EAAC9iC,KAAK,YAAYwH,UAAWqzB,GAAU+H,WAAS,IAC5D,kBAAC,GAAD,CAAOE,OAAK,EAAC9iC,KAAK,UAAUwH,UAAW+4B,GAAQqC,WAAS,IACxD,kBAAC,GAAD,CAAOE,OAAK,EAAC9iC,KAAK,QAAQwH,UAAWu6B,GAAMa,WAAS,IACpD,kBAAC,GAAD,CAAOE,OAAK,EAAC9iC,KAAK,OAAOwH,UAAWi7B,GAAKG,WAAS,OAIxD,kBAAC,IAAD,CAAgBK,UAAW,S,uCCdpBC,GAvCH,WACV,MAA4BrkC,qBAA5B,mBAAOskC,EAAP,KAAeC,EAAf,KAEM/kC,EAAQglC,aACZ,CACEvzB,gBAAiB,CACf,uBAAwB,CACtBvO,MAAO,MACPC,OAAQ,OAEV,6BAA8B,CAC5B4O,UAAW,mCACXxE,gBAAiB,YAGrBgQ,QAAS,CACP9U,QAAS,CAAEuV,KAAM,aAGrB8mB,GAaF,OAVAjkC,qBAAU,WACR,IAAMokC,EAAalgC,aAAaC,QAAQ,cAIlB,SAFpBigC,EAAWrZ,UAAU,EAAG,GAAKqZ,EAAWrZ,UAAU,EAAG,IAGrDmZ,EAAUG,WAEX,IAGD,kBAACC,GAAA,EAAD,CAAenlC,MAAOA,GACpB,kBAAC,GAAD,QCnCNolC,IAASC,OACR,kBAAClN,EAAA,EAAD,KACC,kBAAC,GAAD,OAEDzkB,SAAS8S,eAAe,U,+BCVzB,+BAGMnrB,EAAMiqC,IAAM5rB,OAAO,CACxB6rB,QAAS3xC,cACT4xC,iBAAiB,IAGHnqC,Q","file":"static/js/main.e0ec7b63.chunk.js","sourcesContent":["import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\n\nconst toastError = err => {\n\tconst errorMsg = err.response?.data?.message || err.response.data.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t}\n\t} else {\n\t\ttoast.error(\"An error occurred!\");\n\t}\n};\n\nexport default toastError;\n","function getConfig(name, defaultValue=null) {\n    // If inside a docker container, use window.ENV\n    if( window.ENV !== undefined ) {\n        return window.ENV[name] || defaultValue;\n    }\n\n    return process.env[name] || defaultValue;\n}\n\nexport function getBackendUrl() {\n    return getConfig('REACT_APP_BACKEND_URL');\n}\n\nexport function getHoursCloseTicketsAuto() {\n    return getConfig('REACT_APP_HOURS_CLOSE_TICKETS_AUTO');\n}","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usuário criado com sucesso! Faça seu login!!!.\",\n          fail: \"Erro ao criar usuário. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"Já tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"Não tem um conta? Cadastre-se!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets hoje: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"Em Atendimento\"\n          },\n          waiting: {\n            title: \"Aguardando\"\n          },\n          closed: {\n            title: \"Finalizado\"\n          }\n        }\n      },\n      connections: {\n        title: \"Conexões\",\n        toasts: {\n          deleted: \"Conexão com o WhatsApp excluída com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Você precisará ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sessão do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no botão 'QR CODE' e leia o QR Code com o seu celular para iniciar a sessão\",\n          },\n          connected: {\n            title: \"Conexão estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexão com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e o WhatsApp esteja aberto, ou clique no botão 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"Última atualização\",\n          default: \"Padrão\",\n          actions: \"Ações\",\n          session: \"Sessão\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\n        form: {\n          name: \"Nome\",\n          default: \"Padrão\",\n          farewellMessage: \"Mensagem de despedida\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sessão\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excluído com sucesso!\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          importTitlte: \"Importar contatos\",\n          deleteMessage:\n            \"Tem certeza que deseja deletar este contato? Todos os tickets relacionados serão perdidos.\",\n          importMessage: \"Deseja importas todos os contatos do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Ações\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informações adicionais\",\n          name: \"Nome\",\n          number: \"Número do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informação\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Adicionar Resposta Rápida\",\n          edit: \"Editar Resposta Rápida\",\n        },\n        form: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rápida\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Resposta Rápida salva com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudação\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      botModal: {\n        title: {\n          add: \"Adicionar comando\",\n          edit: \"Editar comando\",\n        },\n        form: {\n          commandBot: \"Comando\",\n          descriptionBot: \"Descrição\",\n          commandType: \"Tipo\",\n          showMessage: \"Mensagem\",\n          userId: \"Atendente\",\n          queueId: \"Setor\",\n        },\n        messages: {\n          saved: \"Comando salvo com sucesso!\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usuário\",\n          edit: \"Editar usuário\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexão Padrão\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuário salvo com sucesso.\",\n      },\n      companyModal: {\n        title: {\n          add: \"Adicionar empresa\",\n          edit: \"Editar empresa\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          passwordDefault: \"Senha\",\n          numberAttendants: \"Usuários\",\n          numberConections: \"Conexões\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Empresa salvo com sucesso.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um ticket para começar a conversar.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Novo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"O ticket que você estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Inbox\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar tickets e mensagens\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Digite para buscar usuários\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldConnectionLabel: \"Transferir para conexão\",\n        fieldQueuePlaceholder: \"Selecione uma fila\",\n        fieldConnectionPlaceholder: \"Selecione uma conexão\",\n        noOptions: \"Nenhum usuário encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum ticket encontrado com esse status ou termo pesquisado\",\n        connectionTitle: \"Conexão que está sendo utilizada atualmente.\",\n        buttons: {\n          accept: \"Aceitar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Ticket\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexões\",\n          tickets: \"Tickets\",\n          contacts: \"Contatos\",\n          quickAnswers: \"Respostas Rápidas\",\n          queues: \"Setores\",\n          bots: \"Chatbot\",\n          administration: \"Administração\",\n          api: \"Uso da API\",\n          users: \"Usuários\",\n          settings: \"Configurações\",\n          companies: \"Empresas\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificação.\",\n      },\n      queues: {\n        title: \"Filas\",\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudação\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! Os tickets dessa fila continuarão existindo, mas não terão mais nenhuma fila atribuída.\",\n        },\n      },\n      bots: {\n        title: \"Chatbot\",\n        table: {\n          commandBot: \"Comando\",\n          commandType: \"Tipo\",\n          showMessage: \"Mensagem de saudação\",\n          userId: \"Atendente\",\n          queueId: \"Setor\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar opção\",\n          hierarchy: \"Estrutura do Bot\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida!\",\n        },\n        messages: {\n          saved: \"Comando salvo com sucesso!\",\n          deleted: \"Comando deletado com sucesso!\",\n        },\n        hierarchy: {\n          title: \"Estrutura do Bot\"\n        }\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      quickAnswers: {\n        title: \"Respostas Rápidas\",\n        table: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rápida\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar Resposta Rápida\",\n        },\n        toasts: {\n          deleted: \"Resposta Rápida excluída com sucesso.\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle:\n            \"Você tem certeza que quer excluir esta Resposta Rápida: \",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n      },\n      users: {\n        title: \"Usuários\",\n        table: {\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexão Padrão\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar usuário\",\n        },\n        toasts: {\n          deleted: \"Usuário excluído com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usuário serão perdidos. Os tickets abertos deste usuário serão movidos para a fila.\",\n        },\n      },\n      compaies: {\n        title: \"Empresas\",\n        table: {\n          name: \"Nome\",\n          email: \"Email\",\n          numberAttendants: \"Atendentes\",\n          numberConections: \"Conexões\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar empresa\",\n        },\n        toasts: {\n          deleted: \"Empresa excluído com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados da empresa serão perdidos. Os tickets abertos deste usuário serão movidos para a fila.\",\n        },\n      },\n      settings: {\n        success: \"Configurações salvas com sucesso.\",\n        title: \"Configurações\",\n        settings: {\n          userCreation: {\n            name: \"Criação de usuário\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Atribuído à:\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem ou tecle ''/'' para utilizar as respostas rápidas cadastrada\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informações\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"Deletar o ticket do contato\",\n          message:\n            \"Atenção! Todas as mensagens relacionadas ao ticket serão perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ação não pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padrão.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões\",\n        ERR_WAPP_INVALID_CONTACT: \"Este não é um número de Whatsapp válido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticação. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.\",\n        ERR_DELETE_WAPP_MSG: \"Não foi possível excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Já existe um tíquete aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sessão expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criação do usuário foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Você não tem permissão para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Já existe um contato com este número.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configuração encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tíquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usuário encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tíquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor já está em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudação é obrigatório quando há mais de uma fila.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n  en: {\n    translations: {\n      signup: {\n        title: \"Sign up\",\n        toasts: {\n          success: \"User created successfully! Please login!\",\n          fail: \"Error creating user. Check the reported data.\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Register\",\n          login: \"Already have an account? Log in!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Enter\",\n          register: \"Don't have an account? Register!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login successfully!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets today: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"In Service\"\n          },\n          waiting: {\n            title: \"Waiting\"\n          },\n          closed: {\n            title: \"Closed\"\n          }\n        }\n      },\n      connections: {\n        title: \"Connections\",\n        toasts: {\n          deleted: \"WhatsApp connection deleted sucessfully!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage: \"Are you sure? It cannot be reverted.\",\n          disconnectTitle: \"Disconnect\",\n          disconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n        },\n        buttons: {\n          add: \"Add WhatsApp\",\n          disconnect: \"Disconnect\",\n          tryAgain: \"Try Again\",\n          qrcode: \"QR CODE\",\n          newQr: \"New QR CODE\",\n          connecting: \"Connectiing\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Failed to start WhatsApp session\",\n            content:\n              \"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n          },\n          qrcode: {\n            title: \"Waiting for QR Code read\",\n            content:\n              \"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n          },\n          connected: {\n            title: \"Connection established\",\n          },\n          timeout: {\n            title: \"Connection with cell phone has been lost\",\n            content:\n              \"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n          },\n        },\n        table: {\n          name: \"Name\",\n          status: \"Status\",\n          lastUpdate: \"Last Update\",\n          default: \"Default\",\n          actions: \"Actions\",\n          session: \"Session\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Add WhatsApp\",\n          edit: \"Edit WhatsApp\",\n        },\n        form: {\n          name: \"Name\",\n          default: \"Default\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"WhatsApp saved successfully.\",\n      },\n      qrCode: {\n        message: \"Read QrCode to start the session\",\n      },\n      contacts: {\n        title: \"Contacts\",\n        toasts: {\n          deleted: \"Contact deleted sucessfully!\",\n        },\n        searchPlaceholder: \"Search ...\",\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          importTitlte: \"Import contacts\",\n          deleteMessage:\n            \"Are you sure you want to delete this contact? All related tickets will be lost.\",\n          importMessage: \"Do you want to import all contacts from the phone?\",\n        },\n        buttons: {\n          import: \"Import Contacts\",\n          add: \"Add Contact\",\n        },\n        table: {\n          name: \"Name\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Actions\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Add contact\",\n          edit: \"Edit contact\",\n        },\n        form: {\n          mainInfo: \"Contact details\",\n          extraInfo: \"Additional information\",\n          name: \"Name\",\n          number: \"Whatsapp number\",\n          email: \"Email\",\n          extraName: \"Field name\",\n          extraValue: \"Value\",\n        },\n        buttons: {\n          addExtraInfo: \"Add information\",\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Contact saved successfully.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Add Quick Reply\",\n          edit: \"Edit Quick Answer\",\n        },\n        form: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Quick Reply saved successfully.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Add queue\",\n          edit: \"Edit queue\",\n        },\n        form: {\n          name: \"Name\",\n          color: \"Color\",\n          greetingMessage: \"Greeting Message\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      companyModal: {\n        title: {\n          add: \"Add company\",\n          edit: \"Edit company\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          passwordDefault: \"Password\",\n          numberAttendants: \"Users\",\n          numberConections: \"Conections\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Salve\",\n          cancel: \"Cancel\",\n        },\n        success: \"Save sucess.\",\n      },\n      userModal: {\n        title: {\n          add: \"Add user\",\n          edit: \"Edit user\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n          profile: \"Profile\",\n          whatsapp: \"Default Connection\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"User saved successfully.\",\n      },\n      chat: {\n        noTicketMessage: \"Select a ticket to start chatting.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"New\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Queues\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"The ticket you were on has been deleted.\",\n        },\n        notification: {\n          message: \"Message from\",\n        },\n        tabs: {\n          open: { title: \"Inbox\" },\n          closed: { title: \"Resolved\" },\n          search: { title: \"Search\" },\n        },\n        search: {\n          placeholder: \"Search tickets and messages.\",\n        },\n        buttons: {\n          showAll: \"All\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transfer Ticket\",\n        fieldLabel: \"Type to search for users\",\n        fieldQueueLabel: \"Transfer to queue\",\n        fieldConnectionLabel: \"Transfer to connection\",\n        fieldQueuePlaceholder: \"Please select a queue\",\n        fieldConnectionPlaceholder: \"Please select a connection\",\n        noOptions: \"No user found with this name\",\n        buttons: {\n          ok: \"Transfer\",\n          cancel: \"Cancel\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Queue\",\n        assignedHeader: \"Working on\",\n        noTicketsTitle: \"Nothing here!\",\n        noTicketsMessage: \"No tickets found with this status or search term.\",\n        connectionTitle: \"Connection that is currently being used.\",\n        buttons: {\n          accept: \"Accept\",\n        },\n      },\n      newTicketModal: {\n        title: \"Create Ticket\",\n        fieldLabel: \"Type to search for a contact\",\n        add: \"Add\",\n        buttons: {\n          ok: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Connections\",\n          tickets: \"Tickets\",\n          contacts: \"Contacts\",\n          quickAnswers: \"Quick Answers\",\n          queues: \"Queues\",\n          administration: \"Administration\",\n          users: \"Users\",\n          settings: \"Settings\",\n          companies: \"Companies\",\n        },\n        appBar: {\n          user: {\n            profile: \"Profile\",\n            logout: \"Logout\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"No notifications.\",\n      },\n      queues: {\n        title: \"Queues\",\n        table: {\n          name: \"Name\",\n          color: \"Color\",\n          greeting: \"Greeting message\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add queue\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Queues\",\n      },\n      quickAnswers: {\n        title: \"Quick Answers\",\n        table: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add Quick Reply\",\n        },\n        toasts: {\n          deleted: \"Quick Reply deleted successfully.\",\n        },\n        searchPlaceholder: \"Search...\",\n        confirmationModal: {\n          deleteTitle: \"Are you sure you want to delete this Quick Reply: \",\n          deleteMessage: \"This action cannot be undone.\",\n        },\n      },\n      users: {\n        title: \"Users\",\n        table: {\n          name: \"Name\",\n          email: \"Email\",\n          profile: \"Profile\",\n          whatsapp: \"Default Connection\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add user\",\n        },\n        toasts: {\n          deleted: \"User deleted sucessfully.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"All user data will be lost. Users' open tickets will be moved to queue.\",\n        },\n      },\n      compaies: {\n        title: \"Companies\",\n        table: {\n          name: \"Name\",\n          email: \"Email\",\n          numberAttendants: \"Attendants\",\n          numberConections: \"Conections\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add company\",\n        },\n        toasts: {\n          deleted: \"Company deleted.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Remove\",\n          deleteMessage:\n            \"All datas of company will be lost. The tickets open this company will be lost.\",\n        },\n      },\n      settings: {\n        success: \"Settings saved successfully.\",\n        title: \"Settings\",\n        settings: {\n          userCreation: {\n            name: \"User creation\",\n            options: {\n              enabled: \"Enabled\",\n              disabled: \"Disabled\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Assigned to:\",\n          buttons: {\n            return: \"Return\",\n            resolve: \"Resolve\",\n            reopen: \"Reopen\",\n            accept: \"Accept\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Type a message or press ''/'' to use the registered quick responses\",\n        placeholderClosed: \"Reopen or accept this ticket to send a message.\",\n        signMessage: \"Sign\",\n      },\n      contactDrawer: {\n        header: \"Contact details\",\n        buttons: {\n          edit: \"Edit contact\",\n        },\n        extraInfo: \"Other information\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Delete\",\n        transfer: \"Transfer\",\n        confirmationModal: {\n          title: \"Delete ticket #\",\n          titleFrom: \"from contact \",\n          message: \"Attention! All ticket's related messages will be lost.\",\n        },\n        buttons: {\n          delete: \"Delete\",\n          cancel: \"Cancel\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancel\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Delete\",\n        reply: \"Reply\",\n        confirmationModal: {\n          title: \"Delete message?\",\n          message: \"This action cannot be reverted.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"There must be at lest one default WhatsApp connection.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No default WhatsApp found. Check connections page.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"This WhatsApp session is not initialized. Check connections page.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Could not check WhatsApp contact. Check connections page.\",\n        ERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Could not download media from WhatsApp. Check connections page.\",\n        ERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error sending WhatsApp message. Check connections page.\",\n        ERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET:\n          \"There's already an open ticket for this contact.\",\n        ERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n        ERR_USER_CREATION_DISABLED:\n          \"User creation was disabled by administrator.\",\n        ERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n        ERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n        ERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n        ERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n        ERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n        ERR_NO_USER_FOUND: \"No user found with this ID.\",\n        ERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n        ERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n        ERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error fetching the message in WhtasApp, maybe it is too old.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"This color is already in use, pick another one.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"Greeting message is required if there is more than one queue.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n  es: {\n    translations: {\n      signup: {\n        title: \"Registro\",\n        toasts: {\n          success:\n            \"¡El usuario ha sido creado satisfactoriamente! ¡Ahora inicia sesión!\",\n          fail: \"Error creando el usuario. Verifica la data reportada.\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrónico\",\n          password: \"Contraseña\",\n        },\n        buttons: {\n          submit: \"Regístrate\",\n          login: \"¿Ya tienes una cuenta? ¡Inicia sesión!\",\n        },\n      },\n      login: {\n        title: \"Inicio de Sesión\",\n        form: {\n          email: \"Correo Electrónico\",\n          password: \"Contraseña\",\n        },\n        buttons: {\n          submit: \"Ingresa\",\n          register: \"¿No tienes cuenta? ¡Regístrate!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"¡Inicio de sesión exitoso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets hoy: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"En servicio\"\n          },\n          waiting: {\n            title: \"Esperando\"\n          },\n          closed: {\n            title: \"Finalizado\"\n          }\n        }\n      },\n      connections: {\n        title: \"Conexiones\",\n        toasts: {\n          deleted:\n            \"¡La conexión de WhatsApp ha sido borrada satisfactoriamente!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage: \"¿Estás seguro? Este proceso no puede ser revertido.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage: \"Estás seguro? Deberá volver a leer el código QR\",\n        },\n        buttons: {\n          add: \"Agrega WhatsApp\",\n          disconnect: \"Desconectar\",\n          tryAgain: \"Inténtalo de nuevo\",\n          qrcode: \"QR CODE\",\n          newQr: \"Nuevo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"No se pudo iniciar la sesión de WhatsApp\",\n            content:\n              \"Asegúrese de que su teléfono celular esté conectado a Internet y vuelva a intentarlo o solicite un nuevo código QR\",\n          },\n          qrcode: {\n            title: \"Esperando la lectura del código QR\",\n            content:\n              \"Haga clic en el botón 'CÓDIGO QR' y lea el Código QR con su teléfono celular para iniciar la sesión\",\n          },\n          connected: {\n            title: \"Conexión establecida\",\n          },\n          timeout: {\n            title: \"Se perdió la conexión con el teléfono celular\",\n            content:\n              \"Asegúrese de que su teléfono celular esté conectado a Internet y que WhatsApp esté abierto, o haga clic en el botón 'Desconectar' para obtener un nuevo código QR\",\n          },\n        },\n        table: {\n          name: \"Nombre\",\n          status: \"Estado\",\n          lastUpdate: \"Última Actualización\",\n          default: \"Por Defecto\",\n          actions: \"Acciones\",\n          session: \"Sesión\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Agrega WhatsApp\",\n          edit: \"Edita WhatsApp\",\n        },\n        form: {\n          name: \"Nombre\",\n          default: \"Por Defecto\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp guardado satisfactoriamente.\",\n      },\n      qrCode: {\n        message: \"Lée el código QR para empezar la sesión.\",\n      },\n      contacts: {\n        title: \"Contactos\",\n        toasts: {\n          deleted: \"¡Contacto borrado satisfactoriamente!\",\n        },\n        searchPlaceholder: \"Buscar...\",\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          importTitlte: \"Importar contactos\",\n          deleteMessage:\n            \"¿Estás seguro que deseas borrar este contacto? Todos los tickets relacionados se perderán.\",\n          importMessage:\n            \"¿Quieres importar todos los contactos desde tu teléfono?\",\n        },\n        buttons: {\n          import: \"Importar Contactos\",\n          add: \"Agregar Contacto\",\n        },\n        table: {\n          name: \"Nombre\",\n          whatsapp: \"WhatsApp\",\n          email: \"Correo Electrónico\",\n          actions: \"Acciones\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Agregar contacto\",\n          edit: \"Editar contacto\",\n        },\n        form: {\n          mainInfo: \"Detalles del contacto\",\n          extraInfo: \"Información adicional\",\n          name: \"Nombre\",\n          number: \"Número de Whatsapp\",\n          email: \"Correo Electrónico\",\n          extraName: \"Nombre del Campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Agregar información\",\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contacto guardado satisfactoriamente.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Agregar respuesta rápida\",\n          edit: \"Editar respuesta rápida\",\n        },\n        form: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rápida\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Respuesta rápida guardada correctamente.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Agregar cola\",\n          edit: \"Editar cola\",\n        },\n        form: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greetingMessage: \"Mensaje de saludo\",\n        },\n        buttons: {\n          okAdd: \"Añadir\",\n          okEdit: \"Ahorrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      companyModal: {\n        title: {\n          add: \"Add company\",\n          edit: \"Edit company\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          passwordDefault: \"Password\",\n          numberAttendants: \"Users\",\n          numberConections: \"Conections\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Salve\",\n          cancel: \"Cancel\",\n        },\n        success: \"Save sucess.\",\n      },\n      userModal: {\n        title: {\n          add: \"Agregar usuario\",\n          edit: \"Editar usuario\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrónico\",\n          password: \"Contraseña\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexión estándar\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuario guardado satisfactoriamente.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Nuevo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Linhas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"El ticket en el que estabas ha sido borrado.\",\n        },\n        notification: {\n          message: \"Mensaje de\",\n        },\n        tabs: {\n          open: { title: \"Bandeja\" },\n          closed: { title: \"Resueltos\" },\n          search: { title: \"Buscar\" },\n        },\n        search: {\n          placeholder: \"Buscar tickets y mensajes.\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Escriba para buscar usuarios\",\n        fieldQueueLabel: \"Transferir a la cola\",\n        fieldConnectionLabel: \"Transferir to conexión\",\n        fieldQueuePlaceholder: \"Seleccione una cola\",\n        fieldConnectionPlaceholder: \"Seleccione una conexión\",\n        noOptions: \"No se encontraron usuarios con ese nombre\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Cola\",\n        assignedHeader: \"Trabajando en\",\n        noTicketsTitle: \"¡Nada acá!\",\n        connectionTitle: \"Conexión que se está utilizando actualmente.\",\n        noTicketsMessage:\n          \"No se encontraron tickets con este estado o término de búsqueda\",\n        buttons: {\n          accept: \"Acceptar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Crear Ticket\",\n        fieldLabel: \"Escribe para buscar un contacto\",\n        add: \"Añadir\",\n        buttons: {\n          ok: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexiones\",\n          tickets: \"Tickets\",\n          contacts: \"Contactos\",\n          quickAnswers: \"Respuestas rápidas\",\n          queues: \"Linhas\",\n          administration: \"Administración\",\n          users: \"Usuarios\",\n          settings: \"Configuración\",\n          companies: \"Compañías\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Cerrar Sesión\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Sin notificaciones.\",\n      },\n      queues: {\n        title: \"Linhas\",\n        table: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greeting: \"Mensaje de saludo\",\n          actions: \"Comportamiento\",\n        },\n        buttons: {\n          add: \"Agregar cola\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Eliminar\",\n          deleteMessage:\n            \"¿Estás seguro? ¡Esta acción no se puede revertir! Los tickets en esa cola seguirán existiendo, pero ya no tendrán ninguna cola asignada.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Linhas\",\n      },\n      quickAnswers: {\n        title: \"Respuestas rápidas\",\n        table: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rápida\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar respuesta rápida\",\n        },\n        toasts: {\n          deleted: \"Respuesta rápida eliminada correctamente\",\n        },\n        searchPlaceholder: \"Buscar ...\",\n        confirmationModal: {\n          deleteTitle:\n            \"¿Está seguro de que desea eliminar esta respuesta rápida?\",\n          deleteMessage: \"Esta acción no se puede deshacer.\",\n        },\n      },\n      users: {\n        title: \"Usuarios\",\n        table: {\n          name: \"Nombre\",\n          email: \"Correo Electrónico\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexión estándar\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar usuario\",\n        },\n        toasts: {\n          deleted: \"Usuario borrado satisfactoriamente.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage:\n            \"Toda la información del usuario se perderá. Los tickets abiertos de los usuarios se moverán a la cola.\",\n        },\n      },\n      compaies: {\n        title: \"Companies\",\n        table: {\n          name: \"Name\",\n          email: \"Email\",\n          numberAttendants: \"Attendants\",\n          numberConections: \"Conections\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add company\",\n        },\n        toasts: {\n          deleted: \"Company deleted.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Remove\",\n          deleteMessage:\n            \"All datas of company will be lost. The tickets open this company will be lost.\",\n        },\n      },\n      settings: {\n        success: \"Configuración guardada satisfactoriamente.\",\n        title: \"Configuración\",\n        settings: {\n          userCreation: {\n            name: \"Creación de usuarios\",\n            options: {\n              enabled: \"Habilitado\",\n              disabled: \"Deshabilitado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Asignado a:\",\n          buttons: {\n            return: \"Devolver\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceptar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Escriba un mensaje o presione '' / '' para usar las respuestas rápidas registradas\",\n        placeholderClosed:\n          \"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\n        signMessage: \"Firmar\",\n      },\n      contactDrawer: {\n        header: \"Detalles del contacto\",\n        buttons: {\n          edit: \"Editar contacto\",\n        },\n        extraInfo: \"Otra información\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Borrar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"¿Borrar ticket #\",\n          titleFrom: \"del contacto \",\n          message:\n            \"¡Atención! Todos los mensajes Todos los mensajes relacionados con el ticket se perderán.\",\n        },\n        buttons: {\n          delete: \"Borrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Borrar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"¿Borrar mensaje?\",\n          message: \"Esta acción no puede ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"Debe haber al menos una conexión de WhatsApp predeterminada.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No se encontró WhatsApp predeterminado. Verifique la página de conexiones.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesión de WhatsApp no ​​está inicializada. Verifique la página de conexiones.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No se pudo verificar el contacto de WhatsApp. Verifique la página de conexiones.\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no es un número de whatsapp válido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No se pudieron descargar los medios de WhatsApp. Verifique la página de conexiones.\",\n        ERR_INVALID_CREDENTIALS: \"Error de autenticación. Vuelva a intentarlo.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error al enviar el mensaje de WhatsApp. Verifique la página de conexiones.\",\n        ERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n        ERR_SESSION_EXPIRED: \"Sesión caducada. Inicie sesión.\",\n        ERR_USER_CREATION_DISABLED:\n          \"La creación de usuarios fue deshabilitada por el administrador.\",\n        ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este número.\",\n        ERR_NO_SETTING_FOUND:\n          \"No se encontró ninguna configuración con este ID.\",\n        ERR_NO_CONTACT_FOUND: \"No se encontró ningún contacto con este ID.\",\n        ERR_NO_TICKET_FOUND: \"No se encontró ningún ticket con este ID.\",\n        ERR_NO_USER_FOUND: \"No se encontró ningún usuario con este ID.\",\n        ERR_NO_WAPP_FOUND: \"No se encontró WhatsApp con este ID.\",\n        ERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\n        ERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Este color ya está en uso, elija otro.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"El mensaje de saludo es obligatorio cuando hay más de una cola.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"en\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/wa-background.adbccee0.png\";","module.exports = __webpack_public_path__ + \"static/media/wave.6d252a00.png\";","module.exports = __webpack_public_path__ + \"static/media/bg.374a04af.svg\";","module.exports = __webpack_public_path__ + \"static/media/avatar.f620e5fd.svg\";","import React, { useReducer, useEffect, useState } from \"react\";\nimport Fluxograma from \"@dabeng/react-orgchart\";\nimport MyNode from \"./my-node\";\nimport { i18n } from \"../../translate/i18n\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    }\n}));\n\nlet dataset = { id: 1170, title: \"CHATBOT\", name: \"Início\" }; \n\nconst MenuModal = ({ open, onClose, data }) => {\n\n    const [loading, setLoading] = useState(false);\n    const classes = useStyles();\n    const handleClose = () => {\n        onClose();\n    };\n    useEffect(() => {\n        (async () => {\n            setLoading(true);\n            try {\n                //const { data } = await api.get(\"/bot\");\n                console.log('DATA >> ', data);\n                dataset = { id: 1170, title: \"CHATBOT\", name: \"Início\" };\n                dataset.children = [];\n                data.forEach(element => {\n                    const descricao = element.commandType === 1 ? { msg: element.descriptionBot, type: 'Informativo' } :\n                        element.commandType === 2 ? { msg: element.descriptionBot, type: 'Menu' } :\n                            element.commandType === 3 ? { msg: element.queue.name, type: 'Setor' } :\n                                element.commandType === 4 ? { msg: element.user.name, type: 'Atendente' } : { msg: 'Erro', type: 'Erro' };\n\n                    let qtComandos = element.commandBot.split('.').length;\n                    let code = \"\";\n                    if (qtComandos === 1) {\n                        code += \"dataset.children[element.commandBot] = { id: element.commandBot, title: element.commandBot + '-' + descricao.type, name: descricao.msg };\\n\";\n                    } else {\n                        let path = \"dataset\";\n                        for (let index = 0; index < qtComandos - 1; index++) {\n                            path += `.children[${element.commandBot.split('.')[index]}]`;\n                        }\n                        path += \".children\";\n                        code += `if (!${path})\\n`;\n                        code += `${path} =[];\\n`;\n                        const obj = \"{ id: parseInt(element.commandBot.split('.')[qtComandos - 1]), title: element.commandBot.split('.')[qtComandos - 1] + '-' + descricao.type, name: descricao.msg }\";\n                        code += `${path}[parseInt(element.commandBot.split('.')[qtComandos - 1])] = ${obj};\\n`;\n                    }\n                    eval(code);\n                });\n                setLoading(false);\n            } catch (err) {\n                toastError(err);\n                setLoading(false);\n            }\n        })();\n    }, [data]);\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"xl\"\n                fullWidth\n                scroll=\"paper\"\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {`${i18n.t(\"bots.hierarchy.title\")}`}\n                </DialogTitle>\n                <>\n                    <Fluxograma datasource={dataset} chartClass=\"myChart\" NodeTemplate={MyNode} />;\n                </>\n                {loading && <TableRowSkeleton columns={3} />}\n            </Dialog>\n        </div>\n    );\n};\n\n\n\nexport default MenuModal;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./my-node.css\";\n\nconst propTypes = {\n  nodeData: PropTypes.object.isRequired\n};\n\nconst MyNode = ({ nodeData }) => {\n  const selectNode = () => {\n    alert(\"Hi All. I'm \" + nodeData.name + \". I'm a \" + nodeData.title + \".\");\n  };\n\n  return (\n    <div>\n      <div className=\"position\">{nodeData.title}</div>\n      <div className=\"fullname\">{nodeData.name}</div>\n    </div>\n  );\n};\n\nMyNode.propTypes = propTypes;\n\nexport default MyNode;\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import openSocket from \"socket.io-client\";\nimport { getBackendUrl } from \"../config\";\n\nfunction connectToSocket() {\n    return openSocket(getBackendUrl());\n}\n\nexport default connectToSocket;","import { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"../../services/socket-io\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\nimport jwt_decode from \"jwt-decode\";\n\nconst reducer = (state, action) => {\n\tif (action.type === \"LOAD_WHATSAPPS\") {\n\t\tconst whatsApps = action.payload;\n\n\t\treturn [...whatsApps];\n\t}\n\n\tif (action.type === \"UPDATE_WHATSAPPS\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex] = whatsApp;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [whatsApp, ...state];\n\t\t}\n\t}\n\n\tif (action.type === \"UPDATE_SESSION\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex].status = whatsApp.status;\n\t\t\tstate[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n\t\t\tstate[whatsAppIndex].qrcode = whatsApp.qrcode;\n\t\t\tstate[whatsAppIndex].retries = whatsApp.retries;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [...state];\n\t\t}\n\t}\n\n\tif (action.type === \"DELETE_WHATSAPPS\") {\n\t\tconst whatsAppId = action.payload;\n\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsAppId);\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate.splice(whatsAppIndex, 1);\n\t\t}\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET\") {\n\t\treturn [];\n\t}\n};\n\nconst useWhatsApps = () => {\n\tconst [whatsApps, dispatch] = useReducer(reducer, []);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/whatsapp/\");\n\t\t\t\tdispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n\t\t\t\tsetLoading(false);\n\t\t\t} catch (err) {\n\t\t\t\tsetLoading(false);\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\n\t\tconst token = localStorage.getItem(\"token\");\n\t\tconst userJWT = jwt_decode(token);\n\n\t\tsocket.on(`whatsapp-${userJWT.companyId}`, data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsapp\", data => {\n\t\t\tif (data.action === \"delete\") {\n\t\t\t\tdispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\treturn { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useAuth = () => {\n\tconst history = useHistory();\n\tconst [isAuth, setIsAuth] = useState(false);\n\tconst [loading, setLoading] = useState(true);\n\tconst [user, setUser] = useState({});\n\n\tapi.interceptors.request.use(\n\t\tconfig => {\n\t\t\tconst token = localStorage.getItem(\"token\");\n\t\t\tif (token) {\n\t\t\t\tconfig.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n\t\t\t\tsetIsAuth(true);\n\t\t\t}\n\t\t\treturn config;\n\t\t},\n\t\terror => {\n\t\t\tPromise.reject(error);\n\t\t}\n\t);\n\n\tapi.interceptors.response.use(\n\t\tresponse => {\n\t\t\treturn response;\n\t\t},\n\t\tasync error => {\n\t\t\tconst originalRequest = error.config;\n\t\t\tif (error?.response?.status === 403 && !originalRequest._retry) {\n\t\t\t\toriginalRequest._retry = true;\n\n\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\n\t\t\t\tif (data) {\n\t\t\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\t\t}\n\t\t\t\treturn api(originalRequest);\n\t\t\t}\n\t\t\tif (error?.response?.status === 401) {\n\t\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\t\tapi.defaults.headers.Authorization = undefined;\n\t\t\t\tsetIsAuth(false);\n\t\t\t}\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t);\n\n\tuseEffect(() => {\n\t\tconst token = localStorage.getItem(\"token\");\n\t\t(async () => {\n\t\t\tif (token) {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\t\t\tsetIsAuth(true);\n\t\t\t\t\tsetUser(data.user);\n\t\t\t\t} catch (err) {\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t})();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"user\", data => {\n\t\t\tif (data.action === \"update\" && data.user.id === user.id) {\n\t\t\t\tsetUser(data.user);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user]);\n\n\tconst handleLogin = async userData => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst { data } = await api.post(\"/auth/login\", userData);\n\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\n\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\tsetUser(data.user);\n\t\t\tsetIsAuth(true);\n\t\t\ttoast.success(i18n.t(\"auth.toasts.success\"));\n\t\t\thistory.push(\"/tickets\");\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleLogout = async () => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait api.delete(\"/auth/logout\");\n\t\t\tsetIsAuth(false);\n\t\t\tsetUser({});\n\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\tapi.defaults.headers.Authorization = undefined;\n\t\t\tsetLoading(false);\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn { isAuth, user, loading, handleLogin, handleLogout };\n};\n\nexport default useAuth;\n","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"ticket-options:transferWhatsapp\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { Badge } from \"@material-ui/core\";\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport BusinessIcon from '@material-ui/icons/Business';\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\nimport ManageBotsOutlinedIcon from \"@material-ui/icons/InsertCommentOutlined\";\nimport QuestionAnswerOutlinedIcon from \"@material-ui/icons/QuestionAnswerOutlined\";\nimport CodeIcon from \"@material-ui/icons/Code\";\n\nimport { i18n } from \"../translate/i18n\";\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport { Can } from \"../components/Can\";\n\nfunction ListItemLink(props) {\n  const { icon, primary, to, className } = props;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef((itemProps, ref) => (\n        <RouterLink to={to} ref={ref} {...itemProps} />\n      )),\n    [to]\n  );\n\n  return (\n    <li>\n      <ListItem button component={renderLink} className={className}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    </li>\n  );\n}\n\nconst MainListItems = (props) => {\n  const { drawerClose } = props;\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const { user } = useContext(AuthContext);\n  const [connectionWarning, setConnectionWarning] = useState(false);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (whatsApps.length > 0) {\n        const offlineWhats = whatsApps.filter((whats) => {\n          return (\n            whats.status === \"qrcode\" ||\n            whats.status === \"PAIRING\" ||\n            whats.status === \"DISCONNECTED\" ||\n            whats.status === \"TIMEOUT\" ||\n            whats.status === \"OPENING\"\n          );\n        });\n        if (offlineWhats.length > 0) {\n          setConnectionWarning(true);\n        } else {\n          setConnectionWarning(false);\n        }\n      }\n    }, 2000);\n    return () => clearTimeout(delayDebounceFn);\n  }, [whatsApps]);\n\n  return (\n    <div onClick={drawerClose}>\n      <ListItemLink\n        to=\"/\"\n        primary=\"Dashboard\"\n        icon={<DashboardOutlinedIcon />}\n      />\n      <ListItemLink\n        to=\"/connections\"\n        primary={i18n.t(\"mainDrawer.listItems.connections\")}\n        icon={\n          <Badge badgeContent={connectionWarning ? \"!\" : 0} color=\"error\">\n            <SyncAltIcon />\n          </Badge>\n        }\n      />\n      <ListItemLink\n        to=\"/tickets\"\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\n        icon={<WhatsAppIcon />}\n      />\n\n      <ListItemLink\n        to=\"/contacts\"\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\n        icon={<ContactPhoneOutlinedIcon />}\n      />\n      <ListItemLink\n        to=\"/quickAnswers\"\n        primary={i18n.t(\"mainDrawer.listItems.quickAnswers\")}\n        icon={<QuestionAnswerOutlinedIcon />}\n      />\n      <ListItemLink\n        to=\"/users\"\n        primary={i18n.t(\"mainDrawer.listItems.users\")}\n        icon={<PeopleAltOutlinedIcon />}\n      />\n      <ListItemLink\n        to=\"/queues\"\n        primary={i18n.t(\"mainDrawer.listItems.queues\")}\n        icon={<AccountTreeOutlinedIcon />}\n      />\n      <ListItemLink\n        to=\"/api\"\n        primary={i18n.t(\"mainDrawer.listItems.api\")}\n        icon={<CodeIcon />}\n      />\n      <ListItemLink\n        to=\"/settings\"\n        primary={i18n.t(\"mainDrawer.listItems.settings\")}\n        icon={<SettingsOutlinedIcon />}\n      />\n      <Can\n        role={user.profile}\n        perform=\"drawer-admin-items:view\"\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader inset>\n              {i18n.t(\"mainDrawer.listItems.administration\")}\n            </ListSubheader>\n            <ListItemLink\n              to=\"/companies\"\n              primary={i18n.t(\"mainDrawer.listItems.companies\")}\n              icon={<BusinessIcon />}\n            />\n            <ListItemLink\n              to=\"/bots\"\n              primary={i18n.t(\"mainDrawer.listItems.bots\")}\n              icon={<ManageBotsOutlinedIcon />}\n            />\n          </>\n        )}\n      />\n    </div>\n  );\n};\n\nexport default MainListItems;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\t\n\tif(children && children.includes('BEGIN:VCARD'))\n\t\t//children = \"Diga olá ao seu novo contato clicando em *conversar*!\";\n\t\tchildren = null;\n\t\n\tif(children && children.includes('data:image/'))\n\t\tchildren = null;\n\t\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\t\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\tticket: {\n\t\tposition: \"relative\",\n\t},\n\n\tpendingTicket: {\n\t\tcursor: \"unset\",\n\t},\n\n\tnoTicketsDiv: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100px\",\n\t\tmargin: 40,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\n\tnoTicketsText: {\n\t\ttextAlign: \"center\",\n\t\tcolor: \"rgb(104, 121, 146)\",\n\t\tfontSize: \"14px\",\n\t\tlineHeight: \"1.4\",\n\t},\n\n\tnoTicketsTitle: {\n\t\ttextAlign: \"center\",\n\t\tfontSize: \"16px\",\n\t\tfontWeight: \"600\",\n\t\tmargin: \"0px\",\n\t},\n\n\tcontactNameWrapper: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\n\tlastMessageTime: {\n\t\tjustifySelf: \"flex-end\",\n\t},\n\n\tclosedBadge: {\n\t\talignSelf: \"center\",\n\t\tjustifySelf: \"flex-end\",\n\t\tmarginRight: 32,\n\t\tmarginLeft: \"auto\",\n\t},\n\n\tcontactLastMessage: {\n\t\tpaddingRight: 20,\n\t},\n\n\tnewMessagesCount: {\n\t\talignSelf: \"center\",\n\t\tmarginRight: 8,\n\t\tmarginLeft: \"auto\",\n\t},\n\n\tbadgeStyle: {\n\t\tcolor: \"white\",\n\t\tbackgroundColor: green[500],\n\t},\n\n\tacceptButton: {\n\t\tposition: \"absolute\",\n\t\tleft: \"50%\",\n\t},\n\n\tticketQueueColor: {\n\t\tflex: \"none\",\n\t\twidth: \"8px\",\n\t\theight: \"100%\",\n\t\tposition: \"absolute\",\n\t\ttop: \"0%\",\n\t\tleft: \"0%\",\n\t},\n\n\tuserTag: {\n\t\tposition: \"absolute\",\n\t\tmarginRight: 5,\n\t\tright: 5,\n\t\tbottom: 5,\n\t\tbackground: \"#2576D2\",\n\t\tcolor: \"#ffffff\",\n\t\tborder: \"1px solid #CCC\",\n\t\tpadding: 1,\n\t\tpaddingLeft: 5,\n\t\tpaddingRight: 5,\n\t\tborderRadius: 10,\n\t\tfontSize: \"0.9em\"\n\t},\n}));\n\nconst TicketListItem = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [loading, setLoading] = useState(false);\n\tconst { ticketId } = useParams();\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleAcepptTicket = async id => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${id}`, {\n\t\t\t\tstatus: \"open\",\n\t\t\t\tuserId: user?.id,\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t\tif (isMounted.current) {\n\t\t\tsetLoading(false);\n\t\t}\n\t\thistory.push(`/tickets/${id}`);\n\t};\n\n\tconst handleSelectTicket = id => {\n\t\thistory.push(`/tickets/${id}`);\n\t};\n\n\tconst trataNomeUsuario = name => {\n\t\treturn name !== undefined ? ` - (${name})` : ''\n\t}\n\n\treturn (\n\t\t<React.Fragment key={ticket.id}>\n\t\t\t<ListItem\n\t\t\t\tdense\n\t\t\t\tbutton\n\t\t\t\tonClick={e => {\n\t\t\t\t\tif (ticket.status === \"pending\") return;\n\t\t\t\t\thandleSelectTicket(ticket.id);\n\t\t\t\t}}\n\t\t\t\tselected={ticketId && +ticketId === ticket.id}\n\t\t\t\tclassName={clsx(classes.ticket, {\n\t\t\t\t\t[classes.pendingTicket]: ticket.status === \"pending\",\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<Tooltip\n\t\t\t\t\tarrow\n\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\ttitle={ticket.queue?.name || \"Sem fila\"}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }}\n\t\t\t\t\t\tclassName={classes.ticketQueueColor}\n\t\t\t\t\t></span>\n\t\t\t\t</Tooltip>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Avatar src={ticket?.contact?.profilePicUrl} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tdisableTypography\n\t\t\t\t\tprimary={\n\t\t\t\t\t\t<span className={classes.contactNameWrapper}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ticket.contact.name}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tclassName={classes.closedBadge}\n\t\t\t\t\t\t\t\t\tbadgeContent={\"closed\"}\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{ticket.lastMessage && (\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tclassName={classes.lastMessageTime}\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n\t\t\t\t\t\t\t\t\t\t<>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{ticket.whatsappId && (\n\t\t\t\t\t\t\t\t<div className={classes.userTag} title={i18n.t(\"ticketsList.connectionTitle\")}>{`${ticket.whatsapp?.name} ${trataNomeUsuario(ticket.user?.name)}`}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\tsecondary={\n\t\t\t\t\t\t<span className={classes.contactNameWrapper}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tclassName={classes.contactLastMessage}\n\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ticket.lastMessage ? (\n\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tclassName={classes.newMessagesCount}\n\t\t\t\t\t\t\t\tbadgeContent={ticket.unreadMessages}\n\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\tbadge: classes.badgeStyle,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tclassName={classes.acceptButton}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tonClick={e => handleAcepptTicket(ticket.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"ticketsList.buttons.accept\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t)}\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" component=\"li\" />\n\t\t</React.Fragment>\n\t);\n};\n\nexport default TicketListItem;\n","import { useState, useEffect } from \"react\";\nimport { getHoursCloseTicketsAuto } from \"../../config\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n    searchParam,\n    pageNumber,\n    status,\n    date,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n}) => {\n    const [loading, setLoading] = useState(true);\n    const [hasMore, setHasMore] = useState(false);\n    const [tickets, setTickets] = useState([]);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchTickets = async() => {\n                try {\n                    const { data } = await api.get(\"/tickets\", {\n                        params: {\n                            searchParam,\n                            pageNumber,\n                            status,\n                            date,\n                            showAll,\n                            queueIds,\n                            withUnreadMessages,\n                        },\n                    })\n                    setTickets(data.tickets)\n\n                    let horasFecharAutomaticamente = getHoursCloseTicketsAuto(); \n\n                    if (status === \"open\" && horasFecharAutomaticamente && horasFecharAutomaticamente !== \"\" &&\n                        horasFecharAutomaticamente !== \"0\" && Number(horasFecharAutomaticamente) > 0) {\n\n                        let dataLimite = new Date()\n                        dataLimite.setHours(dataLimite.getHours() - Number(horasFecharAutomaticamente))\n\n                        data.tickets.forEach(ticket => {\n                            if (ticket.status !== \"closed\") {\n                                let dataUltimaInteracaoChamado = new Date(ticket.updatedAt)\n                                if (dataUltimaInteracaoChamado < dataLimite)\n                                    closeTicket(ticket)\n                            }\n                        })\n                    }\n\n                    setHasMore(data.hasMore)\n                    setCount(data.count)\n                    setLoading(false)\n                } catch (err) {\n                    setLoading(false)\n                    toastError(err)\n                }\n            }\n\n            const closeTicket = async(ticket) => {\n                await api.put(`/tickets/${ticket.id}`, {\n                    status: \"closed\",\n                    userId: ticket.userId || null,\n                })\n            }\n\n            fetchTickets()\n        }, 500)\n        return () => clearTimeout(delayDebounceFn)\n    }, [\n        searchParam,\n        pageNumber,\n        status,\n        date,\n        showAll,\n        queueIds,\n        withUnreadMessages,\n    ])\n\n    return { tickets, loading, hasMore, count };\n};\n\nexport default useTickets;","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport openSocket from \"../../services/socket-io\";\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport { i18n } from \"../../translate/i18n\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport jwt_decode from \"jwt-decode\";\n\nconst useStyles = makeStyles(theme => ({\n\ttabContainer: {\n\t\toverflowY: \"auto\",\n\t\tmaxHeight: 350,\n\t\t...theme.scrollbarStyles,\n\t},\n\tpopoverPaper: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: 350,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(1),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tmaxWidth: 270,\n\t\t},\n\t},\n\tnoShadow: {\n\t\tboxShadow: \"none !important\",\n\t},\n}));\n\nconst NotificationsPopOver = () => {\n\tconst classes = useStyles();\n\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n\tconst ticketIdRef = useRef(ticketIdUrl);\n\tconst anchorEl = useRef();\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\n\tconst [, setDesktopNotifications] = useState([]);\n\n\tconst { tickets } = useTickets({ withUnreadMessages: \"true\" });\n\tconst [play] = useSound(alertSound);\n\tconst soundAlertRef = useRef();\n\n\tconst historyRef = useRef(history);\n\n\tuseEffect(() => {\n\t\tsoundAlertRef.current = play;\n\n\t\tif (!(\"Notification\" in window)) {\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}, [play]);\n\n\tuseEffect(() => {\n\t\tsetNotifications(tickets);\n\t}, [tickets]);\n\n\tuseEffect(() => {\n\t\tticketIdRef.current = ticketIdUrl;\n\t}, [ticketIdUrl]);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\t\tconst token = localStorage.getItem(\"token\");\n\t\tconst userJWT = jwt_decode(token);\n\n\t\tsocket.on(\"connect\", () => socket.emit(\"joinNotification\"));\n\n\t\tsocket.on(\"ticket\", data => {\n\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\n\t\t\t\tsetDesktopNotifications(prevState => {\n\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\t\t\tn => n.tag === String(data.ticketId)\n\t\t\t\t\t);\n\t\t\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\t\t\tprevState[notfiticationIndex].close();\n\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(`appMessage-${userJWT.companyId}`, data => {\n\t\t\tif (\n\t\t\t\tdata.action === \"create\" &&\n\t\t\t\t!data.message.read &&\n\t\t\t\t(data.ticket.userId === user?.id || !data.ticket.userId)\n\t\t\t) {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn [data.ticket, ...prevState];\n\t\t\t\t});\n\n\t\t\t\tconst shouldNotNotificate =\n\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\n\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\n\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\n\t\t\t\t\tdata.ticket.isGroup;\n\n\t\t\t\tif (shouldNotNotificate) return;\n\n\t\t\t\thandleNotifications(data);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user]);\n\n\tconst handleNotifications = data => {\n\t\tconst { message, contact, ticket } = data;\n\n\t\tconst options = {\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n\t\t\ticon: contact.profilePicUrl,\n\t\t\ttag: ticket.id,\n\t\t\trenotify: true,\n\t\t};\n\n\t\tconst notification = new Notification(\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n\t\t\toptions\n\t\t);\n\n\t\tnotification.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\twindow.focus();\n\t\t\thistoryRef.current.push(`/tickets/${ticket.id}`);\n\t\t};\n\n\t\tsetDesktopNotifications(prevState => {\n\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\tn => n.tag === notification.tag\n\t\t\t);\n\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\tprevState[notfiticationIndex] = notification;\n\t\t\t\treturn [...prevState];\n\t\t\t}\n\t\t\treturn [notification, ...prevState];\n\t\t});\n\n\t\tsoundAlertRef.current();\n\t};\n\n\tconst handleClick = () => {\n\t\tsetIsOpen(prevState => !prevState);\n\t};\n\n\tconst handleClickAway = () => {\n\t\tsetIsOpen(false);\n\t};\n\n\tconst NotificationTicket = ({ children }) => {\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tonClick={handleClick}\n\t\t\t\tref={anchorEl}\n\t\t\t\taria-label=\"Open Notifications\"\n\t\t\t\tcolor=\"inherit\"\n\t\t\t>\n\t\t\t\t<Badge badgeContent={notifications.length} color=\"secondary\">\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</Badge>\n\t\t\t</IconButton>\n\t\t\t<Popover\n\t\t\t\tdisableScrollLock\n\t\t\t\topen={isOpen}\n\t\t\t\tanchorEl={anchorEl.current}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\n\t\t\t\tonClose={handleClickAway}\n\t\t\t>\n\t\t\t\t<List dense className={classes.tabContainer}>\n\t\t\t\t\t{notifications.length === 0 ? (\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tnotifications.map(ticket => (\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\n\t\t\t\t\t\t\t</NotificationTicket>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default NotificationsPopOver;","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tCircularProgress,\n\tSelect,\n\tInputLabel,\n\tMenuItem,\n\tFormControl,\n\tTextField,\n\tInputAdornment,\n\tIconButton\n  } from '@material-ui/core';\n\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\"\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst [whatsappId, setWhatsappId] = useState(false);\n\tconst {loading, whatsApps} = useWhatsApps();\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t\tsetWhatsappId(data.whatsappId ? data.whatsappId : '');\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, whatsappId, queueIds: selectedQueueIds };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (!loading &&\n\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" className={classes.maxWidth} fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>{i18n.t(\"userModal.form.whatsapp\")}</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={whatsappId}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWhatsappId(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApps.map((whatsapp) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>{whatsapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport clsx from \"clsx\";\n\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  MenuItem,\n  IconButton,\n  Menu,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\n\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\nimport { i18n } from \"../translate/i18n\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n  },\n\n  toolbar: {\n    paddingRight: 20, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst LoggedInLayout = ({ children }) => {\n  const classes = useStyles();\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    if (document.body.offsetWidth > 600) {\n      setDrawerOpen(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  if (loading) {\n    return <BackdropLoading />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        variant={drawerVariant}\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n        classes={{\n          paper: clsx(\n            classes.drawerPaper,\n            !drawerOpen && classes.drawerPaperClose\n          ),\n        }}\n        open={drawerOpen}\n      >\n        <div className={classes.toolbarIcon}>\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <MainListItems drawerClose={drawerClose} />\n        </List>\n        <Divider />\n      </Drawer>\n      <UserModal\n        open={userModalOpen}\n        onClose={() => setUserModalOpen(false)}\n        userId={user?.id}\n      />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\n        color={process.env.NODE_ENV === \"development\" ? \"inherit\" : \"primary\"}\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            className={clsx(\n              classes.menuButton,\n              drawerOpen && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography\n            component=\"h1\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            wAtende Multiatendimento Whatsapp\n          </Typography>\n          {user.id && <NotificationsPopOver />}\n\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              getContentAnchorEl={null}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={menuOpen}\n              onClose={handleCloseMenu}\n            >\n              <MenuItem onClick={handleOpenUserModal}>\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\n              </MenuItem>\n              <MenuItem onClick={handleClickLogout}>\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\n              </MenuItem>\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        {children ? children : null}\n      </main>\n    </div>\n  );\n};\n\nexport default LoggedInLayout;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst Title = props => {\n\treturn (\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport default Title;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tBarChart,\n\tCartesianGrid,\n\tBar,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = () => {\n\tconst theme = useTheme();\n\n\tconst date = useRef(new Date().toISOString());\n\tconst { tickets } = useTickets({ date: date.current });\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData(prevState => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach(a => {\n\t\t\t\ttickets.forEach(ticket => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time &&\n\t\t\t\t\t\ta.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${i18n.t(\"dashboard.charts.perDay.title\")}${\n\t\t\t\ttickets.length\n\t\t\t}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<BarChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\tbarSize={40}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 16,\n\t\t\t\t\t\tright: 16,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tleft: 24,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{ textAnchor: \"middle\", fill: theme.palette.text.primary }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Bar dataKey=\"amount\" fill={theme.palette.primary.main} />\n\t\t\t\t</BarChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n","import React, { useContext } from \"react\"\n\nimport Paper from \"@material-ui/core/Paper\"\nimport Container from \"@material-ui/core/Container\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Typography from \"@material-ui/core/Typography\";\n\nimport useTickets from \"../../hooks/useTickets\"\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Chart from \"./Chart\"\n\nconst useStyles = makeStyles(theme => ({\n\tcontainer: {\n\t\tpaddingTop: theme.spacing(4),\n\t\tpaddingBottom: theme.spacing(4),\n\t},\n\tfixedHeightPaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: 240,\n\t},\n\tcustomFixedHeightPaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: 120,\n\t},\n\tcustomFixedHeightPaperLg: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t},\n}))\n\nconst Dashboard = () => {\n\tconst classes = useStyles()\n\n\tconst { user } = useContext(AuthContext);\n\tvar userQueueIds = [];\n\n\tif (user.queues && user.queues.length > 0) {\n\t\tuserQueueIds = user.queues.map(q => q.id);\n\t}\n\n\tconst GetTickets = (status, showAll, withUnreadMessages) => {\n\n\t\tconst { count } = useTickets({\n\t\t\tstatus: status,\n\t\t\tshowAll: showAll,\n\t\t\twithUnreadMessages: withUnreadMessages,\n\t\t\tqueueIds: JSON.stringify(userQueueIds)\n\t\t});\n\t\treturn count;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Container maxWidth=\"lg\" className={classes.container}>\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.inAttendance.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"open\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.waiting.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"pending\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.closed.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"closed\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Paper className={classes.fixedHeightPaper}>\n\t\t\t\t\t\t\t<Chart />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tsetContact(data);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst filter = createFilterOptions({\n\ttrim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose }) => {\n\tconst history = useHistory();\n\n\tconst [options, setOptions] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [newContact, setNewContact] = useState({});\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchContacts = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.contacts);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchContacts();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedContact(null);\n\t};\n\n\tconst handleSaveTicket = async contactId => {\n\t\tif (!contactId) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst { data: ticket } = await api.post(\"/tickets\", {\n\t\t\t\tcontactId: contactId,\n\t\t\t\tuserId: user.id,\n\t\t\t\tstatus: \"open\",\n\t\t\t});\n\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetLoading(false);\n\t\thandleClose();\n\t};\n\n\tconst handleSelectOption = (e, newValue) => {\n\t\tif (newValue?.number) {\n\t\t\tsetSelectedContact(newValue);\n\t\t} else if (newValue?.name) {\n\t\t\tsetNewContact({ name: newValue.name });\n\t\t\tsetContactModalOpen(true);\n\t\t}\n\t};\n\n\tconst handleCloseContactModal = () => {\n\t\tsetContactModalOpen(false);\n\t};\n\n\tconst handleAddNewContactTicket = contact => {\n\t\thandleSaveTicket(contact.id);\n\t};\n\n\tconst createAddContactOption = (filterOptions, params) => {\n\t\tconst filtered = filter(filterOptions, params);\n\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n\t\t\tfiltered.push({\n\t\t\t\tname: `${params.inputValue}`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst renderOption = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n\t\t}\n\t};\n\n\tconst renderOptionLabel = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${option.name}`;\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ContactModal\n\t\t\t\topen={contactModalOpen}\n\t\t\t\tinitialValues={newContact}\n\t\t\t\tonClose={handleCloseContactModal}\n\t\t\t\tonSave={handleAddNewContactTicket}\n\t\t\t></ContactModal>\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"newTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstyle={{ width: 300 }}\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tclearOnEscape\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\n\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\thandleSaveTicket(selectedContact.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={!selectedContact}\n\t\t\t\t\t\tonClick={() => handleSaveTicket(selectedContact.id)}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nexport default NewTicketModal;\n","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport jwt_decode from \"jwt-decode\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketsListWrapper: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflow: \"hidden\",\n\t\tborderTopRightRadius: 0,\n\t\tborderBottomRightRadius: 0,\n\t},\n\n\tticketsList: {\n\t\tflex: 1,\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t\tborderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n\t},\n\n\tticketsListHeader: {\n\t\tcolor: \"rgb(67, 83, 105)\",\n\t\tzIndex: 2,\n\t\tbackgroundColor: \"white\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\n\tticketsCount: {\n\t\tfontWeight: \"normal\",\n\t\tcolor: \"rgb(104, 121, 146)\",\n\t\tmarginLeft: \"8px\",\n\t\tfontSize: \"14px\",\n\t},\n\n\tnoTicketsText: {\n\t\ttextAlign: \"center\",\n\t\tcolor: \"rgb(104, 121, 146)\",\n\t\tfontSize: \"14px\",\n\t\tlineHeight: \"1.4\",\n\t},\n\n\tnoTicketsTitle: {\n\t\ttextAlign: \"center\",\n\t\tfontSize: \"16px\",\n\t\tfontWeight: \"600\",\n\t\tmargin: \"0px\",\n\t},\n\n\tnoTicketsDiv: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100px\",\n\t\tmargin: 40,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst reducer = (state, action) => {\n\tif (action.type === \"LOAD_TICKETS\") {\n\t\tconst newTickets = action.payload;\n\n\t\tnewTickets.forEach(ticket => {\n\t\t\tconst ticketIndex = state.findIndex(t => t.id === ticket.id);\n\t\t\tif (ticketIndex !== -1) {\n\t\t\t\tstate[ticketIndex] = ticket;\n\t\t\t\tif (ticket.unreadMessages > 0) {\n\t\t\t\t\tstate.unshift(state.splice(ticketIndex, 1)[0]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstate.push(ticket);\n\t\t\t}\n\t\t});\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET_UNREAD\") {\n\t\tconst ticketId = action.payload;\n\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticketId);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex].unreadMessages = 0;\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"UPDATE_TICKET\") {\n\n\t\tconst ticket = action.payload;\n\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticket.id);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex] = ticket;\n\t\t} else {\n\t\t\tstate.unshift(ticket);\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n\n\t\tconst ticket = action.payload;\n\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticket.id);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex] = ticket;\n\t\t\tstate.unshift(state.splice(ticketIndex, 1)[0]);\n\t\t} else {\n\t\t\tstate.unshift(ticket);\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"UPDATE_TICKET_CONTACT\") {\n\n\t\tconst contact = action.payload;\n\t\tconst ticketIndex = state.findIndex(t => t.contactId === contact.id);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex].contact = contact;\n\t\t}\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"DELETE_TICKET\") {\n\t\tconst ticketId = action.payload;\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticketId);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate.splice(ticketIndex, 1);\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET\") {\n\t\treturn [];\n\t}\n};\n\nconst TicketsList = (props) => {\n\tconst { status, searchParam, showAll, selectedQueueIds, updateCount, style } =\n\t\tprops;\n\tconst classes = useStyles();\n\tconst [pageNumber, setPageNumber] = useState(1);\n\tconst [ticketsList, dispatch] = useReducer(reducer, []);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tdispatch({ type: \"RESET\" });\n\t\tsetPageNumber(1);\n\t}, [status, searchParam, dispatch, showAll, selectedQueueIds]);\n\n\tconst { tickets, hasMore, loading } = useTickets({\n\t\tpageNumber,\n\t\tsearchParam,\n\t\tstatus,\n\t\tshowAll,\n\t\tqueueIds: JSON.stringify(selectedQueueIds),\n\t});\n\n\tuseEffect(() => {\n\t\tif (!status && !searchParam) return;\n\t\tdispatch({\n\t\t\ttype: \"LOAD_TICKETS\",\n\t\t\tpayload: tickets,\n\t\t});\n\t}, [tickets, status, searchParam]);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\t\tconst token = localStorage.getItem(\"token\");\n\t\tconst userJWT = jwt_decode(token);\n\n\t\tconst shouldUpdateTicket = ticket =>\n\t\t\t(!ticket.userId || ticket.userId === user?.id || showAll) &&\n\t\t\t(!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n\t\tconst notBelongsToUserQueues = ticket =>\n\t\t\tticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n\t\tsocket.on(\"connect\", () => {\n\t\t\tif (status) {\n\t\t\t\tsocket.emit(\"joinTickets\", status);\n\t\t\t} else {\n\t\t\t\tsocket.emit(\"joinNotification\");\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(`ticket-${userJWT.companyId}`, data => {\n\t\t\tif (data.action === \"updateUnread\") {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"RESET_UNREAD\",\n\t\t\t\t\tpayload: data.ticketId,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"UPDATE_TICKET\",\n\t\t\t\t\tpayload: data.ticket,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n\t\t\t\tdispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n\t\t\t}\n\n\t\t\tif (data.action === \"delete\") {\n\t\t\t\tdispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n\t\t\t}\n\t\t});\n\n\t\tconsole.log(userJWT.companyId)\n\t\tconsole.log(userJWT.companyID)\n\n\t\tsocket.on(`appMessage-${userJWT.companyId}`, data => {\n\t\t\tif (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n\t\t\t\t\tpayload: data.ticket,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"contact\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"UPDATE_TICKET_CONTACT\",\n\t\t\t\t\tpayload: data.contact,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [status, showAll, user, selectedQueueIds]);\n\n\tuseEffect(() => {\n\t\tif (typeof updateCount === \"function\") {\n\t\t\tupdateCount(ticketsList.length);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [ticketsList]);\n\n\tconst loadMore = () => {\n\t\tsetPageNumber(prevState => prevState + 1);\n\t};\n\n\tconst handleScroll = e => {\n\t\tif (!hasMore || loading) return;\n\n\t\tconst { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n\t\tif (scrollHeight - (scrollTop + 100) < clientHeight) {\n\t\t\tloadMore();\n\t\t}\n\t};\n\n\treturn (\n\t\t<Paper className={classes.ticketsListWrapper} style={style}>\n\t\t\t<Paper\n\t\t\t\tsquare\n\t\t\t\tname=\"closed\"\n\t\t\t\televation={0}\n\t\t\t\tclassName={classes.ticketsList}\n\t\t\t\tonScroll={handleScroll}\n\t\t\t>\n\t\t\t\t<List style={{ paddingTop: 0 }}>\n\t\t\t\t\t{ticketsList.length === 0 && !loading ? (\n\t\t\t\t\t\t<div className={classes.noTicketsDiv}>\n\t\t\t\t\t\t\t<span className={classes.noTicketsTitle}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketsList.noTicketsTitle\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p className={classes.noTicketsText}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketsList.noTicketsMessage\")}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ticketsList.map(ticket => (\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} key={ticket.id} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{loading && <TicketsListSkeleton />}\n\t\t\t\t</List>\n\t\t\t</Paper>\n\t\t</Paper>\n\t);\n};\n\nexport default TicketsList;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsList\";\nimport TabPanel from \"../TabPanel\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  tabsHeader: {\n    flex: \"none\",\n    backgroundColor: \"#eee\",\n  },\n\n  settingsIcon: {\n    alignSelf: \"center\",\n    marginLeft: \"auto\",\n    padding: 8,\n  },\n\n  tab: {\n    minWidth: 120,\n    width: 120,\n  },\n\n  ticketOptionsBox: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    background: \"#fafafa\",\n    padding: theme.spacing(1),\n  },\n\n  serachInputWrapper: {\n    flex: 1,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 40,\n    padding: 4,\n    marginRight: theme.spacing(1),\n  },\n\n  searchIcon: {\n    color: \"grey\",\n    marginLeft: 6,\n    marginRight: 6,\n    alignSelf: \"center\",\n  },\n\n  searchInput: {\n    flex: 1,\n    border: \"none\",\n    borderRadius: 30,\n  },\n\n  badge: {\n    right: \"-10px\",\n  },\n  show: {\n    display: \"block\",\n  },\n  hide: {\n    display: \"none !important\",\n  },\n}));\n\nconst TicketsManager = () => {\n  const classes = useStyles();\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n\n  useEffect(() => {\n    if (user.profile.toUpperCase() === \"ADMIN\") {\n      setShowAllTickets(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(e) => setNewTicketModalOpen(false)}\n      />\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<CheckBoxIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"search\"}\n            icon={<SearchIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        {tab === \"search\" ? (\n          <div className={classes.serachInputWrapper}>\n            <SearchIcon className={classes.searchIcon} />\n            <InputBase\n              className={classes.searchInput}\n              inputRef={searchInputRef}\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\n              type=\"search\"\n              onChange={handleSearch}\n            />\n          </div>\n        ) : (\n          <>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => setNewTicketModalOpen(true)}\n            >\n              {i18n.t(\"ticketsManager.buttons.newTicket\")}\n            </Button>\n            <Can\n              role={user.profile}\n              perform=\"tickets-manager:showall\"\n              yes={() => (\n                <FormControlLabel\n                  label={i18n.t(\"tickets.buttons.showAll\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={showAllTickets}\n                      onChange={() =>\n                        setShowAllTickets((prevState) => !prevState)\n                      }\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              )}\n            />\n          </>\n        )}\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n        <TicketsList\n          searchParam={searchParam}\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n    </Paper>\n  );\n};\n\nexport default TicketsManager;\n","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Skeleton\n\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\twidth={160}\n\t\t\t\t\theight={160}\n\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t/>\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport ContactMailIcon from '@material-ui/icons/ContactMail';\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactModal from \"../ContactModal\";\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: \"#eee\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 160,\n\t\theight: 160,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\n\treturn (\n\t\t<Drawer\n\t\t\tclassName={classes.drawer}\n\t\t\tvariant=\"persistent\"\n\t\t\tanchor=\"right\"\n\t\t\topen={open}\n\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\tModalProps={{\n\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t}}\n\t\t\tclasses={{\n\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t}}\n\t\t>\n\t\t\t<div className={classes.header}>\n\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t<CloseIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t\t{loading ? (\n\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t) : (\n\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\talt={contact.name}\n\t\t\t\t\t\t\tsrc={contact.profilePicUrl}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t></Avatar>\n\n\t\t\t\t\t\t<Typography>{contact.name}</Typography>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Button href={`tel:${contact.number}`} variant=\"contained\" startIcon={<WhatsAppIcon />}>\n                            {contact.number}\n                        </Button>\n\t\t\t\t\t\t<Button href={`mailto:${contact.email}`} variant=\"contained\" startIcon={<ContactMailIcon />}>\n                            {contact.email}\n                        </Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => setModalOpen(true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Paper>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Drawer>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVert from \"@material-ui/icons/MoreVert\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport {\n  FormControlLabel,\n  Hidden,\n  Menu,\n  MenuItem,\n  Switch,\n} from \"@material-ui/core\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\",\n    },\n  },\n\n  newMessageBox: {\n    background: \"#eee\",\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\",\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n  messageQuickAnswersWrapper: {\n    margin: 0,\n    position: \"absolute\",\n    bottom: \"50px\",\n    background: \"#ffffff\",\n    padding: \"2px\",\n    border: \"1px solid #CCC\",\n    left: 0,\n    width: \"100%\",\n    \"& li\": {\n      listStyle: \"none\",\n      \"& a\": {\n        display: \"block\",\n        padding: \"8px\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxHeight: \"32px\",\n        \"&:hover\": {\n          background: \"#F1F1F1\",\n          cursor: \"pointer\",\n        },\n      },\n    },\n  },\n}));\n\nconst MessageInput = ({ ticketStatus }) => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [quickAnswers, setQuickAnswer] = useState([]);\n  const [typeBar, setTypeBar] = useState(false);\n  const inputRef = useRef();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  const handleChangeInput = (e) => {\n    setInputMessage(e.target.value);\n    handleLoadQuickAnswer(e.target.value);\n  };\n\n  const handleQuickAnswersClick = (value) => {\n    setInputMessage(value);\n    setTypeBar(false);\n  };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLoadQuickAnswer = async (value) => {\n    if (value && value.indexOf(\"/\") === 0) {\n      try {\n        const { data } = await api.get(\"/quickAnswers/\", {\n          params: { searchParam: inputMessage.substring(1) },\n        });\n        setQuickAnswer(data.quickAnswers);\n        if (data.quickAnswers.length > 0) {\n          setTypeBar(true);\n        } else {\n          setTypeBar(false);\n        }\n      } catch (err) {\n        setTypeBar(false);\n      }\n    } else {\n      setTypeBar(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (event) => {\n    setAnchorEl(null);\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <Hidden only={[\"sm\", \"xs\"]}>\n            <IconButton\n              aria-label=\"emojiPicker\"\n              component=\"span\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              onClick={(e) => setShowEmoji((prevState) => !prevState)}\n            >\n              <MoodIcon className={classes.sendMessageIcons} />\n            </IconButton>\n            {showEmoji ? (\n              <div className={classes.emojiBox}>\n                <ClickAwayListener onClickAway={(e) => setShowEmoji(false)}>\n                  <Picker\n                    perLine={16}\n                    showPreview={false}\n                    showSkinTones={false}\n                    onSelect={handleAddEmoji}\n                  />\n                </ClickAwayListener>\n              </div>\n            ) : null}\n\n            <input\n              multiple\n              type=\"file\"\n              id=\"upload-button\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              className={classes.uploadInput}\n              onChange={handleChangeMedias}\n            />\n            <label htmlFor=\"upload-button\">\n              <IconButton\n                aria-label=\"upload\"\n                component=\"span\"\n                disabled={loading || recording || ticketStatus !== \"open\"}\n              >\n                <AttachFileIcon className={classes.sendMessageIcons} />\n              </IconButton>\n            </label>\n            <FormControlLabel\n              style={{ marginRight: 7, color: \"gray\" }}\n              label={i18n.t(\"messagesInput.signMessage\")}\n              labelPlacement=\"start\"\n              control={\n                <Switch\n                  size=\"small\"\n                  checked={signMessage}\n                  onChange={(e) => {\n                    setSignMessage(e.target.checked);\n                  }}\n                  name=\"showAllTickets\"\n                  color=\"primary\"\n                />\n              }\n            />\n          </Hidden>\n          <Hidden only={[\"md\", \"lg\", \"xl\"]}>\n            <IconButton\n              aria-controls=\"simple-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleOpenMenuClick}\n            >\n              <MoreVert></MoreVert>\n            </IconButton>\n            <Menu\n              id=\"simple-menu\"\n              keepMounted\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={handleMenuItemClick}\n            >\n              <MenuItem onClick={handleMenuItemClick}>\n                <IconButton\n                  aria-label=\"emojiPicker\"\n                  component=\"span\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  onClick={(e) => setShowEmoji((prevState) => !prevState)}\n                >\n                  <MoodIcon className={classes.sendMessageIcons} />\n                </IconButton>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <input\n                  multiple\n                  type=\"file\"\n                  id=\"upload-button\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  className={classes.uploadInput}\n                  onChange={handleChangeMedias}\n                />\n                <label htmlFor=\"upload-button\">\n                  <IconButton\n                    aria-label=\"upload\"\n                    component=\"span\"\n                    disabled={loading || recording || ticketStatus !== \"open\"}\n                  >\n                    <AttachFileIcon className={classes.sendMessageIcons} />\n                  </IconButton>\n                </label>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <FormControlLabel\n                  style={{ marginRight: 7, color: \"gray\" }}\n                  label={i18n.t(\"messagesInput.signMessage\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={signMessage}\n                      onChange={(e) => {\n                        setSignMessage(e.target.checked);\n                      }}\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              </MenuItem>\n            </Menu>\n          </Hidden>\n          <div className={classes.messageInputWrapper}>\n            <InputBase\n              inputRef={(input) => {\n                input && input.focus();\n                input && (inputRef.current = input);\n              }}\n              className={classes.messageInput}\n              placeholder={\n                ticketStatus === \"open\"\n                  ? i18n.t(\"messagesInput.placeholderOpen\")\n                  : i18n.t(\"messagesInput.placeholderClosed\")\n              }\n              multiline\n              maxRows={5}\n              value={inputMessage}\n              onChange={handleChangeInput}\n              disabled={recording || loading || ticketStatus !== \"open\"}\n              onPaste={(e) => {\n                ticketStatus === \"open\" && handleInputPaste(e);\n              }}\n              onKeyPress={(e) => {\n                if (loading || e.shiftKey) return;\n                else if (e.key === \"Enter\") {\n                  handleSendMessage();\n                }\n              }}\n            />\n            {typeBar ? (\n              <ul className={classes.messageQuickAnswersWrapper}>\n                {quickAnswers.map((value, index) => {\n                  return (\n                    <li\n                      className={classes.messageQuickAnswersWrapperItem}\n                      key={index}\n                    >\n                      {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                      <a onClick={() => handleQuickAnswersClick(value.message)}>\n                        {`${value.shortcut} - ${value.message}`}\n                      </a>\n                    </li>\n                  );\n                })}\n              </ul>\n            ) : (\n              <div></div>\n            )}\n          </div>\n          {inputMessage ? (\n            <IconButton\n              aria-label=\"sendMessage\"\n              component=\"span\"\n              onClick={handleSendMessage}\n              disabled={loading}\n            >\n              <SendIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          ) : recording ? (\n            <div className={classes.recorderWrapper}>\n              <IconButton\n                aria-label=\"cancelRecording\"\n                component=\"span\"\n                fontSize=\"large\"\n                disabled={loading}\n                onClick={handleCancelAudio}\n              >\n                <HighlightOffIcon className={classes.cancelAudioIcon} />\n              </IconButton>\n              {loading ? (\n                <div>\n                  <CircularProgress className={classes.audioLoading} />\n                </div>\n              ) : (\n                <RecordingTimer />\n              )}\n\n              <IconButton\n                aria-label=\"sendRecordedAudio\"\n                component=\"span\"\n                onClick={handleUploadAudio}\n                disabled={loading}\n              >\n                <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n              </IconButton>\n            </div>\n          ) : (\n            <IconButton\n              aria-label=\"showRecorder\"\n              component=\"span\"\n              disabled={loading || ticketStatus !== \"open\"}\n              onClick={handleStartRecording}\n            >\n              <MicIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          )}\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default MessageInput;\n","import { useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nexport function useLocalStorage(key, initialValue) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = localStorage.getItem(key);\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = value => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n}\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\nimport ArrowBackIos from \"@material-ui/icons/ArrowBackIos\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketHeader: {\n    display: \"flex\",\n    backgroundColor: \"#eee\",\n    flex: \"none\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexWrap: \"wrap\",\n    },\n  },\n}));\n\nconst TicketHeader = ({ loading, children }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const handleBack = () => {\n    history.push(\"/tickets\");\n  };\n\n  return (\n    <>\n      {loading ? (\n        <TicketHeaderSkeleton />\n      ) : (\n        <Card square className={classes.ticketHeader}>\n          <Button color=\"primary\" onClick={handleBack}>\n            <ArrowBackIos />\n          </Button>\n          {children}\n        </Card>\n      )}\n    </>\n  );\n};\n\nexport default TicketHeader;\n","import React from \"react\";\n\nimport { Avatar, CardHeader } from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\treturn (\n\t\t<CardHeader\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\n\t\t\ttitle={`${contact.name} #${ticket.id}`}\n\t\t\tsubheader={\n\t\t\t\tticket.user &&\n\t\t\t\t`${i18n.t(\"messagesList.header.assignedTo\")} ${ticket.user.name}`\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default TicketInfo;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n\ttrim: true,\n});\n\nconst TransferTicketModal = ({ modalOpen, onClose, ticketid, ticketWhatsappId }) => {\n\tconst history = useHistory();\n\tconst [options, setOptions] = useState([]);\n\tconst [queues, setQueues] = useState([]);\n\tconst [allQueues, setAllQueues] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedUser, setSelectedUser] = useState(null);\n\tconst [selectedQueue, setSelectedQueue] = useState('');\n\tconst [selectedWhatsapp, setSelectedWhatsapp] = useState(ticketWhatsappId);\n\tconst classes = useStyles();\n\tconst { findAll: findAllQueues } = useQueues();\n\tconst { loadingWhatsapps, whatsApps } = useWhatsApps();\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tconst loadQueues = async () => {\n\t\t\tconst list = await findAllQueues();\n\t\t\tsetAllQueues(list);\n\t\t\tsetQueues(list);\n\t\t}\n\t\tloadQueues();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchUsers = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"/users/\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.users);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchUsers();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedUser(null);\n\t};\n\n\tconst handleSaveTicket = async e => {\n\t\te.preventDefault();\n\t\tif (!ticketid) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tlet data = {};\n\n\t\t\tif (selectedUser) {\n\t\t\t\tdata.userId = selectedUser.id\n\t\t\t\tdata.transf = true;\n\t\t\t}\n\n\t\t\tif (selectedQueue && selectedQueue !== null) {\n\t\t\t\tdata.queueId = selectedQueue\n\n\t\t\t\tif (!selectedUser) {\n\t\t\t\t\tdata.status = 'pending';\n\t\t\t\t\tdata.userId = null;\n\t\t\t\t\tdata.transf = true\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(selectedWhatsapp) {\n\t\t\t\tdata.whatsappId = selectedWhatsapp;\n\t\t\t}\n\n\t\t\tawait api.put(`/tickets/${ticketid}`, data);\n\n\t\t\tsetLoading(false);\n\t\t\thistory.push(`/tickets`);\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<form onSubmit={handleSaveTicket}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"transferTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tstyle={{ width: 300, marginBottom: 20 }}\n\t\t\t\t\t\tgetOptionLabel={option => `${option.name}`}\n\t\t\t\t\t\tonChange={(e, newValue) => {\n\t\t\t\t\t\t\tsetSelectedUser(newValue);\n\t\t\t\t\t\t\tif (newValue != null && Array.isArray(newValue.queues)) {\n\t\t\t\t\t\t\t\tsetQueues(newValue.queues);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetQueues(allQueues);\n\t\t\t\t\t\t\t\tsetSelectedQueue('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tnoOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.maxWidth}>\n\t\t\t\t\t\t<InputLabel>{i18n.t(\"transferTicketModal.fieldQueueLabel\")}</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tvalue={selectedQueue}\n\t\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\n\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t{queues.map((queue) => (\n\t\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>{queue.name}</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<Can\n\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\tperform=\"ticket-options:transferWhatsapp\"\n\t\t\t\t\t\tyes={() => (!loadingWhatsapps && \n\t\t\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.maxWidth} style={{ marginTop: 20 }}>\n\t\t\t\t\t\t\t\t<InputLabel>{i18n.t(\"transferTicketModal.fieldConnectionLabel\")}</InputLabel>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tvalue={selectedWhatsapp}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedWhatsapp(e.target.value)}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldConnectionPlaceholder\")}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{whatsApps.map((whasapp) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem key={whasapp.id} value={whasapp.id}>{whasapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</form>\n\t\t</Dialog>\n\t);\n};\n\nexport default TransferTicketModal;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TransferTicketModal from \"../TransferTicketModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Can } from \"../Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleDeleteTicket = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenTransferModal = e => {\n\t\tsetTransferTicketModalOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleCloseTransferTicketModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetTransferTicketModalOpen(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Menu\n\t\t\t\tid=\"menu-appbar\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<Can\n\t\t\t\t\trole={user.profile}\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\n\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Menu>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\n\t\t\t\t\tticket.id\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\n\t\t\t\t\tticket.contact.name\n\t\t\t\t}?`}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteTicket}\n\t\t\t>\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<TransferTicketModal\n\t\t\t\tmodalOpen={transferTicketModalOpen}\n\t\t\t\tonClose={handleCloseTransferTicketModal}\n\t\t\t\tticketid={ticket.id}\n\t\t\t\tticketWhatsappId={ticket.whatsappId}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default TicketOptionsMenu;\n","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\tactionButtons: {\n\t\tmarginRight: 6,\n\t\tflex: \"none\",\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst TicketActionButtons = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\n\tconst { user } = useContext(AuthContext);\n\n\tconst handleOpenTicketOptionsMenu = e => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst handleCloseTicketOptionsMenu = e => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst handleUpdateTicketStatus = async (e, status, userId) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\tstatus: status,\n\t\t\t\tuserId: userId || null,\n\t\t\t});\n\t\t\t\n\t\t\t// se o STATUS for para fechar, zera os comandos do contato\n\t\t\tif (status === \"closed\") {\n\t\t\t\tconsole.log('contactId => ', ticket);\n\t\t\t\tawait api.put(`/contacts/${ticket.contactId}`, {\n\t\t\t\t\tname: ticket.contact.name,\n\t\t\t\t\tnumber: ticket.contact.number,\n\t\t\t\t\tcommandBot: '',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsetLoading(false);\n\t\t\tif (status === \"open\") {\n\t\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t\t} else {\n\t\t\t\thistory.push(\"/tickets\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.actionButtons}>\n\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t\t{ticket.status === \"open\" && (\n\t\t\t\t<>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\n\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<TicketOptionsMenu\n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TicketActionButtons;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { Button, Divider, } from \"@material-ui/core\";\n\nconst VcardPreview = ({ contact, numbers }) => {\n    const history = useHistory();\n    const { user } = useContext(AuthContext);\n\n    const [selectedContact, setContact] = useState({\n        name: \"\",\n        number: 0,\n        profilePicUrl: \"\"\n    });\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async() => {\n                try {\n                    let contactObj = {\n                        name: contact,\n                        number: numbers.replace(/\\D/g, \"\"),\n                        email: \"\"\n                    }\n                    const { data } = await api.post(\"/contact\", contactObj);\n                    setContact(data)\n\n                } catch (err) {\n                    console.log(err)\n                    toastError(err);\n                }\n            };\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [contact, numbers]);\n\n    const handleNewChat = async() => {\n        try {\n            const { data: ticket } = await api.post(\"/tickets\", {\n                contactId: selectedContact.id,\n                userId: user.id,\n                status: \"open\",\n            });\n            history.push(`/tickets/${ticket.id}`);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t<Avatar src={selectedContact.profilePicUrl} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"10px\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t{selectedContact.name}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleNewChat}\n\t\t\t\t\t\t\tdisabled={!selectedContact.number}\n\t\t\t\t\t\t>Conversar</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default VcardPreview;","import React, { useEffect } from 'react';\nimport toastError from \"../../errors/toastError\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { Button, Divider, } from \"@material-ui/core\";\n\nconst LocationPreview = ({ image, link, description }) => {\n    useEffect(() => {}, [image, link, description]);\n\n    const handleLocation = async() => {\n        try {\n            window.open(link);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ float: \"left\" }}>\n\t\t\t\t\t\t<img src={image} onClick={handleLocation} style={{ width: \"100px\" }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ description && (\n\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleLocation}\n\t\t\t\t\t\t\tdisabled={!link}\n\t\t\t\t\t\t>Visualizar</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default LocationPreview;","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const handleDeleteMessage = async () => {\n    try {\n      await api.delete(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const hanldeReplyMessage = () => {\n    setReplyingMessage(message);\n    handleClose();\n  };\n\n  const handleOpenConfirmationModal = (e) => {\n    setConfirmationOpen(true);\n    handleClose();\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n        open={confirmationOpen}\n        onClose={setConfirmationOpen}\n        onConfirm={handleDeleteMessage}\n      >\n        {i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n      </ConfirmationModal>\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        open={menuOpen}\n        onClose={handleClose}\n      >\n        {message.fromMe && (\n          <MenuItem onClick={handleOpenConfirmationModal}>\n            {i18n.t(\"messageOptionsMenu.delete\")}\n          </MenuItem>\n        )}\n        <MenuItem onClick={hanldeReplyMessage}>\n          {i18n.t(\"messageOptionsMenu.reply\")}\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n\nexport default MessageOptionsMenu;\n","import React, { useState, useEffect, useReducer, useRef } from \"react\";\n\nimport { isSameDay, parseISO, format } from \"date-fns\";\nimport openSocket from \"../../services/socket-io\";\nimport clsx from \"clsx\";\nimport jwt_decode from \"jwt-decode\";\n\n\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  CircularProgress,\n  Divider,\n  IconButton,\n  makeStyles,\n} from \"@material-ui/core\";\nimport {\n  AccessTime,\n  Block,\n  Done,\n  DoneAll,\n  ExpandMore,\n  GetApp,\n} from \"@material-ui/icons\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport VcardPreview from \"../VcardPreview\";\nimport LocationPreview from \"../LocationPreview\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\nimport whatsBackground from \"../../assets/wa-background.png\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketNunber: {\n    color: \"#808888\",\n    padding: 8,\n  },\n  messageCenter: {\n    marginTop: 5,\n    alignItems: \"center\",\n    verticalAlign: \"center\",\n    alignContent: \"center\",\n    backgroundColor: \"#E1F5FEEB\",\n    fontSize: \"12px\",\n    minWidth: 100,\n    maxWidth: 270,\n    color: \"#272727\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n  messagesListWrapper: {\n    overflow: \"hidden\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n  },\n\n  messagesList: {\n    backgroundImage: `url(${whatsBackground})`,\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    padding: \"20px 20px 20px 20px\",\n    overflowY: \"scroll\",\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingBottom: \"90px\",\n    },\n    ...theme.scrollbarStyles,\n  },\n\n  circleLoading: {\n    color: green[500],\n    position: \"absolute\",\n    opacity: \"70%\",\n    top: 0,\n    left: \"50%\",\n    marginTop: 12,\n  },\n\n  messageLeft: {\n    marginRight: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#ffffff\",\n    color: \"#303030\",\n    alignSelf: \"flex-start\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerLeft: {\n    margin: \"-3px -80px 6px -6px\",\n    overflow: \"hidden\",\n    backgroundColor: \"#f0f0f0\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsg: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  quotedSideColorLeft: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageRight: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#dcf8c6\",\n    color: \"#303030\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerRight: {\n    margin: \"-3px -80px 6px -6px\",\n    overflowY: \"hidden\",\n    backgroundColor: \"#cfe9ba\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsgRight: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    whiteSpace: \"pre-wrap\",\n  },\n\n  quotedSideColorRight: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  messageActionsButton: {\n    display: \"none\",\n    position: \"relative\",\n    color: \"#999\",\n    zIndex: 1,\n    backgroundColor: \"inherit\",\n    opacity: \"90%\",\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  textContentItemDeleted: {\n    fontStyle: \"italic\",\n    color: \"rgba(0, 0, 0, 0.36)\",\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 250,\n    height: 200,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n\n  timestamp: {\n    fontSize: 11,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\",\n  },\n\n  dailyTimestamp: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"110px\",\n    backgroundColor: \"#e1f3fb\",\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  dailyTimestampText: {\n    color: \"#808888\",\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  ackIcons: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  deletedIcon: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginRight: 4,\n  },\n\n  ackDoneAllIcon: {\n    color: green[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  downloadMedia: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"inherit\",\n    padding: 10,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_MESSAGES\") {\n    const messages = action.payload;\n    const newMessages = [];\n\n    messages.forEach((message) => {\n      const messageIndex = state.findIndex((m) => m.id === message.id);\n      if (messageIndex !== -1) {\n        state[messageIndex] = message;\n      } else {\n        newMessages.push(message);\n      }\n    });\n\n    return [...newMessages, ...state];\n  }\n\n  if (action.type === \"ADD_MESSAGE\") {\n    const newMessage = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = newMessage;\n    } else {\n      state.push(newMessage);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_MESSAGE\") {\n    const messageToUpdate = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = messageToUpdate;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst MessagesList = ({ ticketId, isGroup }) => {\n  const classes = useStyles();\n\n  const [messagesList, dispatch] = useReducer(reducer, []);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const lastMessageRef = useRef();\n\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messageOptionsMenuOpen = Boolean(anchorEl);\n  const currentTicketId = useRef(ticketId);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n\n    currentTicketId.current = ticketId;\n  }, [ticketId]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchMessages = async () => {\n        try {\n          const { data } = await api.get(\"/messages/\" + ticketId, {\n            params: { pageNumber },\n          });\n\n          if (currentTicketId.current === ticketId) {\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\n            setHasMore(data.hasMore);\n            setLoading(false);\n          }\n\n          if (pageNumber === 1 && data.messages.length > 1) {\n            scrollToBottom();\n          }\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchMessages();\n    }, 500);\n    return () => {\n      clearTimeout(delayDebounceFn);\n    };\n  }, [pageNumber, ticketId]);\n\n  useEffect(() => {\n    const socket = openSocket();\n    const token = localStorage.getItem(\"token\");\n    const userJWT = jwt_decode(token);\n\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", ticketId));\n\n    socket.on(`appMessage-${userJWT.companyId}`, (data) => {\n      console.log(data);\n      if (data.action === \"create\") {\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\n        scrollToBottom();\n      }\n\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId]);\n\n  const loadMore = () => {\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\n  const scrollToBottom = () => {\n    if (lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({});\n    }\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore) return;\n    const { scrollTop } = e.currentTarget;\n\n    if (scrollTop === 0) {\n      document.getElementById(\"messagesList\").scrollTop = 1;\n    }\n\n    if (loading) {\n      return;\n    }\n\n    if (scrollTop < 50) {\n      loadMore();\n    }\n  };\n\n  const handleOpenMessageOptionsMenu = (e, message) => {\n    setAnchorEl(e.currentTarget);\n    setSelectedMessage(message);\n  };\n\n  const handleCloseMessageOptionsMenu = (e) => {\n    setAnchorEl(null);\n  };\n\n  const checkMessageMedia = (message) => {\n    if (message.mediaType === \"location\" && message.body.split('|').length >= 2) {\n      let locationParts = message.body.split('|')\n      let imageLocation = locationParts[0]\n      let linkLocation = locationParts[1]\n\n      let descriptionLocation = null\n\n      if (locationParts.length > 2)\n        descriptionLocation = message.body.split('|')[2]\n\n      return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\n    }\n    else if (message.mediaType === \"vcard\") {\n      //console.log(\"vcard\")\n      //console.log(message)\n      let array = message.body.split(\"\\n\");\n      let obj = [];\n      let contact = \"\";\n      for (let index = 0; index < array.length; index++) {\n        const v = array[index];\n        let values = v.split(\":\");\n        for (let ind = 0; ind < values.length; ind++) {\n          if (values[ind].indexOf(\"+\") !== -1) {\n            obj.push({ number: values[ind] });\n          }\n          if (values[ind].indexOf(\"FN\") !== -1) {\n            contact = values[ind + 1];\n          }\n        }\n      }\n      return <VcardPreview contact={contact} numbers={obj[0].number} />\n    }\n    /*else if (message.mediaType === \"multi_vcard\") {\n      console.log(\"multi_vcard\")\n      console.log(message)\n    \t\n      if(message.body !== null && message.body !== \"\") {\n        let newBody = JSON.parse(message.body)\n        return (\n          <>\n            {\n            newBody.map(v => (\n              <VcardPreview contact={v.name} numbers={v.number} />\n            ))\n            }\n          </>\n        )\n      } else return (<></>)\n    }*/\n    else if (message.mediaType === \"image\") {\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\n    } else if (message.mediaType === \"audio\") {\n      return (\n        <audio controls>\n          <source src={message.mediaUrl} type=\"audio/ogg\"></source>\n        </audio>\n      );\n    } else if (message.mediaType === \"video\") {\n      return (\n        <video\n          className={classes.messageMedia}\n          src={message.mediaUrl}\n          controls\n        />\n      );\n    } else {\n      return (\n        <>\n          <div className={classes.downloadMedia}>\n            <Button\n              startIcon={<GetApp />}\n              color=\"primary\"\n              variant=\"outlined\"\n              target=\"_blank\"\n              href={message.mediaUrl}\n            >\n              Download\n            </Button>\n          </div>\n          <Divider />\n        </>\n      );\n    }\n  };\n\n  const renderMessageAck = (message) => {\n    if (message.ack === 0) {\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 1) {\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 2) {\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 3 || message.ack === 4) {\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\n    }\n  };\n\n  const renderDailyTimestamps = (message, index) => {\n    if (index === 0) {\n      return (\n        <span\n          className={classes.dailyTimestamp}\n          key={`timestamp-${message.id}`}\n        >\n          <div className={classes.dailyTimestampText}>\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n          </div>\n        </span>\n      );\n    }\n    if (index < messagesList.length - 1) {\n      let messageDay = parseISO(messagesList[index].createdAt);\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\n\n      if (!isSameDay(messageDay, previousMessageDay)) {\n        return (\n          <span\n            className={classes.dailyTimestamp}\n            key={`timestamp-${message.id}`}\n          >\n            <div className={classes.dailyTimestampText}>\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n            </div>\n          </span>\n        );\n      }\n    }\n    if (index === messagesList.length - 1) {\n      return (\n        <div\n          key={`ref-${message.createdAt}`}\n          ref={lastMessageRef}\n          style={{ float: \"left\", clear: \"both\" }}\n        />\n      );\n    }\n  };\n\n  const renderNumberTicket = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageTicket = message.ticketId;\n      let previousMessageTicket = messagesList[index - 1].ticketId;\n\n      if (messageTicket !== previousMessageTicket) {\n        return (\n          <div key={`ticket-${message.id}`} className={classes.ticketNunber}>\n            #ticket: {messageTicket}\n            <hr />\n          </div>\n        );\n      }\n    }\n  };\n\n\n  const renderMessageDivider = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageUser = messagesList[index].fromMe;\n      let previousMessageUser = messagesList[index - 1].fromMe;\n\n      if (messageUser !== previousMessageUser) {\n        return (\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\n        );\n      }\n    }\n  };\n\n  const renderQuotedMessage = (message) => {\n    return (\n      <div\n        className={clsx(classes.quotedContainerLeft, {\n          [classes.quotedContainerRight]: message.fromMe,\n        })}\n      >\n        <span\n          className={clsx(classes.quotedSideColorLeft, {\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\n          })}\n        ></span>\n        <div className={classes.quotedMsg}>\n          {!message.quotedMsg?.fromMe && (\n            <span className={classes.messageContactName}>\n              {message.quotedMsg?.contact?.name}\n            </span>\n          )}\n          {message.quotedMsg?.body}\n        </div>\n      </div>\n    );\n  };\n\n  const renderMessages = () => {\n    if (messagesList.length > 0) {\n      const viewMessagesList = messagesList.map((message, index) => {\n\n\n        if (message.mediaType === \"call_log\") {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageCenter}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                <div>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\n                    <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\n                  </svg> <span>Chamada de voz/vídeo perdida às {format(parseISO(message.createdAt), \"HH:mm\")}</span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n\n        if (!message.fromMe) {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageLeft}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                {(message.mediaUrl || message.mediaType === \"location\" || message.mediaType === \"vcard\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div className={classes.textContentItem}>\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageRight}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {(message.mediaUrl || message.mediaType === \"location\" || message.mediaType === \"vcard\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div\n                  className={clsx(classes.textContentItem, {\n                    [classes.textContentItemDeleted]: message.isDeleted,\n                  })}\n                >\n                  {message.isDeleted && (\n                    <Block\n                      color=\"disabled\"\n                      fontSize=\"small\"\n                      className={classes.deletedIcon}\n                    />\n                  )}\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                    {renderMessageAck(message)}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n      });\n      return viewMessagesList;\n    } else {\n      return <div>Say hello to your new contact!</div>;\n    }\n  };\n\n  return (\n    <div className={classes.messagesListWrapper}>\n      <MessageOptionsMenu\n        message={selectedMessage}\n        anchorEl={anchorEl}\n        menuOpen={messageOptionsMenuOpen}\n        handleClose={handleCloseMessageOptionsMenu}\n      />\n      <div\n        id=\"messagesList\"\n        className={classes.messagesList}\n        onScroll={handleScroll}\n      >\n        {messagesList.length > 0 ? renderMessages() : []}\n      </div>\n      {loading && (\n        <div>\n          <CircularProgress className={classes.circleLoading} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesList;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\nimport openSocket from \"../../services/socket-io\";\nimport clsx from \"clsx\";\n\nimport { Paper, makeStyles } from \"@material-ui/core\";\n\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInput/\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport TicketActionButtons from \"../TicketActionButtons\";\nimport MessagesList from \"../MessagesList\";\nimport api from \"../../services/api\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\nimport jwt_decode from \"jwt-decode\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  ticketInfo: {\n    maxWidth: \"50%\",\n    flexBasis: \"50%\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"80%\",\n      flexBasis: \"80%\",\n    },\n  },\n  ticketActionButtons: {\n    maxWidth: \"50%\",\n    flexBasis: \"50%\",\n    display: \"flex\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"100%\",\n      flexBasis: \"100%\",\n      marginBottom: \"5px\",\n    },\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nconst Ticket = () => {\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n          const { data } = await api.get(\"/tickets/\" + ticketId);\n\n          setContact(data.contact);\n          setTicket(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, history]);\n\n  useEffect(() => {\n    const socket = openSocket();\n    const token = localStorage.getItem(\"token\");\n    const userJWT = jwt_decode(token);\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", ticketId));\n\n\n    socket.on(`ticket-${userJWT.companyId}`, (data) => {\n      if (data.action === \"update\") {\n        setTicket(data.ticket);\n      }\n\n      if (data.action === \"delete\") {\n        toast.success(\"Ticket deleted sucessfully.\");\n        history.push(\"/tickets\");\n      }\n    });\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\") {\n        setContact((prevState) => {\n          if (prevState.id === data.contact?.id) {\n            return { ...prevState, ...data.contact };\n          }\n          return prevState;\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, history]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerOpen(false);\n  };\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        <TicketHeader loading={loading}>\n          <div className={classes.ticketInfo}>\n            <TicketInfo\n              contact={contact}\n              ticket={ticket}\n              onClick={handleDrawerOpen}\n            />\n          </div>\n          <div className={classes.ticketActionButtons}>\n            <TicketActionButtons ticket={ticket} />\n          </div>\n        </TicketHeader>\n        <ReplyMessageProvider>\n          <MessagesList\n            ticketId={ticketId}\n            isGroup={ticket.isGroup}\n          ></MessagesList>\n          <MessageInput ticketStatus={ticket.status} />\n        </ReplyMessageProvider>\n      </Paper>\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n      />\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TicketsManager from \"../../components/TicketsManager/\";\nimport Ticket from \"../../components/Ticket/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport Hidden from \"@material-ui/core/Hidden\";\n\nconst useStyles = makeStyles((theme) => ({\n  chatContainer: {\n    flex: 1,\n    // // backgroundColor: \"#eee\",\n    // padding: theme.spacing(4),\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n  },\n\n  chatPapper: {\n    // backgroundColor: \"red\",\n    display: \"flex\",\n    height: \"100%\",\n  },\n\n  contactsWrapper: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflowY: \"hidden\",\n  },\n  contactsWrapperSmall: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflowY: \"hidden\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  messagessWrapper: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n  },\n  welcomeMsg: {\n    backgroundColor: \"#eee\",\n    display: \"flex\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\",\n    height: \"100%\",\n    textAlign: \"center\",\n    borderRadius: 0,\n  },\n  ticketsManager: {},\n  ticketsManagerClosed: {\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n}));\n\nconst Chat = () => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  return (\n    <div className={classes.chatContainer}>\n      <div className={classes.chatPapper}>\n        <Grid container spacing={0}>\n          {/* <Grid item xs={4} className={classes.contactsWrapper}> */}\n          <Grid\n            item\n            xs={12}\n            md={4}\n            className={\n              ticketId ? classes.contactsWrapperSmall : classes.contactsWrapper\n            }\n          >\n            <TicketsManager />\n          </Grid>\n          <Grid item xs={12} md={8} className={classes.messagessWrapper}>\n            {/* <Grid item xs={8} className={classes.messagessWrapper}> */}\n            {ticketId ? (\n              <>\n                <Ticket />\n              </>\n            ) : (\n              <Hidden only={[\"sm\", \"xs\"]}>\n                <Paper className={classes.welcomeMsg}>\n                  {/* <Paper square variant=\"outlined\" className={classes.welcomeMsg}> */}\n                  <span>{i18n.t(\"chat.noTicketMessage\")}</span>\n                </Paper>\n              </Hidden>\n            )}\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import React, { useState } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport {\n\tAvatar,\n\tButton,\n\tCssBaseline,\n\tTextField,\n\tGrid,\n\tBox,\n\tTypography,\n\tContainer,\n\tInputAdornment,\n\tIconButton,\n\tLink\n} from '@material-ui/core';\n\nimport { LockOutlined, Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\n// const Copyright = () => {\n// \treturn (\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n// \t\t\t{\"Copyleft \"}\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\n// \t\t\t\tCanove\n// \t\t\t</Link>{\" \"}\n// \t\t\t{new Date().getFullYear()}\n// \t\t\t{\".\"}\n// \t\t</Typography>\n// \t);\n// };\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst SignUp = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\n\tconst initialState = { name: \"\", email: \"\", password: \"\" };\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst [user] = useState(initialState);\n\n\tconst handleSignUp = async values => {\n\t\ttry {\n\t\t\tawait api.post(\"/auth/signup\", values);\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t<LockOutlined />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"signup.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSignUp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form className={classes.form}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.login\")}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t\t<Box mt={5}>{/* <Copyright /> */}</Box>\n\t\t</Container>\n\t);\n};\n\nexport default SignUp;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport {\n    TextField,\n    InputAdornment,\n    IconButton\n} from '@material-ui/core';\n\nimport { LockOutlined, Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport './style.css';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport wave from './img/wave.png'\nimport bg from './img/bg.svg'\nimport avatar from './img/avatar.svg'\n\nconst Login = () => {\n    const [user, setUser] = useState({ email: \"\", password: \"\" });\n    const [showPassword, setShowPassword] = useState(false);\n\n    const { handleLogin } = useContext(AuthContext);\n\n    const handleChangeInput = (e) => {\n        setUser({ ...user, [e.target.name]: e.target.value });\n    };\n\n    const handlSubmit = (e) => {\n        console.log(user)\n        e.preventDefault();\n        handleLogin(user);\n    };\n\n    return (\n        <>\n            <img className=\"wave\" src={wave} />\n            <div className=\"container\">\n                <div className=\"img\">\n                    <img src={bg} />\n                </div>\n                <div className=\"login-content\">\n                    <form noValidate onSubmit={handlSubmit}>\n                        <img src={avatar} />\n                        <TextField\n                            variant=\"standard\"\n                            margin=\"normal\"\n\t\t\t\t\t\t\tcolor=\"warning\"\n                            required\n                            fullWidth\n                            id=\"email\"\n                            label={i18n.t(\"login.form.email\")}\n                            name=\"email\"\n                            value={user.email}\n                            onChange={handleChangeInput}\n                            autoComplete=\"email\"\n                            autoFocus\n                        />\n                        <TextField\n                            variant=\"standard\"\n                            margin=\"normal\"\n\t\t\t\t\t\t\tcolor=\"success\"\n                            required\n                            fullWidth\n                            name=\"password\"\n                            label={i18n.t(\"login.form.password\")}\n                            id=\"password\"\n                            value={user.password}\n                            onChange={handleChangeInput}\n                            autoComplete=\"current-password\"\n                            type={showPassword ? 'text' : 'password'}\n                            InputProps={{\n                                endAdornment: (\n                                    <InputAdornment position=\"end\">\n                                        <IconButton\n                                            aria-label=\"toggle password visibility\"\n                                            onClick={() => setShowPassword((e) => !e)}\n                                        >\n                                            {showPassword ? <VisibilityOff /> : <Visibility />}\n                                        </IconButton>\n                                    </InputAdornment>\n                                )\n                            }}\n                        />\n                        <input type=\"submit\" className=\"btn\" value=\"Acessar\" />\n                    </form>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Login;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    flex: 1,\n    // padding: theme.spacing(2),\n    // height: `calc(100% - 48px)`,\n    padding: 0,\n    height: \"100%\",\n  },\n\n  contentWrapper: {\n    height: \"100%\",\n    overflowY: \"hidden\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst MainContainer = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <Container className={classes.mainContainer} maxWidth={false}>\n      <div className={classes.contentWrapper}>{children}</div>\n    </Container>\n  );\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogTitle,\n\tButton,\n\tDialogActions,\n\tCircularProgress,\n\tTextField,\n\tSwitch,\n\tFormControlLabel,\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst SessionSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tname: \"\",\n\t\tgreetingMessage: \"\",\n\t\tfarewellMessage: \"\",\n\t\tisDefault: false,\n\t};\n\tconst [whatsApp, setWhatsApp] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\tif (!whatsAppId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`whatsapp/${whatsAppId}`);\n\t\t\t\tsetWhatsApp(data);\n\n\t\t\t\tconst whatsQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(whatsQueueIds);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, [whatsAppId]);\n\n\tconst handleSaveWhatsApp = async values => {\n\t\tconst whatsappData = { ...values, queueIds: selectedQueueIds };\n\n\t\ttry {\n\t\t\tif (whatsAppId) {\n\t\t\t\tawait api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/whatsapp\", whatsappData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"whatsappModal.success\"));\n\t\t\thandleClose();\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetWhatsApp(initialState);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"sm\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle>\n\t\t\t\t\t{whatsAppId\n\t\t\t\t\t\t? i18n.t(\"whatsappModal.title.edit\")\n\t\t\t\t\t\t: i18n.t(\"whatsappModal.title.add\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={whatsApp}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={SessionSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveWhatsApp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"whatsappModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"isDefault\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.isDefault}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"whatsappModal.form.default\")}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.greetingMessage\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && Boolean(errors.greetingMessage)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && errors.greetingMessage\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"whatsappModal.form.farewellMessage\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"farewellMessage\"\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"farewellMessage\"\n\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\ttouched.farewellMessage && Boolean(errors.farewellMessage)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\ttouched.farewellMessage && errors.farewellMessage\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\tonChange={selectedIds => setSelectedQueueIds(selectedIds)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"whatsappModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{whatsAppId\n\t\t\t\t\t\t\t\t\t\t? i18n.t(\"whatsappModal.buttons.okEdit\")\n\t\t\t\t\t\t\t\t\t\t: i18n.t(\"whatsappModal.buttons.okAdd\")}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default React.memo(WhatsAppModal);\n","import React, { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport openSocket from \"../../services/socket-io\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n\tconst [qrCode, setQrCode] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\tif (!whatsAppId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/whatsapp/${whatsAppId}`);\n\t\t\t\tsetQrCode(data.qrcode);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, [whatsAppId]);\n\n\tuseEffect(() => {\n\t\tif (!whatsAppId) return;\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\" && data.session.id === whatsAppId) {\n\t\t\t\tsetQrCode(data.session.qrcode);\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && data.session.qrcode === \"\") {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [whatsAppId, onClose]);\n\n\treturn (\n\t\t<Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<DialogContent>\n\t\t\t\t<Paper elevation={0}>\n\t\t\t\t\t<Typography color=\"primary\" gutterBottom>\n\t\t\t\t\t\t{i18n.t(\"qrCode.message\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{qrCode ? (\n\t\t\t\t\t\t<QRCode value={qrCode} size={256} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span>Waiting for QR Code</span>\n\t\t\t\t\t)}\n\t\t\t\t</Paper>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n\nexport default React.memo(QrcodeModal);\n","import React, { useState, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO } from \"date-fns\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n\tButton,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tIconButton,\n\tTable,\n\tTableHead,\n\tPaper,\n\tTooltip,\n\tTypography,\n\tCircularProgress,\n} from \"@material-ui/core\";\nimport {\n\tEdit,\n\tCheckCircle,\n\tSignalCellularConnectedNoInternet2Bar,\n\tSignalCellularConnectedNoInternet0Bar,\n\tSignalCellular4Bar,\n\tCropFree,\n\tDeleteOutline,\n} from \"@material-ui/icons\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nconst Connections = () => {\n\tconst classes = useStyles();\n\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\tconst confirmationModalInitialState = {\n\t\taction: \"\",\n\t\ttitle: \"\",\n\t\tmessage: \"\",\n\t\twhatsAppId: \"\",\n\t\topen: false,\n\t};\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\n\t\tconfirmationModalInitialState\n\t);\n\n\tconst handleStartWhatsAppSession = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleRequestNewQrCode = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenWhatsAppModal = () => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleCloseWhatsAppModal = useCallback(() => {\n\t\tsetWhatsAppModalOpen(false);\n\t\tsetSelectedWhatsApp(null);\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n\tconst handleOpenQrModal = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetQrModalOpen(true);\n\t};\n\n\tconst handleCloseQrModal = useCallback(() => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetQrModalOpen(false);\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\n\n\tconst handleEditWhatsApp = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\n\t\tif (action === \"disconnect\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\t\tsetConfirmModalOpen(true);\n\t};\n\n\tconst handleSubmitConfirmationModal = async () => {\n\t\tif (confirmModalInfo.action === \"disconnect\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tif (confirmModalInfo.action === \"delete\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\n\t};\n\n\tconst renderActionButtons = whatsApp => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\n\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst renderStatusToolTips = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CropFree />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={confirmModalInfo.title}\n\t\t\t\topen={confirmModalOpen}\n\t\t\t\tonClose={setConfirmModalOpen}\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\n\t\t\t>\n\t\t\t\t{confirmModalInfo.message}\n\t\t\t</ConfirmationModal>\n\t\t\t<QrcodeModal\n\t\t\t\topen={qrModalOpen}\n\t\t\t\tonClose={handleCloseQrModal}\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<WhatsAppModal\n\t\t\t\topen={whatsAppModalOpen}\n\t\t\t\tonClose={handleCloseWhatsAppModal}\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<MainHeader>\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\n\t\t\t\t<MainHeaderButtonsWrapper>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</MainHeaderButtonsWrapper>\n\t\t\t</MainHeader>\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\n\t\t\t\t<Table size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t<TableRowSkeleton />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</Paper>\n\t\t</MainContainer>\n\t);\n};\n\nexport default Connections;\n","import React, { useState, useEffect } from \"react\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { toast } from \"react-toastify\";\nimport jwt_decode from \"jwt-decode\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n.js\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(8, 8, 3),\n\t},\n\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tmarginBottom: 12,\n\n\t},\n\n\tsettingOption: {\n\t\tmarginLeft: \"auto\",\n\t},\n\tmargin: {\n\t\tmargin: theme.spacing(1),\n\t},\n\n}));\n\nconst Settings = () => {\n\tconst classes = useStyles();\n\n\tconst [settings, setSettings] = useState([]);\n\tconst [company, setCompany] = useState(0);\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\tconst token = localStorage.getItem(\"token\");\n\t\t\tconst userJWT = jwt_decode(token);\n\t\t\tconsole.log(`fffff::: `, userJWT)\n\t\t\tsetCompany(userJWT.companyId);\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/settings\");\n\t\t\t\tconsole.log(data)\n\t\t\t\tsetSettings(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"settings\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tsetSettings(prevState => {\n\t\t\t\t\tconst aux = [...prevState];\n\t\t\t\t\tconst settingIndex = aux.findIndex(s => s.key === data.setting.key);\n\t\t\t\t\taux[settingIndex].value = data.setting.value;\n\t\t\t\t\treturn aux;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\tconst handleChangeSetting = async e => {\n\t\tconst selectedValue = e.target.value;\n\t\tconst settingKey = e.target.name;\n\n\t\ttry {\n\t\t\tawait api.put(`/settings/${settingKey}`, {\n\t\t\t\tvalue: selectedValue,\n\t\t\t});\n\t\t\ttoast.success(i18n.t(\"settings.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst getSettingValue = key => {\n\t\tconsole.log(key)\n\t\ttry {\n\t\t\tconst { value } = settings.find(s => s.key === key);\n\t\t\treturn value;\n\t\t} catch (error) {\n\t\t\treturn ''\n\t\t}\n\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\n\t\t\t\t<Typography variant=\"body2\" gutterBottom>\n\t\t\t\t\t{i18n.t(\"settings.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"userCreation-setting\"\n\t\t\t\t\t\tname=\"userCreation\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"userCreation\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\n\t\t\t\t</Paper>\n\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid=\"api-token-setting\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t\tlabel=\"Token Api\"\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvalue={settings && settings.length > 0 && getSettingValue(`userApiToken-${company}`)}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\n\t\t\t</Container>\n\t\t</div>\n\t);\n};\n\nexport default Settings;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\n\nimport jwt_decode from \"jwt-decode\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    const token = localStorage.getItem(\"token\");\n    const userJWT = jwt_decode(token);\n\n    socket.on(`user-${userJWT.companyId}`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.profile\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">{user.whatsapp?.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tCircularProgress,\n\tSelect,\n\tInputLabel,\n\tMenuItem,\n\tFormControl,\n\tTextField,\n\tInputAdornment,\n\tIconButton\n} from '@material-ui/core';\n\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst CompanySchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Nome é obrigatório\"),\n\tpasswordDefault: Yup.string().min(5, \"Senha está curta\").max(20, \"Senha está muito longa\").required(\"Senha é obrigatório\"),\n\temail: Yup.string().email(\"Email é inválido\").required(\"E-mail é obrigatório\"),\n\tnumberAttendants: Yup.number(),\n\tnumberConections: Yup.number(),\n});\n\nconst CompanyModal = ({ open, onClose, companyId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpasswordDefault: \"\",\n\t\tnumberAttendants: 1,\n\t\tnumberConections: 1,\n\t};\n\n\tconst [company, setCompany] = useState(initialState);\n\tconst [showPassword, setShowPassword] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst fetchCompany = async () => {\n\t\t\tif (!companyId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/company/${companyId}`);\n\t\t\t\tsetCompany(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchCompany();\n\t}, [companyId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetCompany(initialState);\n\t};\n\n\tconst handleSaveCompany = async values => {\n\t\tconst companyData = { ...values };\n\t\ttry {\n\t\t\tif (companyId) {\n\t\t\t\tawait api.put(`/company/${companyId}`, companyData);\n\t\t\t} else {\n\t\t\t\tconsole.log('Teste', companyData)\n\t\t\t\tawait api.post(\"/company\", companyData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"companyModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{companyId\n\t\t\t\t\t\t? `${i18n.t(\"companyModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"companyModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={company}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={CompanySchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveCompany(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tname=\"passwordDefault\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.passwordDefault\")}\n\t\t\t\t\t\t\t\t\t\terror={touched.passwordDefault && Boolean(errors.passwordDefault)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.passwordDefault && errors.passwordDefault}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.numberAttendants\")}\n\t\t\t\t\t\t\t\t\t\tname=\"numberAttendants\"\n\t\t\t\t\t\t\t\t\t\terror={touched.numberAttendants && Boolean(errors.numberAttendants)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.numberAttendants && errors.numberAttendants}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.numberConections\")}\n\t\t\t\t\t\t\t\t\t\tname=\"numberConections\"\n\t\t\t\t\t\t\t\t\t\terror={touched.numberConections && Boolean(errors.numberConections)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.numberConections && errors.numberConections}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"companyModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{companyId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"companyModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"companyModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default CompanyModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CompanyModal from \"../../components/CompaniesModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_COMPANIES\") {\n    const companies = action.payload;\n    const newCompanies = [];\n\n    companies.forEach((company) => {\n      const companyIndex = state.findIndex((u) => u.id === company.id);\n      if (companyIndex !== -1) {\n        state[companyIndex] = company;\n      } else {\n        newCompanies.push(company);\n      }\n    });\n\n    return [...state, ...newCompanies];\n  }\n\n  if (action.type === \"UPDATE_COMPANIES\") {\n    const company = action.payload;\n    const companyIndex = state.findIndex((u) => u.id === company.id);\n\n    if (companyIndex !== -1) {\n      state[companyIndex] = company;\n      return [...state];\n    } else {\n      return [company, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_COMPANIES\") {\n    const companyId = action.payload;\n\n    const companyIndex = state.findIndex((u) => u.id === companyId);\n    if (companyIndex !== -1) {\n      state.splice(companyIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Companies = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedCompany, setSelectedCompany] = useState(null);\n  const [deletingCompany, setDeletingCompany] = useState(null);\n  const [companyModalOpen, setCompanyModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [companies, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchCompanies = async () => {\n        try {\n          const { data } = await api.get(\"/company/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_COMPANIES\", payload: data.company });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchCompanies();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenCompanyModal = () => {\n    setSelectedCompany(null);\n    setCompanyModalOpen(true);\n  };\n\n  const handleCloseCompanyModal = () => {\n    setSelectedCompany(null);\n    setCompanyModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditCompany = (company) => {\n    setSelectedCompany(company);\n    setCompanyModalOpen(true);\n  };\n\n  const handleDeleteCompany = async (companyId) => {\n    try {\n      await api.delete(`/company/${companyId}`);\n      toast.success(i18n.t(\"compaies.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingCompany(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingCompany &&\n          `${i18n.t(\"compaies.confirmationModal.deleteTitle\")} ${deletingCompany.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteCompany(deletingCompany.id)}\n      >\n        {i18n.t(\"compaies.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <CompanyModal\n        open={companyModalOpen}\n        onClose={handleCloseCompanyModal}\n        aria-labelledby=\"form-dialog-title\"\n        companyId={selectedCompany && selectedCompany.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"compaies.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenCompanyModal}\n          >\n            {i18n.t(\"compaies.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"compaies.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"compaies.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"compaies.table.numberAttendants\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"compaies.table.numberConections\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"compaies.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {companies.map((company) => (\n                <TableRow key={company.id}>\n                  <TableCell align=\"center\">{company.name}</TableCell>\n                  <TableCell align=\"center\">{company.email}</TableCell>\n                  <TableCell align=\"center\">{company.numberAttendants}</TableCell>\n                  <TableCell align=\"center\">{company.numberConections}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditCompany(company)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingCompany(company);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Companies;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport openSocket from \"../../services/socket-io\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport jwt_decode from \"jwt-decode\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/contacts/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    const token = localStorage.getItem(\"token\");\n    const userJWT = jwt_decode(token);\n\n    socket.on(`contact-${userJWT.companyId}`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const handleSaveTicket = async (contactId) => {\n    if (!contactId) return;\n    setLoading(true);\n    try {\n      const { data: ticket } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        userId: user?.id,\n        status: \"open\",\n      });\n      history.push(`/tickets/${ticket.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n    setLoading(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contacts/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleimportContact = async () => {\n    try {\n      await api.post(\"/contacts/import\");\n      history.go(0);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${deletingContact.name\n            }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={(e) =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleimportContact()\n        }\n      >\n        {deletingContact\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>{i18n.t(\"contacts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => setConfirmOpen(true)}\n          >\n            {i18n.t(\"contacts.buttons.import\")}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenContactModal}\n          >\n            {i18n.t(\"contacts.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\" />\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell style={{ paddingRight: 0 }}>\n                    {<Avatar src={contact.profilePicUrl} />}\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleSaveTicket(contact.id)}\n                    >\n                      <WhatsAppIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  makeStyles,\n  Button,\n  TextField,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { green } from \"@material-ui/core/colors\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    width: \"100%\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  textQuickAnswerContainer: {\n    width: \"100%\",\n  },\n}));\n\nconst QuickAnswerSchema = Yup.object().shape({\n  shortcut: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(15, \"Too Long!\")\n    .required(\"Required\"),\n  message: Yup.string()\n    .min(8, \"Too Short!\")\n    .max(30000, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst QuickAnswersModal = ({\n  open,\n  onClose,\n  quickAnswerId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const initialState = {\n    shortcut: \"\",\n    message: \"\",\n  };\n\n  const [quickAnswer, setQuickAnswer] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchQuickAnswer = async () => {\n      if (initialValues) {\n        setQuickAnswer((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!quickAnswerId) return;\n\n      try {\n        const { data } = await api.get(`/quickAnswers/${quickAnswerId}`);\n        if (isMounted.current) {\n          setQuickAnswer(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchQuickAnswer();\n  }, [quickAnswerId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setQuickAnswer(initialState);\n  };\n\n  const handleSaveQuickAnswer = async (values) => {\n    try {\n      if (quickAnswerId) {\n        await api.put(`/quickAnswers/${quickAnswerId}`, values);\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/quickAnswers\", values);\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"quickAnswersModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"sm\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {quickAnswerId\n            ? `${i18n.t(\"quickAnswersModal.title.edit\")}`\n            : `${i18n.t(\"quickAnswersModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={quickAnswer}\n          enableReinitialize={true}\n          validationSchema={QuickAnswerSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveQuickAnswer(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.shortcut\")}\n                    name=\"shortcut\"\n                    autoFocus\n                    error={touched.shortcut && Boolean(errors.shortcut)}\n                    helperText={touched.shortcut && errors.shortcut}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.message\")}\n                    name=\"message\"\n                    error={touched.message && Boolean(errors.message)}\n                    helperText={touched.message && errors.message}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    multiline\n                    rows={5}\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"quickAnswersModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {quickAnswerId\n                    ? `${i18n.t(\"quickAnswersModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"quickAnswersModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QuickAnswersModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"../../services/socket-io\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  InputAdornment,\n  TextField,\n} from \"@material-ui/core\";\nimport { Edit, DeleteOutline } from \"@material-ui/icons\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport jwt_decode from \"jwt-decode\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickAnswersModal from \"../../components/QuickAnswersModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { toast } from \"react-toastify\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICK_ANSWERS\") {\n    const quickAnswers = action.payload;\n    const newQuickAnswers = [];\n\n    quickAnswers.forEach((quickAnswer) => {\n      const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n      if (quickAnswerIndex !== -1) {\n        state[quickAnswerIndex] = quickAnswer;\n      } else {\n        newQuickAnswers.push(quickAnswer);\n      }\n    });\n\n    return [...state, ...newQuickAnswers];\n  }\n\n  if (action.type === \"UPDATE_QUICK_ANSWERS\") {\n    const quickAnswer = action.payload;\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n\n    if (quickAnswerIndex !== -1) {\n      state[quickAnswerIndex] = quickAnswer;\n      return [...state];\n    } else {\n      return [quickAnswer, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICK_ANSWERS\") {\n    const quickAnswerId = action.payload;\n\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswerId);\n    if (quickAnswerIndex !== -1) {\n      state.splice(quickAnswerIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst QuickAnswers = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickAnswers, dispatch] = useReducer(reducer, []);\n  const [selectedQuickAnswers, setSelectedQuickAnswers] = useState(null);\n  const [quickAnswersModalOpen, setQuickAnswersModalOpen] = useState(false);\n  const [deletingQuickAnswers, setDeletingQuickAnswers] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchQuickAnswers = async () => {\n        try {\n          const { data } = await api.get(\"/quickAnswers/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_QUICK_ANSWERS\", payload: data.quickAnswers });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchQuickAnswers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    const token = localStorage.getItem(\"token\");\n    const userJWT = jwt_decode(token);\n\n    socket.on(`quickAnswer-${userJWT.companyId}`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICK_ANSWERS\", payload: data.quickAnswer });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({\n          type: \"DELETE_QUICK_ANSWERS\",\n          payload: +data.quickAnswerId,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleCloseQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(false);\n  };\n\n  const handleEditQuickAnswers = (quickAnswer) => {\n    setSelectedQuickAnswers(quickAnswer);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleDeleteQuickAnswers = async (quickAnswerId) => {\n    try {\n      await api.delete(`/quickAnswers/${quickAnswerId}`);\n      toast.success(i18n.t(\"quickAnswers.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickAnswers(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingQuickAnswers &&\n          `${i18n.t(\"quickAnswers.confirmationModal.deleteTitle\")} ${deletingQuickAnswers.shortcut\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickAnswers(deletingQuickAnswers.id)}\n      >\n        {i18n.t(\"quickAnswers.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickAnswersModal\n        open={quickAnswersModalOpen}\n        onClose={handleCloseQuickAnswersModal}\n        aria-labelledby=\"form-dialog-title\"\n        quickAnswerId={selectedQuickAnswers && selectedQuickAnswers.id}\n      ></QuickAnswersModal>\n      <MainHeader>\n        <Title>{i18n.t(\"quickAnswers.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"quickAnswers.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQuickAnswersModal}\n          >\n            {i18n.t(\"quickAnswers.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.shortcut\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.message\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickAnswers.map((quickAnswer) => (\n                <TableRow key={quickAnswer.id}>\n                  <TableCell align=\"center\">{quickAnswer.shortcut}</TableCell>\n                  <TableCell align=\"center\">{quickAnswer.message}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQuickAnswers(quickAnswer)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickAnswers(quickAnswer);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QuickAnswers;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { GithubPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n  const [selectedColor, setSelectedColor] = useState(currentColor);\n  const colors = [\n    \"#B80000\",\n    \"#DB3E00\",\n    \"#FCCB00\",\n    \"#008B02\",\n    \"#006B76\",\n    \"#1273DE\",\n    \"#004DCF\",\n    \"#5300EB\",\n    \"#EB9694\",\n    \"#FAD0C3\",\n    \"#FEF3BD\",\n    \"#C1E1C5\",\n    \"#BEDADC\",\n    \"#C4DEF6\",\n    \"#BED3F3\",\n    \"#D4C4FB\",\n    \"#4D4D4D\",\n    \"#999999\",\n    \"#FFFFFF\",\n    \"#F44E3B\",\n    \"#FE9200\",\n    \"#FCDC00\",\n    \"#DBDF00\",\n    \"#A4DD00\",\n    \"#68CCCA\",\n    \"#73D8FF\",\n    \"#AEA1FF\",\n    \"#FDA1FF\",\n    \"#333333\",\n    \"#808080\",\n    \"#cccccc\",\n    \"#D33115\",\n    \"#E27300\",\n    \"#FCC400\",\n    \"#B0BC00\",\n    \"#68BC00\",\n    \"#16A5A5\",\n    \"#009CE0\",\n    \"#7B64FF\",\n    \"#FA28FF\",\n    \"#666666\",\n    \"#B3B3B3\",\n    \"#9F0500\",\n    \"#C45100\",\n    \"#FB9E00\",\n    \"#808900\",\n    \"#194D33\",\n    \"#0C797D\",\n    \"#0062B1\",\n    \"#653294\",\n    \"#AB149E\",\n  ];\n\n  const handleChange = (color) => {\n    setSelectedColor(color.hex);\n    handleClose();\n  };\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n      maxWidth=\"xs\"\n      paperFullWidth\n    >\n      <GithubPicker\n        width={\"100%\"}\n        triangle=\"hide\"\n        color={selectedColor}\n        colors={colors}\n        onChange={handleChange}\n        onChangeComplete={(color) => onChange(color.hex)}\n      />\n    </Dialog>\n  );\n};\n\nexport default ColorPicker;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\nimport { Colorize } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst QueueSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tcolor: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n\tgreetingMessage: Yup.string(),\n});\n\nconst QueueModal = ({ open, onClose, queueId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\",\n\t\tgreetingMessage: \"\",\n\t};\n\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\tconst [queue, setQueue] = useState(initialState);\n\tconst greetingRef = useRef();\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tif (!queueId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/queue/${queueId}`);\n\t\t\t\tsetQueue(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\n\t\treturn () => {\n\t\t\tsetQueue({\n\t\t\t\tname: \"\",\n\t\t\t\tcolor: \"\",\n\t\t\t\tgreetingMessage: \"\",\n\t\t\t});\n\t\t};\n\t}, [queueId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetQueue(initialState);\n\t};\n\n\tconst handleSaveQueue = async values => {\n\t\ttry {\n\t\t\tif (queueId) {\n\t\t\t\tawait api.put(`/queue/${queueId}`, values);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/queue\", values);\n\t\t\t}\n\t\t\ttoast.success(\"Queue saved successfully\");\n\t\t\thandleClose();\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} scroll=\"paper\">\n\t\t\t\t<DialogTitle>\n\t\t\t\t\t{queueId\n\t\t\t\t\t\t? `${i18n.t(\"queueModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"queueModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={queue}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={QueueSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveQueue(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.name\")}\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\tinputRef={greetingRef} // passei para cá o CONTROLLER , já que o campo de mensagem de saudação não existe na minha versão. Há duas maneiras de abrir o COLORPICKER, no focus e clicando no conta gostas, no FOCUS estava dando erro, por isso passei para esse campo o CONTROLLER\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.color\")}\n\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\t\t\t\t\tsetColorPickerModalOpen(true);\n\t\t\t\t\t\t\t\t\t\tgreetingRef.current.focus();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\topen={colorPickerModalOpen}\n\t\t\t\t\t\t\t\t\thandleClose={() => setColorPickerModalOpen(false)}\n\t\t\t\t\t\t\t\t\tonChange={color => {\n\t\t\t\t\t\t\t\t\t\tvalues.color = color;\n\t\t\t\t\t\t\t\t\t\tsetQueue(() => {\n\t\t\t\t\t\t\t\t\t\t\treturn { ...values, color };\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"queueModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{queueId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default QueueModal;\n","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport openSocket from \"../../services/socket-io\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\nimport jwt_decode from \"jwt-decode\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    const token = localStorage.getItem(\"token\");\n    const userJWT = jwt_decode(token);\n\n    socket.on(`queue-${userJWT.companyId}`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n  const handleCloseQueueModal = () => {\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;\n","import React, { useEffect, useState } from \"react\";\nimport { Field } from \"formik\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst QueueSelectSingle = () => {\n    const classes = useStyles();\n    const [queues, setQueues] = useState([]);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const { data } = await api.get(\"/queue\");\n                //console.log('Queue => ', data);\n                //console.log('Queue Type => ', typeof (data));\n                setQueues(data);\n            } catch (err) {\n                toastError(err);\n            }\n        })();\n    }, []);\n\n    return (\n        <div style={{ marginTop: 6 }}>\n            <FormControl\n                variant=\"outlined\"\n                className={classes.FormControl}\n                margin=\"dense\"\n                fullWidth\n            >\n                <InputLabel id=\"queue-selection-input-label\">\n                    {i18n.t(\"queueSelect.inputLabel\")}\n                </InputLabel>\n\n                <Field\n                    as={Select}\n                    label={i18n.t(\"queueSelect.inputLabel\")}\n                    name=\"queueId\"\n                    labelId=\"queue-selection-label\"\n                    id=\"queue-selection\"\n                >\n                    {queues.map(queue => (\n                        <MenuItem key={queue.id} value={queue.id}>\n                            {queue.name}\n                        </MenuItem>\n                    ))}\n                </Field>\n\n            </FormControl>\n        </div>\n    );\n};\n\nexport default QueueSelectSingle;\n","import React, { useEffect, useState } from \"react\";\nimport { Field } from \"formik\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSelect = () => {\n    const classes = useStyles();\n    const [users, setUsers] = useState([]);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const { data } = await api.get(\"/users\");\n                setUsers(data.users);\n            } catch (err) {\n                toastError(err);\n            }\n        })();\n    }, []);\n\n    return (\n        <div style={{ marginTop: 6 }}>\n            <FormControl\n                variant=\"outlined\"\n                className={classes.FormControl}\n                margin=\"dense\"\n                fullWidth\n            >\n                <InputLabel id=\"user-selection-input-label\">\n                    {i18n.t(\"botModal.form.userId\")}\n                </InputLabel>\n\n                <Field\n                    as={Select}\n                    label={i18n.t(\"botModal.form.userId\")}\n                    name=\"userId\"\n                    labelId=\"user-selection-label\"\n                    id=\"user-selection\"\n                >\n                    {users.map(user => (\n                        <MenuItem key={user.id} value={user.id}>\n                            {user.name}\n                        </MenuItem>\n                    ))}\n                </Field>\n\n            </FormControl>\n        </div>\n    );\n};\n\nexport default UserSelect;\n","import React, { useState } from \"react\";\nimport { Field } from \"formik\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n}));\n\nconst CommandTypeSelect = ({ selectedCommandId, onChange }) => {\n    const classes = useStyles();\n    //const [comando, setComando] = useState({ selectedCommandId });\n\n    const handleChange = e => {\n        //setComando(e.target.value);\n        onChange(\n            e.target.value == '1' ? { queues: false, users: false, message: true, descriptionBot: true, commandType: e.target.value } :\n                e.target.value == '2' ? { queues: false, users: false, message: false, descriptionBot: true, commandType: e.target.value } :\n                    e.target.value == '3' ? { queues: true, users: false, message: true, descriptionBot: false, commandType: e.target.value } :\n                        e.target.value == '4' ? { queues: false, users: true, message: true, descriptionBot: false, commandType: e.target.value } :\n                            { queues: false, users: false, message: false, descriptionBot: false, commandType: \"\" }\n        );\n    };\n    return (\n        <div style={{ marginTop: 6 }}>\n            <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                margin=\"dense\"\n            >\n                <InputLabel id=\"profile-selection-input-label\">\n                    {i18n.t(\"botModal.form.commandType\")}\n                </InputLabel>\n\n                <Field\n                    as={Select}\n                    label={i18n.t(\"botModal.form.commandType\")}\n                    name=\"commandType\"\n                    labelId=\"profile-selection-label\"\n                    id=\"profile-selection\"\n                    required\n                    value={selectedCommandId}\n                    onChange={handleChange}\n                >\n                    <MenuItem key=\"1\" value=\"1\">Informativo</MenuItem>\n                    <MenuItem key=\"2\" value=\"2\">Menu</MenuItem>\n                    <MenuItem key=\"3\" value=\"3\">Setor</MenuItem>\n                    <MenuItem key=\"4\" value=\"4\">Atendente</MenuItem>\n                </Field>\n            </FormControl>\n        </div>);\n};\n\nexport default CommandTypeSelect;","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport QueueSelectSingle from \"../QueueSelectSingle\";\nimport UserSelect from \"../UserSelect\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport CommandTypeSelect from \"../CommandTypeSelect\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst CommandSchema = Yup.object().shape({\n\tcommandBot: Yup.string()\n\t\t.min(1, \"Muito curto!\")\n\t\t.max(50, \"Muito longo!\")\n\t\t.required(\"Obrigatório\"),\n\tcommandType: Yup.number(),\n});\n\nconst CommandModal = ({ open, onClose, commandId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tcommandBot: \"\",\n\t\tcommandType: \"\",\n\t\tdescriptionBot: \"\",\n\t\tshowMessage: \"\",\n\t\tuserId: null,\n\t\tqueueId: null,\n\t};\n\n\tconst [selectedCommandTypeId, setSelectedCommandTypeId] = useState(\"\");\n\tconst [showFields, setShowFields] = useState({ queues: false, users: false, message: false, descriptionBot: false, commandType: \"\" });\n\tconst [command, setCommand] = useState(initialState);\n\tconst greetingRef = useRef();\n\n\n\tuseEffect(() => {\n\t\tconst fetchCommand = async () => {\n\t\t\tsetShowFields({ queues: false, users: false, message: false, descriptionBot: false, commandType: \"\" });\n\t\t\t//setSelectedCommandTypeId(\"\");\n\t\t\tif (!commandId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/bot/${commandId}`);\n\t\t\t\tsetCommand(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\n\t\t\t\tswitch (data.commandType) {\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tsetShowFields({ queues: false, users: false, message: true, descriptionBot: true, commandType: data.commandType });\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tsetShowFields({ queues: false, users: false, message: false, descriptionBot: true, commandType: data.commandType });\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tsetShowFields({ queues: true, users: false, message: true, descriptionBot: false, commandType: data.commandType });\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tsetShowFields({ queues: false, users: true, message: true, descriptionBot: false, commandType: data.commandType });\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchCommand();\n\t}, [commandId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetCommand(initialState);\n\t};\n\n\tconst handleSaveCommand = async values => {\n\t\tconst commandData = { ...values };\n\t\ttry {\n\t\t\tcommandData.commandType = showFields.commandType;\n\t\t\tconsole.log('Dados => ', commandData);\n\t\t\tif (commandId) {\n\t\t\t\tawait api.put(`/bot/${commandId}`, commandData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/bot\", commandData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"botModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{commandId\n\t\t\t\t\t\t? `${i18n.t(\"botModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"botModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={command}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={CommandSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveCommand(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"botModal.form.commandBot\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"commandBot\"\n\t\t\t\t\t\t\t\t\t\terror={touched.commandBot && Boolean(errors.commandBot)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.commandBot && errors.commandBot}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<CommandTypeSelect\n\t\t\t\t\t\t\t\t\t\tselectedCommandId={showFields.commandType}\n\t\t\t\t\t\t\t\t\t\tonChange={values => setShowFields(values)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{showFields.descriptionBot && <Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"botModal.form.descriptionBot\")}\n\t\t\t\t\t\t\t\t\tname=\"descriptionBot\"\n\t\t\t\t\t\t\t\t\terror={touched.descriptionBot && Boolean(errors.descriptionBot)}\n\t\t\t\t\t\t\t\t\thelperText={touched.descriptionBot && errors.descriptionBot}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t{showFields.users && <UserSelect />}\n\t\t\t\t\t\t\t\t{showFields.queues && <QueueSelectSingle />}\n\t\t\t\t\t\t\t\t{showFields.message && <Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"botModal.form.showMessage\")}\n\t\t\t\t\t\t\t\t\tname=\"showMessage\"\n\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\tinputRef={greetingRef}\n\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\terror={touched.showMessage && Boolean(errors.showMessage)}\n\t\t\t\t\t\t\t\t\thelperText={touched.showMessage && errors.showMessage}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"botModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{commandId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"botModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"botModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default CommandModal;\n","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport openSocket from \"socket.io-client\";\n\nimport {\n    Button,\n    IconButton,\n    makeStyles,\n    Paper,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport BotModal from \"../../components/CommandModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport MenuModal from \"../../components/MenuModal\";\n\nconst useStyles = makeStyles((theme) => ({\n    mainPaper: {\n        flex: 1,\n        padding: theme.spacing(1),\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n    },\n    customTableCell: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n}));\n\nconst reducer = (state, action) => {\n    if (action.type === \"LOAD_BOTS\") {\n        const bots = action.payload;\n        const newBots = [];\n\n        bots.forEach((bot) => {\n            const botIndex = state.findIndex((q) => q.id === bot.id);\n            if (botIndex !== -1) {\n                state[botIndex] = bot;\n            } else {\n                newBots.push(bot);\n            }\n        });\n\n        return [...state, ...newBots];\n    }\n\n    if (action.type === \"UPDATE_BOTS\") {\n        const bot = action.payload;\n        const botIndex = state.findIndex((u) => u.id === bot.id);\n\n        if (botIndex !== -1) {\n            state[botIndex] = bot;\n            return [...state];\n        } else {\n            return [...state,bot];\n        }\n    }\n\n    if (action.type === \"DELETE_BOT\") {\n        const botId = action.payload;\n        console.log('BOTID => ', botId);\n        const botIndex = state.findIndex((q) => q.id === botId);\n        if (botIndex !== -1) {\n            state.splice(botIndex, 1);\n        }\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst Bots = () => {\n    const classes = useStyles();\n\n    const [bots, dispatch] = useReducer(reducer, []);\n    const [loading, setLoading] = useState(false);\n\n    const [botModalOpen, setBotModalOpen] = useState(false);\n    const [menuModalOpen, setMenuModalOpen] = useState(false);\n    const [selectedBot, setSelectedBot] = useState(null);\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n    useEffect(() => {\n        (async () => {\n            setLoading(true);\n            try {\n                const { data } = await api.get(\"/bot\");\n                dispatch({ type: \"LOAD_BOTS\", payload: data });\n                setLoading(false);\n            } catch (err) {\n                toastError(err);\n                setLoading(false);\n            }\n        })();\n    }, []);\n\n    useEffect(() => {\n        const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n        socket.on(\"bot\", (data) => {\n            if (data.action === \"update\" || data.action === \"create\") {\n                dispatch({ type: \"UPDATE_BOTS\", payload: data.bot });\n            }\n\n            if (data.action === \"delete\") {\n                console.log('ACTION DELETE =>', data);\n                dispatch({ type: \"DELETE_BOT\", payload: data.botId });\n            }\n        });\n\n        return () => {\n            socket.disconnect();\n        };\n    }, []);\n\n    const handleOpenMenuModal = () => {\n        setMenuModalOpen(true);\n    };\n\n    const handleCloseMenuModal = () => {\n        setMenuModalOpen(false);\n    };\n\n    const handleOpenBotModal = () => {\n        setBotModalOpen(true);\n        setSelectedBot(null);\n    };\n\n    const handleCloseBotModal = () => {\n        setBotModalOpen(false);\n        setSelectedBot(null);\n    };\n\n    const handleEditBot = (bot) => {\n        setSelectedBot(bot);\n        setBotModalOpen(true);\n    };\n\n    const handleCloseConfirmationModal = () => {\n        setConfirmModalOpen(false);\n        setSelectedBot(null);\n    };\n\n    const handleDeleteBot = async (botId) => {\n        try {\n            await api.delete(`/bot/${botId}`);\n            toast.success(`${i18n.t(\"bots.messages.deleted\")}`);\n        } catch (err) {\n            toastError(err);\n        }\n        setSelectedBot(null);\n    };\n\n    return (\n        <MainContainer>\n            <ConfirmationModal\n                title={\n                    selectedBot &&\n                    `${i18n.t(\"bots.confirmationModal.deleteTitle\")} ${selectedBot.commandBot\n                    }?`\n                }\n                open={confirmModalOpen}\n                onClose={handleCloseConfirmationModal}\n                onConfirm={() => handleDeleteBot(selectedBot.id)}\n            >\n                {i18n.t(\"bots.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <BotModal\n                open={botModalOpen}\n                onClose={handleCloseBotModal}\n                commandId={selectedBot?.id}\n            />\n            <MenuModal\n                open={menuModalOpen}\n                onClose={handleCloseMenuModal}\n                data={bots}\n            />\n            <MainHeader>\n                <Title>{i18n.t(\"bots.title\")}</Title>\n                <MainHeaderButtonsWrapper>\n                    <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        onClick={handleOpenMenuModal}\n                    >\n                        {i18n.t(\"bots.buttons.hierarchy\")}\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleOpenBotModal}\n                    >\n                        {i18n.t(\"bots.buttons.add\")}\n                    </Button>\n                </MainHeaderButtonsWrapper>\n            </MainHeader>\n            <Paper className={classes.mainPaper} variant=\"outlined\">\n                <Table size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align=\"left\">\n                                {i18n.t(\"bots.table.commandBot\")}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"bots.table.commandType\")}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"bots.table.actions\")}\n                            </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        <>\n                            {bots.map((bot) => (\n                                <TableRow key={bot.id}>\n                                    <TableCell align=\"left\">{bot.commandBot}</TableCell>\n                                    <TableCell align=\"center\">\n                                        {bot.commandType == '1' ? 'Informativo' :\n                                            bot.commandType == '2' ? 'Menu' :\n                                                bot.commandType == '3' ? 'Setor' :\n                                                    bot.commandType == '4' ? 'Atendente' :\n                                                        'Erro'}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={() => handleEditBot(bot)}\n                                        >\n                                            <Edit />\n                                        </IconButton>\n\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={() => {\n                                                setSelectedBot(bot);\n                                                setConfirmModalOpen(true);\n                                            }}\n                                        >\n                                            <DeleteOutline />\n                                        </IconButton>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                            {loading && <TableRowSkeleton columns={3} />}\n                        </>\n                    </TableBody>\n                </Table>\n            </Paper>\n        </MainContainer>\n    );\n};\n\nexport default Bots;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: theme.spacing(2),\n    },\n\n    paper: {\n        padding: theme.spacing(2),\n        display: \"flex\",\n        alignItems: \"center\",\n        marginBottom: 12,\n    },\n\n    settingOption: {\n        marginLeft: \"auto\",\n    },\n\n    margin: {\n        margin: theme.spacing(1),\n    },\n\n    color: {\n        color: \"#0241AD\"\n    },\n\n    text: {\n        marginLeft: \"42px\",\n    },\n\n    textP: {\n        marginLeft: \"42px\",\n    },\n\n}));\n\nconst Api = () => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <Container>\n                <h2>Documentação para envio de mensagens</h2>\n\n                <h2 className={classes.color}>Métodos de Envio</h2>\n\n                <p className={classes.text}>1. Mensagens de Texto</p>\n                <p className={classes.text}>2. Mensagens de Mídia</p>\n\n                <h2 className={classes.color}>Instruções</h2>\n                <p><b>Observações Importantes</b></p>\n                <ul>\n                    <li>Para pegar o token da API, vá em configurações que seu token estará la, sem ele não será possivel enviar mensagens.</li>\n                    <li>O número para envio não deve ter mascara ou caracteres especiais e deve ser composto por:</li>\n                    <br />\n                    <ol>\n                        <ul>\n                            <li>Código do pais - Ex: 55 (Brasil)</li>\n                            <li>DDD</li>\n                            <li>Número</li>\n                        </ul>\n                    </ol>\n                </ul>\n                <h2 className={classes.color}>1. Mensagens de Texto</h2>\n                <p>Seguem abaixo lista de informacoes necessárias para envio das mensagens de texto:</p>\n                <p className={classes.textP}><b>URL: </b>{process.env.REACT_APP_BACKEND_URL}/api/messages/send</p>\n                <p className={classes.textP}><b>Metódo: </b>POST</p>\n                <p className={classes.textP}><b>Headers: </b>Authorization: Bearer (token) e Content-Type application/json</p>\n                <p className={classes.textP}><b>Body: </b>\"number\": \"5599999999999\", \"body\": \"Enviado via api\"</p>\n\n                <h2 className={classes.color}>2. Mensagens de Mídia</h2>\n                <p>Seguem abaixo lista de informacoes necessárias para envio de midias:</p>\n                <p className={classes.textP}><b>URL: </b>{process.env.REACT_APP_BACKEND_URL}/api/messages/send</p>\n                <p className={classes.textP}><b>Metódo: </b>POST</p>\n                <p className={classes.textP}><b>Headers: </b>Authorization: Bearer (token) e Content-Type multipart/form-data</p>\n                <p className={classes.textP}><b>Body: </b>\"number\": \"5599999999999\", \"medias\": \"aqui vai sua midia\", \"body\": \"Enviado via api\"</p>\n            </Container>\n        </div>\n    );\n};\n\nexport default Api; \n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n  const { isAuth, loading } = useContext(AuthContext);\n\n  if (!isAuth && isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n      </>\n    );\n  }\n\n  if (isAuth && !isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n      </>\n    );\n  }\n\n  return (\n    <>\n      {loading && <BackdropLoading />}\n      <RouterRoute {...rest} component={Component} />\n    </>\n  );\n};\n\nexport default Route;\n","import React from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport LoggedInLayout from \"../layout\";\nimport Dashboard from \"../pages/Dashboard/\";\nimport Tickets from \"../pages/Tickets/\";\nimport Signup from \"../pages/Signup/\";\nimport Login from \"../pages/Login/\";\nimport Connections from \"../pages/Connections/\";\nimport Settings from \"../pages/Settings/\";\nimport Users from \"../pages/Users\";\nimport Companies from \"../pages/Companies/\"\nimport Contacts from \"../pages/Contacts/\";\nimport QuickAnswers from \"../pages/QuickAnswers/\";\nimport Queues from \"../pages/Queues/\";\nimport Bots from \"../pages/Bots\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport Api from \"../pages/Api/\";\nimport Route from \"./Route\";\n\nconst Routes = () => {\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <WhatsAppsProvider>\n            <LoggedInLayout>\n              <Route exact path=\"/\" component={Dashboard} isPrivate />\n              <Route\n                exact\n                path=\"/tickets/:ticketId?\"\n                component={Tickets}\n                isPrivate\n              />\n              <Route\n                exact\n                path=\"/connections\"\n                component={Connections}\n                isPrivate\n              />\n              <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n              <Route exact path=\"/users\" component={Users} isPrivate />\n              <Route exact path=\"/companies\" component={Companies} isPrivate />\n              <Route\n                exact\n                path=\"/quickAnswers\"\n                component={QuickAnswers}\n                isPrivate\n              />\n              <Route exact path=\"/Settings\" component={Settings} isPrivate />\n              <Route exact path=\"/Queues\" component={Queues} isPrivate />\n              <Route exact path=\"/Bots\" component={Bots} isPrivate />\n              <Route exact path=\"/api\" component={Api} isPrivate />\n            </LoggedInLayout>\n          </WhatsAppsProvider>\n        </Switch>\n        <ToastContainer autoClose={3000} />\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\nimport Routes from \"./routes\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { ptBR } from \"@material-ui/core/locale\";\n\nconst App = () => {\n  const [locale, setLocale] = useState();\n\n  const theme = createTheme(\n    {\n      scrollbarStyles: {\n        \"&::-webkit-scrollbar\": {\n          width: \"8px\",\n          height: \"8px\",\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n          boxShadow: \"inset 0 0 6px rgba(0, 0, 0, 0.3)\",\n          backgroundColor: \"#0A408A\",\n        },\n      },\n      palette: {\n        primary: { main: \"#0A408A\" },\n      },\n    },\n    locale\n  );\n\n  useEffect(() => {\n    const i18nlocale = localStorage.getItem(\"i18nextLng\");\n    const browserLocale =\n      i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n    if (browserLocale === \"ptBR\") {\n      setLocale(ptBR);\n    }\n  }, []);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Routes />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\")\n);\n\n// ReactDOM.render(\n// \t<React.StrictMode>\n// \t\t<CssBaseline>\n// \t\t\t<App />\n// \t\t</CssBaseline>,\n//   </React.StrictMode>\n\n// \tdocument.getElementById(\"root\")\n// );\n","import axios from \"axios\";\nimport { getBackendUrl } from \"../config\";\n\nconst api = axios.create({\n\tbaseURL: getBackendUrl(),\n\twithCredentials: true,\n});\n\nexport default api;\n"],"sourceRoot":""}